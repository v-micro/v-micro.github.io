<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="keywords" content="吃的苦中苦，方能开路虎">
<meta name="description" content="此身此时此地，所见所闻所想">
<meta name="theme-color" content="#000">
<title>加密算法总结 | 蔡小辉</title>
<link rel="shortcut icon" href="/favicon.ico?v=1640231026402">
<link rel="stylesheet" href="/media/css/pisces.css">
<link rel="stylesheet" href="/media/fonts/font-awesome.css">
<link
  href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Rosario:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext"
  rel="stylesheet" type="text/css">

<link href="/media/hljs/styles/default.css"
  rel="stylesheet">

<link rel="stylesheet" href="/styles/main.css">
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<script src="/media/js/jquery.js"></script>
<script src="/media/hljs/highlight.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.ui.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css"
  integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">


<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js"
  integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js"
  integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
  onload="renderMathInElement(document.body);"></script>






  <meta name="description" content="加密算法总结" />
  <meta name="keywords" content="" />
</head>

<body>
  <div class="head-top-line"></div>
  <div class="header-box">
    
<div class="pisces">
  <header class="header  ">
    <div class="blog-header box-shadow-wrapper bg-color " id="header">
      <div class="nav-toggle" id="nav_toggle">
        <div class="toggle-box">
          <div class="line line-top"></div>
          <div class="line line-center"></div>
          <div class="line line-bottom"></div>
        </div>
      </div>
      <div class="site-meta">       
        <div class="site-title">
          
            <a href="/" class="brand">
              <span>蔡小辉</span>
            </a>  
          
        </div>
        
          <p class="subtitle">吃的苦中苦，方能开路虎</p>
        
      </div>
      <nav class="site-nav" id="site_nav">
        <ul id="nav_ul">
          
            
            
            <li class="nav-item ">
              
              
                <a href="/" target="_self">
                  <i class="fa fa-home"></i> 首页
                </a>
              
            </li>
          
            
            
            <li class="nav-item ">
              
              
                <a href="/tags/" target="_self">
                  <i class="fa fa-tags"></i> 标签
                </a>
              
            </li>
          
            
            
            <li class="nav-item ">
              
              
                <a href="/archives/" target="_self">
                  <i class="fa fa-archive"></i> 记录
                </a>
              
            </li>
          
            
            
            <li class="nav-item ">
              
              
                <a href="https://github.com/v-micro/" target="_blank">
                  <i class="fa fa-globe"></i> github
                </a>
              
            </li>
          
          
          
            <li id="fa_search" class="nav-item">
              <a href="javascript:void(0);">
                <i class="fa fa-search"></i> <span class="language" data-lan="search">搜索</span>
              </a>
            </li>
          
        </ul>
      </nav>
    </div>
  </header>
</div>

<script type="text/javascript"> 
 
  let showNav = true;

  let navToggle = document.querySelector('#nav_toggle'),
  siteNav = document.querySelector('#site_nav');
  
  function navClick() {
    let sideBar = document.querySelector('.sidebar');
    let navUl = document.querySelector('#nav_ul');
    navToggle.classList.toggle('nav-toggle-active');
    siteNav.classList.toggle('nav-menu-active');
    if (siteNav.classList.contains('nav-menu-active')) {
      siteNav.style = "height: " + (navUl.children.length * 42) +"px !important";
    } else {
      siteNav.style = "";
    }
  }

  navToggle.addEventListener('click',navClick);  
</script>
  </div>
  <div class="main-continer">
    
    <div
      class="section-layout pisces ">
      <div class="section-layout-wrapper">
        

<div class="sidebar">
  
    <div class="sidebar-box box-shadow-wrapper bg-color right-motion" id="sidebar">
      
        <div class="post-list-sidebar">
          <div class="sidebar-title">
            <span id="tocSideBar" class="sidebar-title-item sidebar-title-active language" data-lan="index">文章目录</span>
            <span id="metaSideBar" class="sidebar-title-item language" data-lan="preview">站点概览</span>
          </div>
        </div>
      
      <div class="sidebar-body pisces" id="sidebar_body">
        
          
            <div class="post-side-meta" id="post_side_meta">
              
<div class="sidebar-wrapper box-shadow-wrapper bg-color">
  <div class="sidebar-item">
    <img class="site-author-image right-motion" src="/images/avatar.png"/>
    <p class="site-author-name">蔡小辉</p>
    
  </div>
  <div class="sidebar-item side-item-stat right-motion">
    <div class="sidebar-item-box">
      <a href="/archives/">
        
        <span class="site-item-stat-count">26</span>
        <span class="site-item-stat-name language" data-lan="article">文章</span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="">
        <span class="site-item-stat-count">6</span>
        <span class="site-item-stat-name language" data-lan="category">分类</span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="/tags/">
        <span class="site-item-stat-count">6</span>
        <span class="site-item-stat-name language" data-lan="tag">标签</span>
      </a>
    </div>
  </div>
  
    
  
  

  



</div>
            </div>
            <div class="post-toc sidebar-body-active" id="post_toc" style="opacity: 1;">
              <div class="toc-box right-motion">
  <div class="toc-wrapper auto-number auto"
    id="toc_wrapper">
    <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#md5%E5%8A%A0%E5%AF%86">MD5加密</a></li>
<li><a href="#hmac%E5%8A%A0%E5%AF%86">hmac加密</a></li>
<li><a href="#sha1">sha1</a></li>
<li><a href="#aes">AES</a></li>
<li><a href="#rsa%E5%8A%A0%E5%AF%86">RSA加密</a></li>
</ul>
</li>
</ul>

  </div>
</div>

<script>

  let lastTop = 0, lList = [], hList = [], postBody, lastIndex = -1;
  let active = 'active-show', activeClass = 'active-current';
  let tocWrapper = document.querySelector('#toc_wrapper');
  let tocContent = tocWrapper.children[0];
  let autoNumber = tocWrapper && tocWrapper.classList.contains('auto-number');

  function addTocNumber(elem, deep) {
    if (!elem) {
      return;
    }
    let prop = elem.__proto__;

    if (prop === HTMLUListElement.prototype) {
      for (let i = 0; i < elem.children.length; i++) {
        addTocNumber(elem.children[i], deep + (i + 1) + '.');
      }
    } else if (prop === HTMLLIElement.prototype) {
      // 保存li元素
      if (elem.children[0] && elem.children[0].__proto__ === HTMLAnchorElement.prototype) {
        lList.push(elem);
      }
      for (let i = 0; i < elem.children.length; i++) {
        let cur = elem.children[i];
        if (cur.__proto__ === HTMLAnchorElement.prototype) {
          if (autoNumber) {
            cur.text = deep + ' ' + cur.text;
          }
        } else if (cur.__proto__ === HTMLUListElement.prototype) {
          addTocNumber(cur, deep);
        }
      }
    }
  }

  function removeParentActiveClass() {
    let parents = tocContent.querySelectorAll('.' + active)
    parents.forEach(function (elem) {
      elem.classList.remove(active);
    });
  }

  function addActiveClass(index) {
    if (index >= 0 && index < hList.length) {
      lList[index].classList.add(activeClass);
    }
  }

  function removeActiveClass(index) {
    if (index >= 0 && index < hList.length) {
      lList[index].classList.remove(activeClass);
    }
  }

  function addActiveLiElemment(elem, parent) {
    if (!elem || elem === parent) {
      return;
    } else {
      if (elem.__proto__ === HTMLLIElement.prototype) {
        elem.classList.add(active);
      }
      addActiveLiElemment(elem.parentElement, parent);
    }
  }

  function showToc() {
    if (tocWrapper) {
      postBody = document.querySelector('#post_body');
      for (let i = 0; i < postBody.children.length; i++) {
        if (postBody.children[i].__proto__ === HTMLHeadingElement.prototype) {
          hList.push(postBody.children[i]);
        }
      }
      if (tocWrapper.classList.contains('compress')) {
        tocContent.classList.add('closed');
      } else if (tocWrapper.classList.contains('no_compress')) {
        tocContent.classList.add('expanded');
      } else {
        if (hList.length > 10) {
          active = 'active-hidden'
          tocContent.classList.add('closed');
        } else {
          tocContent.classList.add('expanded');
        }
      }
    }
  }

  (function () {
    // 处理不是从#一级标题开始目录
    if (tocContent.children.length === 1 && tocContent.children[0].__proto__ === HTMLLIElement.prototype) {
      let con = tocContent.children[0].children[0];
      tocContent.innerHTML = con.innerHTML;
    }
    let markdownItTOC = document.querySelector('.markdownIt-TOC');
    let innerHeight = window.innerHeight;
    markdownItTOC.style = `max-height: ${innerHeight - 80 > 0 ? innerHeight - 80 : innerHeight}px`
    addTocNumber(tocContent, '');
  })();

  document.addEventListener('scroll', function (e) {
    if (lList.length <= 0) {
      return;
    }
    let scrollTop = document.scrollingElement.scrollTop + 10;
    let dir;

    if (lastTop - scrollTop > 0) {
      dir = 'up';
    } else {
      dir = 'down';
    }

    lastTop = scrollTop;
    if (scrollTop <= 0) {
      if (lastIndex >= 0 && lastIndex < hList.length) {
        lList[lastIndex].classList.remove(activeClass);
      }
      return;
    }

    let current = 0, hasFind = false;
    for (let i = 0; i < hList.length; i++) {
      if (hList[i].offsetTop > scrollTop) {
        current = i;
        hasFind = true;
        break;
      }
    }
    if (!hasFind && scrollTop > lList[lList.length - 1].offsetTop) {
      current = hList.length - 1;
    } else {
      current--;
    }
    if (dir === 'down') {
      if (current > lastIndex) {
        addActiveClass(current);
        removeActiveClass(lastIndex)
        lastIndex = current;
        removeParentActiveClass();
        lList[current] && addActiveLiElemment(lList[current].parentElement, tocContent);
      }
    } else {
      if (current < lastIndex) {
        addActiveClass(current);
        removeActiveClass(lastIndex);
        lastIndex = current;
        removeParentActiveClass();
        lList[current] && addActiveLiElemment(lList[current].parentElement, tocContent);
      }
    }
  });


  window.addEventListener('load', function () {
    showToc();
    document.querySelector('#sidebar').style = 'display: block;';
    tocWrapper.classList.add('toc-active');
    setTimeout(function () {
      if ("createEvent" in document) {
        let evt = document.createEvent("HTMLEvents");
        evt.initEvent("scroll", false, true);
        document.dispatchEvent(evt);
      }
      else {
        document.fireEvent("scroll");
      }
    }, 500)
  })

</script>
            </div>
          
        
      </div>
    </div>
  
</div>
<script>
  const SIDEBAR_TITLE_ACTIVE = 'sidebar-title-active';
  const SIDEBAR_BODY_ACTIVE = 'sidebar-body-active';
  const SLIDE_UP_IN = 'slide-up-in';

  let sidebar = document.querySelector('#sidebar'),
  tocSideBar = document.querySelector('#tocSideBar'),
  metaSideBar = document.querySelector('#metaSideBar'),
  postToc = document.querySelector('#post_toc'),
  postSiteMeta = document.querySelector('#post_side_meta'),
  sidebarTitle = document.querySelector('.sidebar-title'),
  sidebarBody = document.querySelector('#sidebar_body');

  tocSideBar && tocSideBar.addEventListener('click', (e) => {
    toggleSidebar(e);
  });

  metaSideBar && metaSideBar.addEventListener('click', (e) => {
    toggleSidebar(e);
  });

  function toggleSidebar(e) {
    let currentTitle = document.querySelector("."+SIDEBAR_TITLE_ACTIVE);
    if (currentTitle == e.srcElement) {
      return ;
    }
    let current, showElement, hideElement;
    if (e.srcElement == metaSideBar) {
      showElement = postSiteMeta;
      hideElement = postToc;
    } else if (e.srcElement == tocSideBar){
      showElement = postToc;
      hideElement = postSiteMeta;
    }
    currentTitle.classList.remove(SIDEBAR_TITLE_ACTIVE);
    e.srcElement.classList.add(SIDEBAR_TITLE_ACTIVE);

    jQuery.Velocity(hideElement, 'stop');
    jQuery.Velocity(hideElement, 'transition.slideUpOut', {
      display: 'none',
      duration: 200,
      complete: function () {
        jQuery.Velocity(showElement, 'transition.slideDownIn', {
          duration: 200
        });
      }
    })
    hideElement.classList.remove(SIDEBAR_BODY_ACTIVE);
    showElement.classList.add(SIDEBAR_BODY_ACTIVE);
  }

  postToc && postToc.addEventListener('transitionend', function() {
    this.classList.remove(SLIDE_UP_IN);
  });

  if (sidebarBody) {
    if (sidebarBody.classList.contains('pisces') || sidebarBody.classList.contains('gemini')) {
      let hasFix = false;
      let scrollEl = document.querySelector('.main-continer');
      let limitTop = document.querySelector('#nav_ul').children.length * 42 + 162;
      window.addEventListener('scroll', function(e) {
        if (document.scrollingElement.scrollTop >= limitTop) {
          if (!hasFix) {
            sidebar.classList.add('sidebar-fixed');
            hasFix = true;
          }
        } else {
          if (hasFix) {
            sidebar.classList.remove('sidebar-fixed');
            hasFix = false;
          }
        }
      });
    }
  }
  
</script>
        <div class="section-box box-shadow-wrapper">
          <div class="section bg-color post post-page">
            <section class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://v-micro.github.io/post/jia-mi-suan-fa-zong-jie/">
      加密算法总结
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span class="language" data-lan="publish">发布于</span>
      <span class="publish-time" data-t="2021-06-28 16:49:00">2021-06-28</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>10<span class="language" data-lan="minute">分钟</span></span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>1689<span class="pc-show language" data-lan="words">字数</span></span>
    </span>
    
  </div>
</section>
            <div class="post-body next-md-body" id="post_body">
              <p>加密解密在实际开发中应用比较广泛，常用加解密分为：“对称式”、“非对称式”和”数字签名“。</p>
<p>对称式：对称加密(也叫私钥加密)指加密和解密使用相同密钥的加密算法。具体算法主要有DES算法，3DES算法，TDEA算法，Blowfish算法，RC5算法，IDEA算法。</p>
<p>非对称加密(公钥加密)：指加密和解密使用不同密钥的加密算法，也称为公私钥加密。具体算法主要有RSA、Elgamal、背包算法、Rabin、D-H、ECC（椭圆曲线加密算法）。</p>
<p>数字签名：数字签名是非对称密钥加密技术与数字摘要技术的应用。主要算法有md5、hmac、sha1等。</p>
<h2 id="md5加密">MD5加密</h2>
<pre><code>h := md5.New()
h.Write([]byte(s))
return hex.EncodeToString(h.Sum(nil))
</code></pre>
<h2 id="hmac加密">hmac加密</h2>
<pre><code>//key随意设置 data 要加密数据
func Hmac(key, data string) string {
	hash:= hmac.New(md5.New, []byte(key)) // 创建对应的md5哈希加密算法
	hash.Write([]byte(data))
	return hex.EncodeToString(hash.Sum([]byte(&quot;&quot;)))
}
func HmacSha256(key, data string) string {
	hash:= hmac.New(sha256.New, []byte(key)) //创建对应的sha256哈希加密算法
	hash.Write([]byte(data))
	return hex.EncodeToString(hash.Sum([]byte(&quot;&quot;)))
}
</code></pre>
<h2 id="sha1">sha1</h2>
<pre><code>func Sha1(data string) string {
	sha1 := sha1.New()
	sha1.Write([]byte(data))
	return hex.EncodeToString(sha1.Sum([]byte(&quot;&quot;)))
}
</code></pre>
<h2 id="aes">AES</h2>
<p>AES 的五种加密模式<br>
电码本模式（Electronic Codebook Book (ECB)）<br>
密码分组链接模式（Cipher Block Chaining (CBC)）<br>
计算器模式（Counter (CTR)）<br>
密码反馈模式（Cipher FeedBack (CFB)）<br>
输出反馈模式（Output FeedBack (OFB)）</p>
<pre><code># ECB 加密方式
func AESEncrypt(src []byte, key []byte) (encrypted []byte) {
	cipher, _ := aes.NewCipher(generateKey(key))
	length := (len(src) + aes.BlockSize) / aes.BlockSize
	plain := make([]byte, length*aes.BlockSize)
	copy(plain, src)
	pad := byte(len(plain) - len(src))
	for i := len(src); i &lt; len(plain); i++ {
		plain[i] = pad
	}
	encrypted = make([]byte, len(plain))
	// 分组分块加密
	for bs, be := 0, cipher.BlockSize(); bs &lt;= len(src); bs, be = bs+cipher.BlockSize(), be+cipher.BlockSize() {
		cipher.Encrypt(encrypted[bs:be], plain[bs:be])
	}

	return encrypted
}

func AESDecrypt(encrypted []byte, key []byte) (decrypted []byte) {
	cipher, _ := aes.NewCipher(generateKey(key))
	decrypted = make([]byte, len(encrypted))
	//
	for bs, be := 0, cipher.BlockSize(); bs &lt; len(encrypted); bs, be = bs+cipher.BlockSize(), be+cipher.BlockSize() {
		cipher.Decrypt(decrypted[bs:be], encrypted[bs:be])
	}

	trim := 0
	if len(decrypted) &gt; 0 {
		trim = len(decrypted) - int(decrypted[len(decrypted)-1])
	}

	return decrypted[:trim]
}

func generateKey(key []byte) (genKey []byte) {
	genKey = make([]byte, 16)
	copy(genKey, key)
	for i := 16; i &lt; len(key); {
		for j := 0; j &lt; 16 &amp;&amp; i &lt; len(key); j, i = j+1, i+1 {
			genKey[j] ^= key[i]
		}
	}
	return genKey
}
func main()  {
	source:=&quot;hello world&quot;
	fmt.Println(&quot;原字符：&quot;,source)
	//16byte密钥
	key:=&quot;1443flfsaWfdas&quot;
	encryptCode:=AESEncrypt([]byte(source),[]byte(key))
	fmt.Println(&quot;密文：&quot;,string(encryptCode))
	decryptCode:=AESDecrypt(encryptCode,[]byte(key))
	fmt.Println(&quot;解密：&quot;,string(decryptCode))
}
</code></pre>
<pre><code># CBC 加密方式
func main() {
    orig := &quot;hello world&quot;
    key := &quot;0123456789012345&quot;
    fmt.Println(&quot;原文：&quot;, orig)
    encryptCode := AesEncrypt(orig, key)
    fmt.Println(&quot;密文：&quot; , encryptCode)
    decryptCode := AesDecrypt(encryptCode, key)
    fmt.Println(&quot;解密结果：&quot;, decryptCode)
}
func AesEncrypt(orig string, key string) string {
    // 转成字节数组
    origData := []byte(orig)
    k := []byte(key)
    // 分组秘钥
    // NewCipher该函数限制了输入k的长度必须为16, 24或者32
    block, _ := aes.NewCipher(k)
    // 获取秘钥块的长度
    blockSize := block.BlockSize()
    // 补全码
    origData = PKCS7Padding(origData, blockSize)
    // 加密模式
    blockMode := cipher.NewCBCEncrypter(block, k[:blockSize])
    // 创建数组
    cryted := make([]byte, len(origData))
    // 加密
    blockMode.CryptBlocks(cryted, origData)
    return base64.StdEncoding.EncodeToString(cryted)
}
func AesDecrypt(cryted string, key string) string {
    // 转成字节数组
    crytedByte, _ := base64.StdEncoding.DecodeString(cryted)
    k := []byte(key)
    // 分组秘钥
    block, _ := aes.NewCipher(k)
    // 获取秘钥块的长度
    blockSize := block.BlockSize()
    // 加密模式
    blockMode := cipher.NewCBCDecrypter(block, k[:blockSize])
    // 创建数组
    orig := make([]byte, len(crytedByte))
    // 解密
    blockMode.CryptBlocks(orig, crytedByte)
    // 去补全码
    orig = PKCS7UnPadding(orig)
    return string(orig)
}
//补码
//AES加密数据块分组长度必须为128bit(byte[16])，密钥长度可以是128bit(byte[16])、192bit(byte[24])、256bit(byte[32])中的任意一个。
func PKCS7Padding(ciphertext []byte, blocksize int) []byte {
    padding := blocksize - len(ciphertext)%blocksize
    padtext := bytes.Repeat([]byte{byte(padding)}, padding)
    return append(ciphertext, padtext...)
}
//去码
func PKCS7UnPadding(origData []byte) []byte {
    length := len(origData)
    unpadding := int(origData[length-1])
    return origData[:(length - unpadding)]
}
</code></pre>
<pre><code>#CRT 加密方式
//加密
func aesCtrCrypt(plainText []byte, key []byte) ([]byte, error) {

	//1. 创建cipher.Block接口
	block, err := aes.NewCipher(key)
	if err != nil {
		return nil, err
	}
	//2. 创建分组模式，在crypto/cipher包中
	iv := bytes.Repeat([]byte(&quot;1&quot;), block.BlockSize())
	stream := cipher.NewCTR(block, iv)
	//3. 加密
	dst := make([]byte, len(plainText))
	stream.XORKeyStream(dst, plainText)

	return dst, nil
}


func main() {
	source:=&quot;hello world&quot;
	fmt.Println(&quot;原字符：&quot;,source)

	key:=&quot;1443flfsaWfdasds&quot;
	encryptCode,_:=aesCtrCrypt([]byte(source),[]byte(key))
	fmt.Println(&quot;密文：&quot;,string(encryptCode))

	decryptCode,_:=aesCtrCrypt(encryptCode,[]byte(key))

	fmt.Println(&quot;解密：&quot;,string(decryptCode))
}
</code></pre>
<pre><code>#CFB 加密方式
func AesEncryptCFB(origData []byte, key []byte) (encrypted []byte) {
	block, err := aes.NewCipher(key)
	if err != nil {
		//panic(err)
	}
	encrypted = make([]byte, aes.BlockSize+len(origData))
	iv := encrypted[:aes.BlockSize]
	if _, err := io.ReadFull(rand.Reader, iv); err != nil {
		//panic(err)
	}
	stream := cipher.NewCFBEncrypter(block, iv)
	stream.XORKeyStream(encrypted[aes.BlockSize:], origData)
	return encrypted
}
func AesDecryptCFB(encrypted []byte, key []byte) (decrypted []byte) {
	block, _ := aes.NewCipher(key)
	if len(encrypted) &lt; aes.BlockSize {
		panic(&quot;ciphertext too short&quot;)
	}
	iv := encrypted[:aes.BlockSize]
	encrypted = encrypted[aes.BlockSize:]

	stream := cipher.NewCFBDecrypter(block, iv)
	stream.XORKeyStream(encrypted, encrypted)
	return encrypted
}
func main() {
	source:=&quot;hello world&quot;
	fmt.Println(&quot;原字符：&quot;,source)
	key:=&quot;ABCDEFGHIJKLMNO1&quot;//16位
	encryptCode:=AesEncryptCFB([]byte(source),[]byte(key))
	fmt.Println(&quot;密文：&quot;,hex.EncodeToString(encryptCode))
	decryptCode:=AesDecryptCFB(encryptCode,[]byte(key))

	fmt.Println(&quot;解密：&quot;,string(decryptCode))
}
</code></pre>
<pre><code>#OFB 加密方式
func aesEncryptOFB( data[]byte,key []byte) ([]byte, error) {
	data = PKCS7Padding(data, aes.BlockSize)
	block, _ := aes.NewCipher([]byte(key))
	out := make([]byte, aes.BlockSize + len(data))
	iv := out[:aes.BlockSize]
	if _, err := io.ReadFull(rand.Reader, iv); err != nil {
		return nil, err
	}

	stream := cipher.NewOFB(block, iv)
	stream.XORKeyStream(out[aes.BlockSize:], data)
	return out, nil
}

func aesDecryptOFB( data[]byte,key []byte) ([]byte, error) {
	block, _ := aes.NewCipher([]byte(key))
	iv  := data[:aes.BlockSize]
	data = data[aes.BlockSize:]
	if len(data) % aes.BlockSize != 0 {
		return nil, fmt.Errorf(&quot;data is not a multiple of the block size&quot;)
	}

	out := make([]byte, len(data))
	mode := cipher.NewOFB(block, iv)
	mode.XORKeyStream(out, data)

	out= PKCS7UnPadding(out)
	return out, nil
}
//补码
//AES加密数据块分组长度必须为128bit(byte[16])，密钥长度可以是128bit(byte[16])、192bit(byte[24])、256bit(byte[32])中的任意一个。
func PKCS7Padding(ciphertext []byte, blocksize int) []byte {
	padding := blocksize - len(ciphertext)%blocksize
	padtext := bytes.Repeat([]byte{byte(padding)}, padding)
	return append(ciphertext, padtext...)
}
//去码
func PKCS7UnPadding(origData []byte) []byte {
	length := len(origData)
	unpadding := int(origData[length-1])
	return origData[:(length - unpadding)]
}
func main() {
	source:=&quot;hello world&quot;
	fmt.Println(&quot;原字符：&quot;,source)
	key:=&quot;1111111111111111&quot;//16位  32位均可
	encryptCode,_:=aesEncryptOFB([]byte(source),[]byte(key))
	fmt.Println(&quot;密文：&quot;,hex.EncodeToString(encryptCode))
	decryptCode,_:=aesDecryptOFB(encryptCode,[]byte(key))

	fmt.Println(&quot;解密：&quot;,string(decryptCode))
}
</code></pre>
<h2 id="rsa加密">RSA加密</h2>
<pre><code># 私钥生成 
# openssl genrsa -out rsa_private_key.pem 1024

# 公钥: 根据私钥生成
# openssl rsa -in rsa_private_key.pem -pubout -out rsa_public_key.pem
</code></pre>
<p>代码处理</p>
<pre><code>var privateKey = []byte(`
-----BEGIN RSA PRIVATE KEY-----
MIICWwIBAAKBgQDcGsUIIAINHfRTdMmgGwLrjzfMNSrtgIf4EGsNaYwmC1GjF/bM
h0Mcm10oLhNrKNYCTTQVGGIxuc5heKd1gOzb7bdTnCDPPZ7oV7p1B9Pud+6zPaco
qDz2M24vHFWYY2FbIIJh8fHhKcfXNXOLovdVBE7Zy682X1+R1lRK8D+vmQIDAQAB
AoGAeWAZvz1HZExca5k/hpbeqV+0+VtobMgwMs96+U53BpO/VRzl8Cu3CpNyb7HY
64L9YQ+J5QgpPhqkgIO0dMu/0RIXsmhvr2gcxmKObcqT3JQ6S4rjHTln49I2sYTz
7JEH4TcplKjSjHyq5MhHfA+CV2/AB2BO6G8limu7SheXuvECQQDwOpZrZDeTOOBk
z1vercawd+J9ll/FZYttnrWYTI1sSF1sNfZ7dUXPyYPQFZ0LQ1bhZGmWBZ6a6wd9
R+PKlmJvAkEA6o32c/WEXxW2zeh18sOO4wqUiBYq3L3hFObhcsUAY8jfykQefW8q
yPuuL02jLIajFWd0itjvIrzWnVmoUuXydwJAXGLrvllIVkIlah+lATprkypH3Gyc
YFnxCTNkOzIVoXMjGp6WMFylgIfLPZdSUiaPnxby1FNM7987fh7Lp/m12QJAK9iL
2JNtwkSR3p305oOuAz0oFORn8MnB+KFMRaMT9pNHWk0vke0lB1sc7ZTKyvkEJW0o
eQgic9DvIYzwDUcU8wJAIkKROzuzLi9AvLnLUrSdI6998lmeYO9x7pwZPukz3era
zncjRK3pbVkv0KrKfczuJiRlZ7dUzVO0b6QJr8TRAA==
-----END RSA PRIVATE KEY-----
`)

var publicKey = []byte(`
-----BEGIN PUBLIC KEY-----
MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDcGsUIIAINHfRTdMmgGwLrjzfM
NSrtgIf4EGsNaYwmC1GjF/bMh0Mcm10oLhNrKNYCTTQVGGIxuc5heKd1gOzb7bdT
nCDPPZ7oV7p1B9Pud+6zPacoqDz2M24vHFWYY2FbIIJh8fHhKcfXNXOLovdVBE7Z
y682X1+R1lRK8D+vmQIDAQAB
-----END PUBLIC KEY-----
`)

// 加密
func RsaEncrypt(origData []byte) ([]byte, error) {
	//解密pem格式的公钥
	block, _ := pem.Decode(publicKey)
	if block == nil {
		return nil, errors.New(&quot;public key error&quot;)
	}
	// 解析公钥
	pubInterface, err := x509.ParsePKIXPublicKey(block.Bytes)
	if err != nil {
		return nil, err
	}
	// 类型断言
	pub := pubInterface.(*rsa.PublicKey)
	//加密
	return rsa.EncryptPKCS1v15(rand.Reader, pub, origData)
}

// 解密
func RsaDecrypt(ciphertext []byte) ([]byte, error) {
	//解密
	block, _ := pem.Decode(privateKey)
	if block == nil {
		return nil, errors.New(&quot;private key error!&quot;)
	}
	//解析PKCS1格式的私钥
	priv, err := x509.ParsePKCS1PrivateKey(block.Bytes)
	if err != nil {
		return nil, err
	}
	// 解密
	return rsa.DecryptPKCS1v15(rand.Reader, priv, ciphertext)
}
func main() {
	data, _ := RsaEncrypt([]byte(&quot;hello world&quot;))
	fmt.Println(base64.StdEncoding.EncodeToString(data))
	origData, _ := RsaDecrypt(data)
	fmt.Println(string(origData))
}
</code></pre>

            </div>
            
            
              <div class="post-footer">
  <ul class="post-copyright">
    <li class="post-copyright-author">
      <strong class="language" data-lan="author">本文作者：</strong>
      蔡小辉
    </li>
    <li class="post-copyright-link">
      <strong class="language" data-lan="link">本文链接：</strong>
      <a href="https://v-micro.github.io/post/jia-mi-suan-fa-zong-jie/" title="加密算法总结">https://v-micro.github.io/post/jia-mi-suan-fa-zong-jie/</a>
    </li>
    <li class="post-copyright-license">
      <strong class="language" data-lan="copyright">版权声明： </strong>
      本博客所有文章除特别声明外，均采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议。转载请注明出处！
    </li>
  </ul>
  <div class="tags">
    
  </div>
  <div class="nav">
    <div class="nav-prev">
      
        <i class="fa fa-chevron-left"></i>
        <a class="nav-pc-next" title="ios内购（go 版本）" href="https://v-micro.github.io/post/ios-nei-gou-go-ban-ben/">ios内购（go 版本）</a class="nav-pc-next">
        <a class="nav-mobile-prev" title="ios内购（go 版本）" href="https://v-micro.github.io/post/ios-nei-gou-go-ban-ben/">上一篇</a>
      
    </div>
    <div class="nav-next">
      
        <a class="nav-pc-next" title="ngrok搭建" href="https://v-micro.github.io/post/ngrok-da-jian/">ngrok搭建</a>
        <a class="nav-mobile-next" title="ngrok搭建" href="https://v-micro.github.io/post/ngrok-da-jian/">下一篇</a>
        <i class="fa fa-chevron-right"></i>
      
    </div>
  </div>
</div>
            
            
  

          </div>
        </div>
      </div>
    </div>
    <div class="footer-box">
  <footer class="footer">
    <span id="busuanzi_container_site_pv">浏览数 <span id="busuanzi_value_site_pv"></span> 次</span>
    <span class="post-meta-divider">|</span>
    <span id="busuanzi_container_site_uv">访客数 <span id="busuanzi_value_site_uv"></span> 人</span>
    <div class="copyright">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> ©2019 | Theme By <a
        href="https://github.com/hsxyhao/gridea-theme-next" target="_blank">HsxyHao</a>
    </div>
    <div class="poweredby">
      
    </div>
  </footer>
  
  
  <div class="pisces back-to-top" id="back_to_top">
    <i class="fa fa-arrow-up"></i>
    
    <span class="scrollpercent">
      <span id="back_to_top_text">0</span>%
    </span>
    
  </div>
  
  
  
<link rel="stylesheet" href="/media/live2d/css/live2d.css" />
<div class="box-scale">
  <div id="landlord" style="left: 5px;bottom: px;"
    data-key="">
    <canvas id="live2d" width="500" height="560" class="live2d"></canvas>
    

      <div class="message" style="opacity:0"></div>
      <div class="live_talk_input_body">
        <div class="live_talk_input_name_body">
          <input name="name" type="text" class="live_talk_name white_input" id="AIuserName" autocomplete="off"
            placeholder="你的名字" />
        </div>
        <div class="live_talk_input_text_body">
          <input name="talk" type="text" class="live_talk_talk white_input" id="AIuserText" autocomplete="off"
            placeholder="要和我聊什么呀？" />
          <button type="button" class="live_talk_send_btn" id="talk_send">发送</button>
        </div>
      </div>
      <input name="live_talk" id="live_talk" value="1" type="hidden" />
      <div class="live_ico_box">
        <div class="live_ico_item type_info" id="showInfoBtn"></div>
        <div class="live_ico_item type_talk" id="showTalkBtn"></div>
        
        <div class="live_ico_item type_youdu" id="youduButton"></div>
        <div class="live_ico_item type_quit" id="hideButton"></div>
        <input name="live_statu_val" id="live_statu_val" value="0" type="hidden" />
        <audio src="" style="display:none;" id="live2d_bgm" data-bgm="0" preload="none"></audio>
        <input id="duType" value="douqilai" type="hidden">
        
      </div>
    
  </div>
</div>
<div id="open_live2d">召唤看板娘</div>
<script>
  var message_Path = 'https://cdn.jsdelivr.net/gh/hsxyhao/live2d.github.io@master/';
  let landlord = document.querySelector('#landlord');
  var apiKey = landlord.dataset.key;
</script>
<script type="text/javascript" src="/media/live2d/js/live2d.js"></script>
<script>
	var home_Path = document.location.protocol + '//' + window.document.location.hostname + ":" + window.document.location.port + '/';
	var userAgent = window.navigator.userAgent.toLowerCase();
	var norunAI = ["android", "iphone", "ipod", "ipad", "windows phone", "mqqbrowser", "msie", "trident/7.0"];
	var norunFlag = false;

	for (var i = 0; i < norunAI.length; i++) {
		if (userAgent.indexOf(norunAI[i]) > -1) {
			norunFlag = true;
			break;
		}
	}

	if (!window.WebGLRenderingContext) {
		norunFlag = true;
	}

	if (!norunFlag) {
		var hitFlag = false;
		var AIFadeFlag = false;
		var liveTlakTimer = null;
		var sleepTimer_ = null;
		var AITalkFlag = false;
		var talkNum = 0;
		(function () {
			function renderTip(template, context) {
				var tokenReg = /(\\)?\{([^\{\}\\]+)(\\)?\}/g;
				return template.replace(tokenReg, function (word, slash1, token, slash2) {
					if (slash1 || slash2) {
						return word.replace('\\', '');
					}
					var variables = token.replace(/\s/g, '').split('.');
					var currentObject = context;
					var i, length, variable;
					for (i = 0, length = variables.length; i < length; ++i) {
						variable = variables[i];
						currentObject = currentObject[variable];
						if (currentObject === undefined || currentObject === null) return '';
					}
					return currentObject;
				});
			}

			String.prototype.renderTip = function (context) {
				return renderTip(this, context);
			};

			var re = /x/;
			re.toString = function () {
				showMessage('哈哈，你打开了控制台，是想要看看我的秘密吗？', 5000);
				return '';
			};

			$(document).on('copy', function () {
				showMessage('你都复制了些什么呀，转载要记得加上出处哦~~', 5000);
			});

			function initTips() {
				$.ajax({
					cache: true,
					url: message_Path + 'message.json',
					dataType: "json",
					success: function (result) {
						$.each(result.mouseover, function (index, tips) {
							$(tips.selector).mouseover(function () {
								var text = tips.text;
								if (Array.isArray(tips.text)) text = tips.text[Math.floor(Math.random() * tips.text.length + 1) - 1];
								text = text.renderTip({ text: $(this).text() });
								showMessage(text, 3000);
								talkValTimer();
								clearInterval(liveTlakTimer);
								liveTlakTimer = null;
							});
							$(tips.selector).mouseout(function () {
								showHitokoto();
								if (liveTlakTimer == null) {
									liveTlakTimer = window.setInterval(function () {
										showHitokoto();
									}, 15000);
								};
							});
						});
						$.each(result.click, function (index, tips) {
							$(tips.selector).click(function () {
								if (hitFlag) {
									return false
								}
								hitFlag = true;
								setTimeout(function () {
									hitFlag = false;
								}, 8000);
								var text = tips.text;
								if (Array.isArray(tips.text)) text = tips.text[Math.floor(Math.random() * tips.text.length + 1) - 1];
								text = text.renderTip({ text: $(this).text() });
								showMessage(text, 3000);
							});
							clearInterval(liveTlakTimer);
							liveTlakTimer = null;
							if (liveTlakTimer == null) {
								liveTlakTimer = window.setInterval(function () {
									showHitokoto();
								}, 15000);
							};
						});
					}
				});
			}
			initTips();

			var text;
			if (document.referrer !== '') {
				var referrer = document.createElement('a');
				referrer.href = document.referrer;
				text = '嗨！来自 <span style="color:#0099cc;">' + referrer.hostname + '</span> 的朋友！';
				var domain = referrer.hostname.split('.')[1];
				if (domain == 'baidu') {
					text = '嗨！ 来自 百度搜索 的朋友！<br>欢迎访问<span style="color:#0099cc;">「 ' + document.title.split(' - ')[0] + ' 」</span>';
				} else if (domain == 'so') {
					text = '嗨！ 来自 360搜索 的朋友！<br>欢迎访问<span style="color:#0099cc;">「 ' + document.title.split(' - ')[0] + ' 」</span>';
				} else if (domain == 'google') {
					text = '嗨！ 来自 谷歌搜索 的朋友！<br>欢迎访问<span style="color:#0099cc;">「 ' + document.title.split(' - ')[0] + ' 」</span>';
				}
			} else {
				if (window.location.href == home_Path) { //主页URL判断，需要斜杠结尾
					var now = (new Date()).getHours();
					if (now > 23 || now <= 5) {
						text = '你是夜猫子呀？这么晚还不睡觉，明天起的来嘛？';
					} else if (now > 5 && now <= 7) {
						text = '早上好！一日之计在于晨，美好的一天就要开始了！';
					} else if (now > 7 && now <= 11) {
						text = '上午好！工作顺利嘛，不要久坐，多起来走动走动哦！';
					} else if (now > 11 && now <= 14) {
						text = '中午了，工作了一个上午，现在是午餐时间！';
					} else if (now > 14 && now <= 17) {
						text = '午后很容易犯困呢，今天的运动目标完成了吗？';
					} else if (now > 17 && now <= 19) {
						text = '傍晚了！窗外夕阳的景色很美丽呢，最美不过夕阳红~~';
					} else if (now > 19 && now <= 21) {
						text = '晚上好，今天过得怎么样？';
					} else if (now > 21 && now <= 23) {
						text = '已经这么晚了呀，早点休息吧，晚安~~';
					} else {
						text = '嗨~ 快来逗我玩吧！';
					}
				} else {
					text = '欢迎阅读<span style="color:#0099cc;">「 ' + document.title.split(' - ')[0] + ' 」</span>';
				}
			}
			showMessage(text, 12000);
		})();

		liveTlakTimer = setInterval(function () {
			showHitokoto();
		}, 15000);

		function showHitokoto() {
			if (sessionStorage.getItem("Sleepy") !== "1") {
				if (!AITalkFlag) {
					$.getJSON('https://v1.hitokoto.cn/', function (result) {
						talkValTimer();
						showMessage(result.hitokoto, 0);
					});
				}
			} else {
				hideMessage(0);
				if (sleepTimer_ == null) {
					sleepTimer_ = setInterval(function () {
						checkSleep();
					}, 200);
				}
			}
		}

		function checkSleep() {
			var sleepStatu = sessionStorage.getItem("Sleepy");
			if (sleepStatu !== '1') {
				talkValTimer();
				showMessage('你回来啦~', 0);
				clearInterval(sleepTimer_);
				sleepTimer_ = null;
			}
		}

		function showMessage(text, timeout) {
			if (Array.isArray(text)) text = text[Math.floor(Math.random() * text.length + 1) - 1];
			$('.message').stop();
			$('.message').html(text);
			$('.message').fadeTo(200, 1);
			//if (timeout === null) timeout = 5000;
			//hideMessage(timeout);
		}
		function talkValTimer() {
			$('#live_talk').val('1');
		}

		function hideMessage(timeout) {
			//$('.message').stop().css('opacity',1);
			if (timeout === null) timeout = 5000;
			$('.message').delay(timeout).fadeTo(200, 0);
		}

		function initLive2d() {
			$('#hideButton').on('click', function () {
				if (AIFadeFlag) {
					return false;
				} else {
					AIFadeFlag = true;
					localStorage.setItem("live2dhidden", "0");
					$('#landlord').fadeOut(200);
					$('#open_live2d').delay(200).fadeIn(200);
					setTimeout(function () {
						AIFadeFlag = false;
					}, 300);
				}
			});
			$('#open_live2d').on('click', function () {
				if (AIFadeFlag) {
					return false;
				} else {
					AIFadeFlag = true;
					localStorage.setItem("live2dhidden", "1");
					$('#open_live2d').fadeOut(200);
					$('#landlord').delay(200).fadeIn(200);
					setTimeout(function () {
						AIFadeFlag = false;
					}, 300);
				}
			});
			$('#youduButton').on('click', function () {
				if ($('#youduButton').hasClass('doudong')) {
					var typeIs = $('#youduButton').attr('data-type');
					$('#youduButton').removeClass('doudong');
					$('body').removeClass(typeIs);
					$('#youduButton').attr('data-type', '');
				} else {
					var duType = $('#duType').val();
					var duArr = duType.split(",");
					var dataType = duArr[Math.floor(Math.random() * duArr.length)];

					$('#youduButton').addClass('doudong');
					$('#youduButton').attr('data-type', dataType);
					$('body').addClass(dataType);
				}
			});
			if (apiKey) {
				$('#showInfoBtn').on('click', function () {
					var live_statu = $('#live_statu_val').val();
					if (live_statu == "0") {
						return
					} else {
						$('#live_statu_val').val("0");
						$('.live_talk_input_body').fadeOut(500);
						AITalkFlag = false;
						showHitokoto();
						$('#showTalkBtn').show();
						$('#showInfoBtn').hide();
					}
				});
				$('#showTalkBtn').on('click', function () {
					var live_statu = $('#live_statu_val').val();
					if (live_statu == "1") {
						return
					} else {
						$('#live_statu_val').val("1");
						$('.live_talk_input_body').fadeIn(500);
						AITalkFlag = true;
						$('#showTalkBtn').hide();
						$('#showInfoBtn').show();

					}
				});
				$('#talk_send').on('click', function () {
					var info_ = $('#AIuserText').val();
					var userid_ = $('#AIuserName').val();
					if (info_ == "") {
						showMessage('写点什么吧！', 0);
						return;
					}
					if (userid_ == "") {
						showMessage('聊之前请告诉我你的名字吧！', 0);
						return;
					}
					showMessage('思考中~', 0);
					let protocol = window.location.protocol.indexOf("s") > 0 ? "https" : "http";
					$.ajax({
						type: "get",
						url: `${protocol}://www.tuling123.com/openapi/api?key=${apiKey}&info=${info_}`,
						dataType: "json",
						success: function (res) {
							talkValTimer();
							showMessage(res.text, 0);
							$('#AIuserText').val("");
							sessionStorage.setItem("live2duser", userid_);
						},
						error: function (e) {
							talkValTimer();
							showMessage('似乎有什么错误，请和站长联系！', 0);
						}
					});
				});
			} else {
				$('#showInfoBtn').hide();
				$('#showTalkBtn').hide();
			}
			//获取音乐信息初始化
			var bgmListInfo = $('input[name=live2dBGM]');
			if (bgmListInfo.length == 0) {
				$('#musicButton').hide();
			} else {
				var bgmPlayNow = parseInt($('#live2d_bgm').attr('data-bgm'));
				var bgmPlayTime = 0;
				var live2dBGM_Num = sessionStorage.getItem("live2dBGM_Num");
				var live2dBGM_PlayTime = sessionStorage.getItem("live2dBGM_PlayTime");
				if (live2dBGM_Num) {
					if (live2dBGM_Num <= $('input[name=live2dBGM]').length - 1) {
						bgmPlayNow = parseInt(live2dBGM_Num);
					}
				}
				if (live2dBGM_PlayTime) {
					bgmPlayTime = parseInt(live2dBGM_PlayTime);
				}
				var live2dBGMSrc = bgmListInfo.eq(bgmPlayNow).val();
				$('#live2d_bgm').attr('data-bgm', bgmPlayNow);
				$('#live2d_bgm').attr('src', live2dBGMSrc);
				$('#live2d_bgm')[0].currentTime = bgmPlayTime;
				$('#live2d_bgm')[0].volume = 0.5;
				var live2dBGM_IsPlay = sessionStorage.getItem("live2dBGM_IsPlay");
				var live2dBGM_WindowClose = sessionStorage.getItem("live2dBGM_WindowClose");
				if (live2dBGM_IsPlay == '0' && live2dBGM_WindowClose == '0') {
					$('#live2d_bgm')[0].play();
					$('#musicButton').addClass('play');
				}
				sessionStorage.setItem("live2dBGM_WindowClose", '1');
				$('#musicButton').on('click', function () {
					if ($('#musicButton').hasClass('play')) {
						$('#live2d_bgm')[0].pause();
						$('#musicButton').removeClass('play');
						sessionStorage.setItem("live2dBGM_IsPlay", '1');
					} else {
						$('#live2d_bgm')[0].play();
						$('#musicButton').addClass('play');
						sessionStorage.setItem("live2dBGM_IsPlay", '0');
					}
				});
				window.onbeforeunload = function () {
					sessionStorage.setItem("live2dBGM_WindowClose", '0');
					if ($('#musicButton').hasClass('play')) {
						sessionStorage.setItem("live2dBGM_IsPlay", '0');
					}
				}
				document.getElementById('live2d_bgm').addEventListener("timeupdate", function () {
					var live2dBgmPlayTimeNow = document.getElementById('live2d_bgm').currentTime;
					sessionStorage.setItem("live2dBGM_PlayTime", live2dBgmPlayTimeNow);
				});
				document.getElementById('live2d_bgm').addEventListener("ended", function () {
					var listNow = parseInt($('#live2d_bgm').attr('data-bgm'));
					listNow++;
					if (listNow > $('input[name=live2dBGM]').length - 1) {
						listNow = 0;
					}
					var listNewSrc = $('input[name=live2dBGM]').eq(listNow).val();
					sessionStorage.setItem("live2dBGM_Num", listNow);
					$('#live2d_bgm').attr('src', listNewSrc);
					$('#live2d_bgm')[0].play();
					$('#live2d_bgm').attr('data-bgm', listNow);
				});
				document.getElementById('live2d_bgm').addEventListener("error", function () {
					$('#live2d_bgm')[0].pause();
					$('#musicButton').removeClass('play');
					showMessage('音乐似乎加载不出来了呢！', 0);
				});
			}
			//获取用户名
			var live2dUser = sessionStorage.getItem("live2duser");
			if (live2dUser !== null) {
				$('#AIuserName').val(live2dUser);
			}
			//获取位置
			var landL = sessionStorage.getItem("historywidth");
			var landB = sessionStorage.getItem("historyheight");
			if (landL == null || landB == null) {
				landL = '5px'
				landB = '0px'
			}
			$('#landlord').css('left', landL + 'px');
			$('#landlord').css('bottom', landB + 'px');
			//移动
			function getEvent() {
				return window.event || arguments.callee.caller.arguments[0];
			}
			var smcc = document.getElementById("landlord");
			var moveX = 0;
			var moveY = 0;
			var moveBottom = 0;
			var moveLeft = 0;
			var moveable = false;
			var docMouseMoveEvent = document.onmousemove;
			var docMouseUpEvent = document.onmouseup;
			smcc.onmousedown = function () {
				var ent = getEvent();
				moveable = true;
				moveX = ent.clientX;
				moveY = ent.clientY;
				var obj = smcc;
				moveBottom = parseInt(obj.style.bottom);
				moveLeft = parseInt(obj.style.left);
				if (isFirefox = navigator.userAgent.indexOf("Firefox") > 0) {
					window.getSelection().removeAllRanges();
				}
				document.onmousemove = function () {
					if (moveable) {
						var ent = getEvent();
						var x = moveLeft + ent.clientX - moveX;
						var y = moveBottom + (moveY - ent.clientY);
						obj.style.left = x + "px";
						obj.style.bottom = y + "px";
					}
				};
				document.onmouseup = function () {
					if (moveable) {
						var historywidth = obj.style.left;
						var historyheight = obj.style.bottom;
						historywidth = historywidth.replace('px', '');
						historyheight = historyheight.replace('px', '');
						sessionStorage.setItem("historywidth", historywidth);
						sessionStorage.setItem("historyheight", historyheight);
						document.onmousemove = docMouseMoveEvent;
						document.onmouseup = docMouseUpEvent;
						moveable = false;
						moveX = 0;
						moveY = 0;
						moveBottom = 0;
						moveLeft = 0;
					}
				};
			};
		}
		$(document).ready(function () {
			var AIimgSrc = [];
			let chooseLive2d = 'histoire'
			if (chooseLive2d === 'histoire') {
				AIimgSrc.push(message_Path + "model/histoire/histoire.1024/texture_00.png");
				AIimgSrc.push(message_Path + "model/histoire/histoire.1024/texture_01.png");
				AIimgSrc.push(message_Path + "model/histoire/histoire.1024/texture_02.png");
				AIimgSrc.push(message_Path + "model/histoire/histoire.1024/texture_03.png");
			} else if (chooseLive2d === 'rem') {
				AIimgSrc.push(message_Path + "model/rem/remu2048/texture_00.png");
			} else if (chooseLive2d === 'aoba') {
				AIimgSrc.push(message_Path + "model/aoba/textures/texture_00.png");
			} else if (chooseLive2d === 'hijiki') {
				AIimgSrc.push(message_Path + "model/hijiki/moc/hijiki.2048/texture_00.png");
			} else if (chooseLive2d === 'tororo') {
				AIimgSrc.push(message_Path + "model/tororo/moc/tororo.2048/texture_00.png");
			}
			var images = [];
			var imgLength = AIimgSrc.length;
			var loadingNum = 0;
			for (var i = 0; i < imgLength; i++) {
				images[i] = new Image();
				images[i].src = AIimgSrc[i];
				images[i].onload = function () {
					loadingNum++;
					if (loadingNum === imgLength) {
						var live2dhidden = localStorage.getItem("live2dhidden");
						if (live2dhidden === "0") {
							setTimeout(function () {
								$('#open_live2d').fadeIn(200);
							}, 1300);
						} else {
							setTimeout(function () {
								$('#landlord').fadeIn(200);
							}, 1300);
						}
						let model = '';
						if (chooseLive2d === 'histoire') {
							model = message_Path + "model/histoire/model.json";
						} else if (chooseLive2d === 'rem') {
							model = message_Path + "model/rem/model.json";
						} else if (chooseLive2d === 'aoba') {
							model = message_Path + "model/aoba/model.json";
						} else if (chooseLive2d === 'hijiki') {
							model = message_Path + "model/hijiki/hijiki.model.json";
						} else if (chooseLive2d === 'tororo') {
							model = message_Path + "model/tororo/tororo.model.json";
						}
						setTimeout(function () {
							loadlive2d("live2d", model);
						}, 1000);
						initLive2d();
						images = null;
					}
				}
			}
		});
	}
</script>
  
  
</div>
<script>

  let sideBarOpen = 'sidebar-open';
  let body = document.body;
  let back2Top = document.querySelector('#back_to_top'),
    back2TopText = document.querySelector('#back_to_top_text'),
    drawerBox = document.querySelector('#drawer_box'),
    rightSideBar = document.querySelector('.sidebar'),
    viewport = document.querySelector('body');

  function scrollAnimation(currentY, targetY) {

    let needScrollTop = targetY - currentY
    let _currentY = currentY
    setTimeout(() => {
      const dist = Math.ceil(needScrollTop / 10)
      _currentY += dist
      window.scrollTo(_currentY, currentY)
      if (needScrollTop > 10 || needScrollTop < -10) {
        scrollAnimation(_currentY, targetY)
      } else {
        window.scrollTo(_currentY, targetY)
      }
    }, 1)
  }

  back2Top.addEventListener("click", function (e) {
    scrollAnimation(document.scrollingElement.scrollTop, 0);
    e.stopPropagation();
    return false;
  });

  window.addEventListener('scroll', function (e) {
    let percent = document.scrollingElement.scrollTop / (document.scrollingElement.scrollHeight - document.scrollingElement.clientHeight) * 100;
    if (percent > 1 && !back2Top.classList.contains('back-top-active')) {
      back2Top.classList.add('back-top-active');
    }
    if (percent == 0) {
      back2Top.classList.remove('back-top-active');
    }
    if (back2TopText) {
      back2TopText.textContent = Math.floor(percent);
    }
  });


  let hasCacu = false;
  window.addEventListener('resize', function (e) {
    calcuHeight();
  });

  function calcuHeight() {
    // 动态调整站点概览高度
    if (!hasCacu && back2Top.classList.contains('pisces') || back2Top.classList.contains('gemini')) {
      let sideBar = document.querySelector('.sidebar');
      let navUl = document.querySelector('#site_nav');
      sideBar.style = 'margin-top:' + (navUl.offsetHeight + navUl.offsetTop + 15) + 'px;';
      hasCacu = true;
    }
  }
  calcuHeight();

  let open = false, MOTION_TIME = 300, RIGHT_MOVE_DIS = '320px';

  if (drawerBox) {
    let rightMotions = document.querySelectorAll('.right-motion');
    let right = drawerBox.classList.contains('right');

    let transitionDir = right ? "transition.slideRightIn" : "transition.slideLeftIn";

    let openProp, closeProp;
    if (right) {
      openProp = {
        paddingRight: RIGHT_MOVE_DIS
      };
      closeProp = {
        paddingRight: '0px'
      };
    } else {
      openProp = {
        paddingLeft: RIGHT_MOVE_DIS
      };
      closeProp = {
        paddingLeft: '0px'
      };
    }

    drawerBox.onclick = function () {
      open = !open;
      jQuery.Velocity(rightSideBar, 'stop');
      jQuery.Velocity(viewport, 'stop');
      jQuery.Velocity(rightMotions, 'stop');
      if (open) {
        jQuery.Velocity(rightSideBar, {
          width: RIGHT_MOVE_DIS
        }, {
          duration: MOTION_TIME,
          begin: function () {
            jQuery.Velocity(rightMotions, transitionDir, {});
          }
        })
        jQuery.Velocity(viewport, openProp, {
          duration: MOTION_TIME
        });
      } else {
        jQuery.Velocity(rightSideBar, {
          width: '0px'
        }, {
          duration: MOTION_TIME,
          begin: function () {
            jQuery.Velocity(rightMotions, {
              opacity: 0
            });
          }
        })
        jQuery.Velocity(viewport, closeProp, {
          duration: MOTION_TIME
        });
      }
      for (let i = 0; i < drawerBox.children.length; i++) {
        drawerBox.children[i].classList.toggle('muse-line');
      }
      drawerBox.classList.toggle(sideBarOpen);
    }
  }

  // 链接跳转
  let newWindow = 'false'
  if (newWindow === 'true') {
    let links = document.querySelectorAll('.post-body a')
    links.forEach(item => {
      if (!item.classList.contains('btn')) {
        item.setAttribute("target", "_blank");
      }
    })
  }

  let faSearch = document.querySelector('#fa_search');
  faSearch && faSearch.addEventListener('click', function () {
    document.querySelector('#search_mask').style = ''
  })

  // 代码高亮
  hljs.initHighlightingOnLoad();
  
  // 离开当前页title变化
  var leaveTitle = "";
  var normal_title = document.title;
  if (leaveTitle) {
    document.addEventListener('visibilitychange', function () {
      if (document.visibilityState == 'hidden') {
        normal_title = document.title;
        document.title = leaveTitle;
      } else {
        document.title = normal_title;
      }
    });
  }

</script>

<link rel="stylesheet" href="/media/css/jquery.fancybox.css" />
<script src="/media/js/jquery.fancybox.js"></script>

<script>
  let images = document.querySelectorAll('.section img');
  images.forEach(image => {
    var parent = image.parentElement;
    var next = image.nextElementSibling;
    parent.removeChild(image);
    var aelem = document.createElement('a');
    aelem.href = image.src;
    aelem.dataset['fancybox'] = 'images';
    aelem.dataset['rel'] = 'fancybox-button';
    aelem.classList.add('fancybox');
    aelem.appendChild(image);
    parent.insertBefore(aelem, next);
  })
</script>

    <div class="reward-mask" style="display: none;">
  <div class="reward-relative">
    <span class="close" aria-hidden="true">x</span>
    <div class="reward-body">
      <h2>感谢您的支持，我会继续努力的!</h2>
      <div class="reward-img-box">
        <div style="position: relative; width: 140px; height: 140px;">
          
          
          
        </div>
      </div>
      <p class="reward-word">扫码打赏，你说多少就多少</p>
      <p class="reward-tip">打开微信扫一扫，即可进行扫码打赏哦</p>
    </div>
    <div class="bottom">
      
      
    </div>
  </div>
</div>
<style>
  .reward-mask {
    position: fixed;
    z-index: 99999;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    background-color: #00000054;
  }

  .reward-relative {
    position: relative;
    width: 480px;
    text-align: center;
    margin: 0 auto;
    border-radius: 5px;
    background-color: #fff;
    top: 50%;
    margin-top: -205px;
  }

  .reward-relative .close {
    position: absolute;
    right: 10px;
    font-weight: normal;
    font-size: 16px;
    color: #929292;
  }

  .reward-body {
    padding: 40px 20px 20px;
  }

  .bottom {
    display: flex;
  }

  .reward-btn {
    text-align: center;
  }

  .reward-btn-text {
    display: inline-block;
    cursor: pointer;
    width: 60px;
    height: 60px;
    line-height: 60px;
    border-radius: 50%;
    background-color: #ff9734;
    color: #FFF;
    margin-top: 20px;
  }

  .pay-text {
    margin-top: 10px;
    padding: 10px;
    flex: 1;
    transition: all .2s linear;
  }

  .pay-text:hover {
    background-color: #a5a5a536;
  }

  .reward-body h2 {
    padding-top: 10px;
    text-align: center;
    color: #a3a3a3;
    font-size: 16px;
    font-weight: normal;
    margin: 0 0 20px;
  }

  .reward-body h2:after,
  .reward-body h2:before {
    font-family: Arial, Helvetica, sans-serif;
    background: 0 0;
    width: 0;
    height: 0;
    font-style: normal;
    color: #eee;
    font-size: 80px;
    position: absolute;
    top: 20px;
  }

  .reward-body h2:before {
    content: '\201c';
    left: 50px;
  }

  .reward-body h2:after {
    content: '\201d';
    right: 80px;
  }

  .reward-img-box {
    display: inline-block;
    padding: 10px;
    border: 6px solid #ea5f00;
    margin: 0 auto;
    border-radius: 3px;
    position: relative;
  }

  .reward-img {
    position: absolute;
    left: 0px;
    top: 0px;
    width: 100%;
    height: 100%;
  }

  @media (max-width: 767px) {
    .reward-relative {
      height: 100%;
      top: 0px;
      margin-top: 0;
      width: auto;
    }

    .reward-relative .bottom {
      flex-direction: column;
    }

    .reward-relative .pay-text {
      width: 80%;
      margin: 5px auto;
      border: 1px solid silver;
      padding: 6px;
      border-radius: 4px;
    }

    .reward-body h2:after {
      right: 40px;
    }

    .reward-body h2:after,
    .reward-body h2:before {
      font-size: 60px;
    }

    .reward-body h2:before {
      left: 20px;
    }
  }
</style>
<script>
  !function () {
    var mask = document.querySelector('.reward-mask');
    let close = document.querySelector('.reward-relative .close');
    let rewardBtn = document.querySelector('.reward-btn');

    let zfb = document.querySelector('#zfb'),
      wx = document.querySelector('#wx'),
      zfbBtn = document.querySelector('#zfbBtn'),
      wxBtn = document.querySelector('#wxBtn');

    if (zfbBtn && wxBtn) {
      zfbBtn.addEventListener('click', () => {
        jQuery.Velocity(zfb, 'transition.slideLeftIn', {
          duration: 400
        });
        jQuery.Velocity(wx, 'transition.slideRightOut', {
          display: 'none',
          duration: 400
        });
      });

      wxBtn.addEventListener('click', () => {
        jQuery.Velocity(wx, 'transition.slideRightIn', {
          duration: 400
        });
        jQuery.Velocity(zfb, 'transition.slideLeftOut', {
          display: 'none',
          duration: 400
        });
      });
    }

    rewardBtn.addEventListener('click', (e) => {
      jQuery.Velocity(mask, 'transition.slideDownIn', {
        duration: 400
      })
    });

    close.addEventListener('click', (e) => {
      e.preventDefault();
      jQuery.Velocity(mask, 'transition.slideUpOut', {
        duration: 400
      })
    })
  }()
</script>

  </div>
</body>

<div class="search-mask" id="search_mask" style="display: none;">
  <div class="search-box">
    <div class="search-title">
      <i class="fa fa-search"></i>
      <div class="input-box">
        <input id="search" type="text" class="language" data-lan="search" placeholder="搜索">
      </div>
      <i id="close" class="fa fa-times-circle"></i>
    </div>
    <div class="stat-box">
      <span id="stat_count">0</span><span class="language" data-lan="stat">条相关条目，使用了</span><span id="stat_times">0</span><span class="language" data-lan="stat-time">毫秒</span>
      <hr>
    </div>
    <div class="result" id="result">
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://v-micro.github.io/post/wei-fu-wu-yan-jin-lu-xian/"" data-c="
          &lt;h3 id=&#34;微服务构成组件&#34;&gt;微服务构成组件&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;注册中心&lt;br&gt;
服务A去调用服务B，你不知道服务B在哪个服务器上面，不可能在配置文件上写死吧？让每一个服务都进行一个注册，把自己所在的服务器地址注册上去，其他的服务可以进行服务发现，知道别的服务器地址在哪。&lt;/li&gt;
&lt;li&gt;RPC框架&lt;br&gt;
不同的服务器怎么进行远程调用呢？RPC框架可以进行远程的调用&lt;/li&gt;
&lt;li&gt;多环境隔离&lt;br&gt;
服务A在测试环境调用测试环境的服务B，不会调用生产环境的服务B。集成测试环境、功能测试环境、预发布测试环境等。&lt;/li&gt;
&lt;li&gt;自动化部署&lt;br&gt;
线上部署要纯粹的自动化部署&lt;/li&gt;
&lt;li&gt;分布式事务&lt;br&gt;
单块系统连接单个数据库，他只要用单个数据库的事务就行了，一个请求需要调用不同的服务器上面的不同的数据库。如果服务A更新了自己的库，服务C失败了，就需要分布式事务&lt;/li&gt;
&lt;li&gt;限流/熔断/降级&lt;br&gt;
一个服务挂了，其他服务也会连锁式宕机。服务雪崩现象&lt;/li&gt;
&lt;li&gt;配置中心&lt;br&gt;
不用每个服务更新都去更新配置文件。配置中心修改后，会把配置推送给服务，服务可以立马使用最新的配置&lt;/li&gt;
&lt;li&gt;监控中心&lt;br&gt;
服务很多，进行监控，业务指标，服务器的硬件情况&lt;/li&gt;
&lt;li&gt;链路追踪&lt;br&gt;
每一个请求都是很多服务串成的一个链路，需要对每一条链路的执行进行一个监控。这条链路耗时多少时间，是否成功等&lt;/li&gt;
&lt;li&gt;日志中心&lt;br&gt;
每一个微服务都把服务上报到日志中心。在日志中心里对日志进行检索&lt;/li&gt;
&lt;li&gt;服务治理&lt;br&gt;
会包含之前的很多东西，对这些服务怎么来管控，怎么管理怎么治理。&lt;/li&gt;
&lt;li&gt;API网关&lt;br&gt;
用户都是发送请求给前端或者客户端，再前后端交互。API网关是屏蔽掉后端所有的服务。减少前端调用的复杂度。API网关会把不同的请求路由给不同的服务。进行微服务和后端的解耦&lt;/li&gt;
&lt;li&gt;安全认证&lt;br&gt;
安全认证、统一限流等。符合认证才能发现请求&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;微服务工作流程&#34;&gt;微服务工作流程&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://v-micro.github.io/post-images/1639553601371.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;1注册中心&#34;&gt;1.注册中心&lt;/h3&gt;
&lt;p&gt;注册中心涉及到的三大角色：注册中心，服务提供者，服务消费者&lt;/p&gt;
&lt;p&gt;关系流程描述：&lt;br&gt;
1.微服务启动。将自己的实例信息（ip，端口，服务名）注册到注册中心，&lt;br&gt;
2.服务消费者从注册中心获取到服务实例信息，通过ip+端口的方式远程调用&lt;br&gt;
3.各个微服务通过心跳来上报注册中心，注册中心以某个时间段有没有接受上报信息，来决定是否下线某服务实例&lt;br&gt;
4.微服务发胜变动时如：增加实例或ip变动，重新注册信息到注册中心，这样服务消费者无需改动,直接从注册中心获取最新信息即可&lt;/p&gt;
&lt;p&gt;ps: 作者倾向于选择consul&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://v-micro.github.io/post-images/1639555327784.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;rpc框架&#34;&gt;RPC框架&lt;/h3&gt;
&lt;p&gt;主要分为两类，一类是跟语言平台绑定的，另一类则是与语言无关即跨语言平台&lt;/p&gt;
&lt;p&gt;跟语言平台绑定的RPC框架，简介可自行搜索&lt;br&gt;
Dubbo：仅支持JAVA语言&lt;br&gt;
Motan: 仅支持JAVA语言&lt;br&gt;
Tars: 仅支持JAVA语言&lt;br&gt;
Spring Cloud :  仅支持JAVA语言&lt;/p&gt;
&lt;p&gt;跨语言RPC框架&lt;br&gt;
gRPC : 支持多种语言&lt;br&gt;
Thrift : 支持多种语言&lt;/p&gt;
&lt;p&gt;ps: 作者学习的是GO 采用的是gRPC来进行通讯&lt;/p&gt;
&lt;h3 id=&#34;多环境隔离&#34;&gt;多环境隔离&lt;/h3&gt;
&lt;p&gt;运行环境隔离可以使用docker 虚拟多个运行环境，从而使得每个虚拟环境独立运行，互不干扰。&lt;/p&gt;
&lt;h3 id=&#34;自动部署&#34;&gt;自动部署&lt;/h3&gt;
&lt;p&gt;持续化的部署，可以采用此种技术解决方案。&lt;br&gt;
gitlab：仓库代码进行存储&lt;br&gt;
harbor : 镜像仓库存储&lt;br&gt;
jenkins：持续的CI部署&lt;br&gt;
docker: 代码的运行环境&lt;/p&gt;
&lt;p&gt;可以采用上面的部署方案&lt;/p&gt;
&lt;h3 id=&#34;分布式事务&#34;&gt;分布式事务&lt;/h3&gt;
&lt;p&gt;1.两阶段提交(2PC)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;1.1 准备阶段&lt;br&gt;
协调者询问参与者是否执行成功，参与者发回事务执行结果&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;1.2 提交阶段&lt;br&gt;
参与者都执行成功，事务协调者发送指令给参与者提交事务，否则就回滚事务&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;存在问题：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1.同步阻塞，&lt;/li&gt;
&lt;li&gt;2.协调者发生故障，会造成很大影响，&lt;/li&gt;
&lt;li&gt;3.commit时候网络发生异常。使得数据不一致&lt;/li&gt;
&lt;li&gt;4.任意一个节点失败都会导致整个事务失败，没有完善的容错机制&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;2.补偿事务（TCC）&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;针对每个事务，都需要对应一个补偿事务&lt;/li&gt;
&lt;li&gt;实现思路：A向B转钱&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;try 时候 调用接口 把钱全部冻结起来&lt;/li&gt;
&lt;li&gt;在confirm 阶段执行转钱操作，转账成功进行解冻&lt;/li&gt;
&lt;li&gt;如果第二步执行成功，那么转账成功，如果失败，则调用远程冻结接口对应的解冻方法&lt;/li&gt;
&lt;li&gt;存在问题
&lt;ul&gt;
&lt;li&gt;比2PC简单，但是数据一致性也要差一些。&lt;/li&gt;
&lt;li&gt;2,3步都有可能失败，业务流程不好定义，可能TCC无法处理&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;3.本地消息表（异步确保）&lt;/p&gt;
&lt;p&gt;在分布式事务操作的一方完成写业务数据的操作之后向本地消息表发送一个消息，本地事务能保证这个消息一定会被写入本地消息表中。&lt;/p&gt;
&lt;p&gt;之后将本地消息表中的消息转发到 Kafka 等消息队列中，如果转发成功则将消息从本地消息表中删除，否则继续重新转发。&lt;/p&gt;
&lt;p&gt;在分布式事务操作的另一方从消息队列中读取一个消息，并执行消息中的操作。&lt;/p&gt;
&lt;p&gt;优点： 一种非常经典的实现，避免了分布式事务，实现了最终一致性。&lt;br&gt;
缺点： 消息表会耦合到业务系统中，如果没有封装好的解决方案，会有很多杂活需要处理。&lt;/p&gt;
&lt;p&gt;4.MQ 事务消息&lt;/p&gt;
&lt;p&gt;第一阶段Prepared消息，会拿到消息的地址。 第二阶段执行本地事务，第三阶段通过第一阶段拿到的地址去访问消息，并修改状态。&lt;/p&gt;
&lt;p&gt;也就是说在业务方法内要想消息队列提交两次请求，一次发送消息和一次确认消息。如果确认消息发送失败了RocketMQ会定期扫描消息集群中的事务消息，这时候发现了Prepared消息，它会向消息发送者确认，所以生产方需要实现一个check接口，RocketMQ会根据发送端设置的策略来决定是回滚还是继续发送确认消息。这样就保证了消息发送与本地事务同时成功或同时失败。&lt;/p&gt;
&lt;p&gt;优点： 实现了最终一致性，不需要依赖本地数据库事务。&lt;br&gt;
缺点： 实现难度大，主流MQ不支持，RocketMQ事务消息部分代码也未开源。&lt;/p&gt;
">微服务演进路线</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://v-micro.github.io/post/etcd-an-zhuang-shi-yong/"" data-c="
          &lt;p&gt;etcd是CoreOS团队于2013年6月发起的开源项目，它的目标是构建一个高可用的分布式键值(key-value)数据库。etcd内部采用raft协议作为一致性算法，etcd基于Go语言实现。&lt;/p&gt;
&lt;h3 id=&#34;安装etcd&#34;&gt;安装etcd&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;# 安装etcd
docker pull bitnami/etcd:latest

# 设置网络
docker network create app-tier --driver bridge

# 启动etcd
docker run -d --name Etcd-server \
    --network app-tier \
    --publish 2379:2379 \
    --publish 2380:2380 \
    --env ALLOW_NONE_AUTHENTICATION=yes \
    --env ETCD_ADVERTISE_CLIENT_URLS=http://etcd-server:2379 \
    bitnami/etcd:latest
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;go封装etcd库&#34;&gt;go封装etcd库&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;package comutil

import (
	&amp;quot;context&amp;quot;
	&amp;quot;go.etcd.io/etcd/api/v3/mvccpb&amp;quot;
	clientv3 &amp;quot;go.etcd.io/etcd/client/v3&amp;quot;
	&amp;quot;log&amp;quot;
	&amp;quot;sync&amp;quot;
	&amp;quot;time&amp;quot;
)

//ServiceRegister 创建租约注册服务
type ServiceRegister struct {
	cli     *clientv3.Client //etcd client
	leaseID clientv3.LeaseID //租约ID
	//租约keepalieve相应chan
	keepAliveChan &amp;lt;-chan *clientv3.LeaseKeepAliveResponse
	key           string //key
	val           string //value
}

//NewServiceRegister 新建注册服务
func NewServiceRegister(endpoints []string, key, val string, lease int64) (*ServiceRegister, error) {
	cli, err := clientv3.New(clientv3.Config{
		Endpoints:   endpoints,
		DialTimeout: 5 * time.Second,
	})
	if err != nil {
		log.Fatal(err)
	}

	ser := &amp;amp;ServiceRegister{
		cli: cli,
		key: key,
		val: val,
	}

	//申请租约设置时间keepalive
	if err := ser.putKeyWithLease(lease); err != nil {
		return nil, err
	}

	return ser, nil
}

//设置租约
func (s *ServiceRegister) putKeyWithLease(lease int64) error {
	//设置租约时间
	resp, err := s.cli.Grant(context.Background(), lease)
	if err != nil {
		return err
	}
	//注册服务并绑定租约
	_, err = s.cli.Put(context.Background(), s.key, s.val, clientv3.WithLease(resp.ID))
	if err != nil {
		return err
	}
	//设置续租 定期发送需求请求
	leaseRespChan, err := s.cli.KeepAlive(context.Background(), resp.ID)

	if err != nil {
		return err
	}
	s.leaseID = resp.ID
	log.Println(s.leaseID)
	s.keepAliveChan = leaseRespChan
	log.Printf(&amp;quot;Put key:%s  val:%s  success!&amp;quot;, s.key, s.val)
	return nil
}

//ListenLeaseRespChan 监听 续租情况
func (s *ServiceRegister) ListenLeaseRespChan() {
	for leaseKeepResp := range s.keepAliveChan {
		log.Println(&amp;quot;续约成功&amp;quot;, leaseKeepResp)
	}
	log.Println(&amp;quot;关闭续租&amp;quot;)
}

// Close 注销服务
func (s *ServiceRegister) Close() error {
	//撤销租约
	if _, err := s.cli.Revoke(context.Background(), s.leaseID); err != nil {
		return err
	}
	log.Println(&amp;quot;撤销租约&amp;quot;)
	return s.cli.Close()
}

/*

//服务租约
var endpoints = []string{&amp;quot;localhost:2379&amp;quot;}
ser, err := comutil.NewServiceRegister(&amp;quot;server_order&amp;quot;, &amp;quot;111111&amp;quot;, 5)
if err != nil {
	log.Fatalln(err)
}
//监听续租相应chan
go ser.ListenLeaseRespChan()
select {}

*/

//======================================================== 服务注册end

//ServiceDiscovery 服务发现
type ServiceDiscovery struct {
	cli        *clientv3.Client  //etcd client
	serverList map[string]string //服务列表
	lock       sync.Mutex
}


//NewServiceDiscovery  新建发现服务
func NewServiceDiscovery(endpoints []string) *ServiceDiscovery {
	cli, err := clientv3.New(clientv3.Config{
		Endpoints:   endpoints,
		DialTimeout: 5 * time.Second,
	})
	if err != nil {
		log.Fatal(err)
	}

	return &amp;amp;ServiceDiscovery{
		cli:        cli,
		serverList: make(map[string]string),
	}
}


//WatchService 初始化服务列表和监视
func (s *ServiceDiscovery) WatchService(prefix string) error {
	//根据前缀获取现有的key
	resp, err := s.cli.Get(context.Background(), prefix, clientv3.WithPrefix())
	if err != nil {
		return err
	}

	for _, ev := range resp.Kvs {
		s.SetServiceList(string(ev.Key), string(ev.Value))
	}

	//监视前缀，修改变更的server
	go s.watcher(prefix)
	return nil
}


//watcher 监听前缀
func (s *ServiceDiscovery) watcher(prefix string) {
	rch := s.cli.Watch(context.Background(), prefix, clientv3.WithPrefix())
	log.Printf(&amp;quot;watching prefix:%s now...&amp;quot;, prefix)
	for wresp := range rch {
		for _, ev := range wresp.Events {
			switch ev.Type {
			case mvccpb.PUT: //修改或者新增
				s.SetServiceList(string(ev.Kv.Key), string(ev.Kv.Value))
			case mvccpb.DELETE: //删除
				s.DelServiceList(string(ev.Kv.Key))
			}
		}
	}
}

//SetServiceList 新增服务地址
func (s *ServiceDiscovery) SetServiceList(key, val string) {
	s.lock.Lock()
	defer s.lock.Unlock()
	s.serverList[key] = string(val)
	log.Println(&amp;quot;put key :&amp;quot;, key, &amp;quot;val:&amp;quot;, val)
}


//DelServiceList 删除服务地址
func (s *ServiceDiscovery) DelServiceList(key string) {
	s.lock.Lock()
	defer s.lock.Unlock()
	delete(s.serverList, key)
	log.Println(&amp;quot;del key:&amp;quot;, key)
}


//GetServices 获取服务地址
func (s *ServiceDiscovery) GetServices() []string {
	s.lock.Lock()
	defer s.lock.Unlock()
	addrs := make([]string, 0)

	for _, v := range s.serverList {
		addrs = append(addrs, v)
	}
	return addrs
}

//Close 关闭服务
func (s *ServiceDiscovery) Close() error {
	return s.cli.Close()
}


/*

var endpoints = []string{&amp;quot;localhost:2379&amp;quot;}
ser := NewServiceDiscovery(endpoints)
defer ser.Close()
ser.WatchService(&amp;quot;/web/&amp;quot;)
ser.WatchService(&amp;quot;/gRPC/&amp;quot;)
for {
	select {
	case &amp;lt;-time.Tick(10 * time.Second):
		log.Println(ser.GetServices())
	}
}

*/

//======================================================== 服务发现end
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;微服务调用etcd&#34;&gt;微服务调用etcd&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;//服务租约
var endpoints = []string{&amp;quot;192.168.59.131:2379&amp;quot;}
_, err := comutil.NewServiceRegister(endpoints, &amp;quot;server_order&amp;quot;, grpcUrl, 5)
if err != nil {
    log.Fatalln(err)
}
////监听续租相应chan
//go ser.ListenLeaseRespChan()
//select {
//	case &amp;lt;-time.After(20 * time.Second):
//    ser.Close()
//}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;网关监听获取rpc地址&#34;&gt;网关监听获取rpc地址&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;var endpoints = []string{&amp;quot;192.168.59.131:2379&amp;quot;}
ser := comutil.NewServiceDiscovery(endpoints)
defer ser.Close()
err = ser.WatchService(&amp;quot;server_order&amp;quot;)
if err != nil {
    return nil
}
grpcUrl = ser.GetServices()[0]
&lt;/code&gt;&lt;/pre&gt;
">ETCD详细解决</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://v-micro.github.io/post/wei-fu-wu-jia-gou-jie-xi/"" data-c="
          &lt;p&gt;浅谈微服务治理方案&lt;/p&gt;
&lt;h1 id=&#34;api-网关-api-gateway&#34;&gt;API 网关 API Gateway&lt;/h1&gt;
&lt;p&gt;帮助用户在自己的多个系统之间，或者内部系统与合作伙伴以及第三方的系统之间实现跨系统、跨协议的服务能力互通。&lt;/p&gt;
&lt;p&gt;API 网关如何帮助企业开放和共享服务？&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;缺少有效应对突发流量的手段&lt;/li&gt;
&lt;li&gt;重复开发通用功能&lt;/li&gt;
&lt;li&gt;非 RESTFUL 标准接口开放困难&lt;/li&gt;
&lt;li&gt;缺少 API 灰度发布机制&lt;/li&gt;
&lt;/ul&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://v-micro.github.io/post-images/1638176750393.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;核心解决&#34;&gt;核心解决&lt;/h3&gt;
&lt;p&gt;api生命周期管理&lt;br&gt;
  【支持包括 API 发布、API 下线、API 版本管理等生命周期管理功能】&lt;br&gt;
统一认证鉴权&lt;br&gt;
  【支持 AK/SK、JWT 、OAuth2等认证方式，提供网关、服务和 API 级鉴权管理功能】&lt;br&gt;
服务治理&lt;br&gt;
  【支持多场景流控、静态/动态降级、超时重试、缓存和熔断等功能】&lt;br&gt;
服务路由&lt;br&gt;
  【支持根据请求方法、Path、Host、Header、Query String 动态路由，以及负载均衡和版本分流】&lt;br&gt;
安全防护&lt;br&gt;
  【支持 IP 黑白名单，支持 CORS 和 JSONP 跨域访问标准】&lt;br&gt;
协议转换&lt;br&gt;
  【支持 Web Service 、gRPC和Dubbo RPC接口转为 RESTFUL接口对外开放】&lt;br&gt;
数据转换&lt;br&gt;
  【支持请求 Header、 Query String 转换，以及请求 Path 重写】&lt;br&gt;
应用集成&lt;br&gt;
  【支持低代码可视化方式编排上百种协议类型的API】&lt;br&gt;
运维监控&lt;br&gt;
  【支持查看服务或接口调用记录和调用统计，支持自定义配置告警规则】&lt;/p&gt;
&lt;h1 id=&#34;全链路应用监控-apm&#34;&gt;全链路应用监控 APM&lt;/h1&gt;
&lt;p&gt;全链路应用监控 APM 提供集链路追踪、应用性能和业务数据于一体立体化监控平台。旨在通过数据自动化收集、数据可视化展示，使用户能够及时、全面地掌控各个产品的应用性能情况，定位性能瓶颈。&lt;/p&gt;
&lt;p&gt;大规模微服务下如何进行故障排查和应用运维？&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;服务架构无法全面把握&lt;/li&gt;
&lt;li&gt;快速定位异常&lt;/li&gt;
&lt;li&gt;服务依赖关系无从确认&lt;/li&gt;
&lt;li&gt;异构系统如何全局监控&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;核心解决-2&#34;&gt;核心解决&lt;/h3&gt;
&lt;p&gt;全局拓扑&lt;br&gt;
  【自动化拓扑发现应用以及中间件之间的全局调用拓关系】&lt;br&gt;
调用链追踪&lt;br&gt;
  【调用链追踪记录单个业务在全链路的调用详情，包括代码执行情况、数据库调用等】&lt;br&gt;
性能监控&lt;br&gt;
  【支持 JVM、数据库、慢 SQL、缓存中间件性能等监控】&lt;br&gt;
日志关联&lt;br&gt;
  【无侵入、不需要应用程序修改代码即可完成日志系统和 APM 的关联】&lt;br&gt;
慢响应分析&lt;br&gt;
  【提供判定慢响应的功能，可以准确识别出系统中出现的慢响应请求】&lt;br&gt;
关键业务&lt;br&gt;
  【支持关键事务入口和拓扑的可视化，帮助用户分析业务依赖关系】&lt;/p&gt;
&lt;h1 id=&#34;分布式事务-gtxs&#34;&gt;分布式事务 GTXS&lt;/h1&gt;
&lt;p&gt;分布式事务服务 GTXS 是微服务场景下高性能、高可靠、接入成本低的分布式事务中间件支持低成本框架托管式事务，支持 MySQL、Oralce、TiDB、分库分表中间件等多种数据源。&lt;/p&gt;
&lt;p&gt;微服务架构下如何保障数据一致性？&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;跨服务事务一致性缺乏保证&lt;/li&gt;
&lt;li&gt;传统方式接入成本过高&lt;/li&gt;
&lt;li&gt;消息发送事务一致性难以保证&lt;/li&gt;
&lt;li&gt;分布式事务执行状态不透明&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;核心解决-3&#34;&gt;核心解决&lt;/h3&gt;
&lt;p&gt;事务托管框架模式&lt;br&gt;
  【事务托管框架模式支持一行注解接入分布式事务，显著降低接入成本】&lt;br&gt;
事务消息&lt;br&gt;
  【支持多种消息中间件：RocketMQ、RabbitMQ、Kafka、 Pulsar】&lt;br&gt;
事务运行监控&lt;br&gt;
  【通过事务调用链路图，提供事务调用关系以及事务具体某一链路的出错信息】&lt;br&gt;
事务异常运维&lt;br&gt;
  【支持对于异常事务进行回查、自动重试、手动重试等运维操作】&lt;/p&gt;
&lt;h1 id=&#34;日志服务-logseer&#34;&gt;日志服务 LogSeer&lt;/h1&gt;
&lt;p&gt;日志全生命周期管理平台，统一采集、管理海量日志，日志采集、清洗、存储、检索、监控、告警等多项功能，辅助开发测试及排障工作，提升运营效率。&lt;/p&gt;
&lt;p&gt;我们如何帮助企业构建海量日志处理能力？&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;海量日志存储分散&lt;/li&gt;
&lt;li&gt;实时查询需求复杂&lt;/li&gt;
&lt;li&gt;日志格式不规范&lt;/li&gt;
&lt;li&gt;监控运维困难&lt;/li&gt;
&lt;/ul&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://v-micro.github.io/post-images/1638178672633.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h1 id=&#34;中间件&#34;&gt;中间件&lt;/h1&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://v-micro.github.io/post-images/1638178960341.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;mysql&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;安全容灾：支持两地三中心部署，数据强一致性保障，满足金融级合规可靠性要求&lt;/li&gt;
&lt;li&gt;读写分类：应对大量读请求的业务场景，额外提供只读访问地址，降低主节点的读写压力，并支持读能力的横向扩展&lt;/li&gt;
&lt;li&gt;高可用：支持三节点多维度高可用，支持基于 Kubernetes 的故障自愈，单点时间短&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;redis&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;缓存：满足低时延、高并发访问要求，减轻数据库负载，适用于直播、大促、秒杀等场景&lt;/li&gt;
&lt;li&gt;排行榜：提供有序集合数据结构，实现如游戏积分实时排行榜、电商月度销量排行榜等复杂排行榜应用&lt;/li&gt;
&lt;li&gt;浏览器：为浏览量、播放量、广告点击量、库存计数提供高性能的实时计数功能&lt;/li&gt;
&lt;li&gt;消息系统：针对业务解耦、流量削峰及异步处理实时性低的业务，提供发布/订阅及阻塞队列功能，可实现简单的消息队列系统&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Elasticsearch&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;日志分析：最易实施和扩展日志记录的解决方案之一，快速对接各种数据源，借助 Kibana 的丰富图表高效可视化分析日志&lt;/li&gt;
&lt;li&gt;全文搜索：仅需几毫秒，即可从 PB 级数据中找到匹配信息，并支持排序、分组、聚合，满足语义搜索、视频/语音检索等各种搜索场景&lt;/li&gt;
&lt;li&gt;数据分析及可视化：Kibana 提供开箱即用的可视化组件和图表模板，简化了数据分析及可视化的难度&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Kafka&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;异步消息通信：相比传统消息代理系统，Kafka 具有更高的吞吐量、内置分区、冗余、固有容错等能力&lt;/li&gt;
&lt;li&gt;网站活动追踪：Web 或 APP 活动跟踪的最佳工具，实现网页浏览、操作等信息的实时处理、监控或离线统计分析等&lt;/li&gt;
&lt;li&gt;构建日志分析平台：日志聚合的最佳解决方案，数据采集业务无感知，对接 Hadoop 等离线仓库存储、Spark 等实时在线分析平台&lt;/li&gt;
&lt;li&gt;数据中转枢纽：利用Kafka 作为数据中转枢纽，可将同一份数据集注入到多个专用系统内，应对不同业务需求&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;RocketMQ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;异步解耦：实现上下游系统松耦合设计，下游系统出现异常或宕机不会影响更多系统&lt;/li&gt;
&lt;li&gt;削峰填谷：上游系统出现访问流量高峰时，将业务逻辑异步化，避免流量冲击下游业务，适用于电商秒杀，抢红包等场景&lt;/li&gt;
&lt;li&gt;分布式事务消息：既实现上下游解耦，又引入分布式事务，确保数据最终一致性，适用于交易、支付等场景&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;RabbitMQ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;异步解耦：实现上下游系统松耦合设计，下游系统出现异常或宕机不会影响更多系统&lt;/li&gt;
&lt;li&gt;削峰填谷：上游系统出现访问流量高峰时，将业务逻辑异步化，避免流量冲击下游业务，如电商秒杀，抢红包等&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ZooKeeper&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;服务注册与发现：提供稳定可靠的 ZooKeeper 集群实现服务注册与发现&lt;/li&gt;
&lt;li&gt;分布式协调：典型的分布式数据一致性解决方案，实现分布式配置管理、系统协调等，例如 HBase、Kafka 等&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
">微服务架构解析</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://v-micro.github.io/post/nginx-guo-lu-sql-zhu-ru-he-yi-chu/"" data-c="
          &lt;p&gt;代码不可能是全完美的，动态网页在实用中难免会遇到sql注入的攻击。而通过nginx的配置过滤，可以很好的避免被攻击的可能。SQL注入攻击一般问号后面的请求参数，在nginx里用$query_string表示&lt;/p&gt;
&lt;h3 id=&#34;特殊字符过滤&#34;&gt;特殊字符过滤&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;if ( $query_string ~* &amp;quot;.*[;&#39;&amp;lt;&amp;gt;].*&amp;quot; ) {
    return 404;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;sql语句过滤&#34;&gt;sql语句过滤&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;if ($request_uri ~* &amp;quot;(cost()|(concat()&amp;quot;) {
        return 444;
}
if ($request_uri ~* &amp;quot;[+|(%20)]union[+|(%20)]&amp;quot;) {
        return 444;
}
if ($request_uri ~* &amp;quot;[+|(%20)]and[+|(%20)]&amp;quot;) {
        return 444;
}
if ($request_uri ~* &amp;quot;[+|(%20)]select[+|(%20)]&amp;quot;) {
        return 444;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;文件注入禁止&#34;&gt;文件注入禁止&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;set $block_file_injections 0;
if ($query_string ~ “[a-zA-Z0-9_]=http://”) {
    set $block_file_injections 1;
}
if ($query_string ~ “[a-zA-Z0-9_]=(..//?)+”) {
    set $block_file_injections 1;
}
if ($query_string ~ “[a-zA-Z0-9_]=/([a-z0-9_.]//?)+”) {
    set $block_file_injections 1;
}
if ($block_file_injections = 1) {
    return 444;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;溢出攻击过滤&#34;&gt;溢出攻击过滤&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;set $block_common_exploits 0;
if ($query_string ~ “(&amp;lt;|%3C).*script.*(&amp;gt;|%3E)”) {
    set $block_common_exploits 1;
}
if ($query_string ~ “GLOBALS(=|[|%[0-9A-Z]{0,2})”) {
    set $block_common_exploits 1;
}
if ($query_string ~ “_REQUEST(=|[|%[0-9A-Z]{0,2})”) {
    set $block_common_exploits 1;
}
if ($query_string ~ “proc/self/environ”) {
    set $block_common_exploits 1;
}
if ($query_string ~ “mosConfig_[a-zA-Z_]{1,21}(=|%3D)”) {
    set $block_common_exploits 1;
}
if ($query_string ~ “base64_(en|de)code(.*)”) {
    set $block_common_exploits 1;
}
if ($block_common_exploits = 1) {
    return 444;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;spam字段过滤&#34;&gt;spam字段过滤&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;set $block_spam 0;
if ($query_string ~ “b(ultram|unicauca|valium|viagra|vicodin|xanax|ypxaieo)b”) {
    set $block_spam 1;
}
if ($query_string ~ “b(erections|hoodia|huronriveracres|impotence|levitra|libido)b”) {
    set $block_spam 1;
}
if ($query_string ~ “b(ambien|bluespill|cialis|cocaine|ejaculation|erectile)b”) {
    set $block_spam 1;
}
if ($query_string ~ “b(lipitor|phentermin|pro[sz]ac|sandyauer|tramadol|troyhamby)b”) {
    set $block_spam 1;
}
if ($block_spam = 1) {
    return 444;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;###user-agents头过滤&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;set $block_user_agents 0;
if ($http_user_agent ~ “Wget”) {
    set $block_user_agents 1;
}
# Disable Akeeba Remote Control 2.5 and earlier
if ($http_user_agent ~ “Indy Library”) {
    set $block_user_agents 1;
}
# Common bandwidth hoggers and hacking tools.
if ($http_user_agent ~ “libwww-perl”) {
    set $block_user_agents 1;
}
if ($http_user_agent ~ “GetRight”) {
    set $block_user_agents 1;
}
if ($http_user_agent ~ “GetWeb!”) {
    set $block_user_agents 1;
}
if ($http_user_agent ~ “Go!Zilla”) {
    set $block_user_agents 1;
}
if ($http_user_agent ~ “Download Demon”) {
    set $block_user_agents 1;
}
if ($http_user_agent ~ “Go-Ahead-Got-It”) {
    set $block_user_agents 1;
}
if ($http_user_agent ~ “TurnitinBot”) {
    set $block_user_agents 1;
}
if ($http_user_agent ~ “GrabNet”) {
    set $block_user_agents 1;
}
if ($block_user_agents = 1) {
    return 444;
}
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;使用lua来进行get-post-参数过滤&#34;&gt;使用Lua来进行get post 参数过滤&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;location / {
    #root html;
    #index index.html index.htm;

    default_type text/html;
    #打开 lua 允许使用这种方式来获取请求数据
    lua_need_request_body on;
    access_by_lua_block {
        #获取 post请求数据
        local body = ngx.var.request_body
        #获取 get请求数据
        local query = ngx.var.query_string
        #正则表达式
        local regex = &amp;quot;(.*?((select)|(from)|(count)|(delete)|(update)|(drop)|(truncate)).*?){1,}&amp;quot;
        #匹配post参数
        local m,err = ngx.re.match(body, regex)
        #匹配get参数
        local n,err = ngx.re.match(query, regex)
        #做get或者post校验
        if m then
            #返回数据 (二选一)
            ngx.say(&#39;{&amp;quot;code&amp;quot;: 999,&amp;quot;msg&amp;quot;: &amp;quot;传参异常&amp;quot;,&amp;quot;ok&amp;quot;: false,&amp;quot;runningTime&amp;quot;: &amp;quot;0ms&amp;quot;}&#39;)
            #返回页面
            #ngx.exit(404)
        end
    }
    #设置日志
    access_log logs/host.access.log json_log;
    #转换应用服务ip和端口
    proxy_pass http://127.0.0.1:8081;
}
&lt;/code&gt;&lt;/pre&gt;
">nginx过滤sql注入和溢出</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://v-micro.github.io/post/jenkins-cao-zuo-bu-shu/"" data-c="
          &lt;p&gt;Jenkins 可以通过其网页界面轻松设置和配置,其中包括即时错误检查和内置帮助。 插件 通过更新中心中的 1000 多个插件,Jenkins 集成了持续集成和持续交付工具链中几乎所有的工具。&lt;/p&gt;
">jenkins 操作部署</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://v-micro.github.io/post/go-qing-qiu-zhuan-fa/"" data-c="
          &lt;p&gt;可以跟fiddler 配合 进行抓包对数据进行入库处理&lt;/p&gt;
&lt;p&gt;fiddler 设置参数&lt;br&gt;
&lt;img src=&#34;https://v-micro.github.io/post-images/1627443742896.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;p&gt;规则：&lt;br&gt;
EXACT:   完全匹配&lt;br&gt;
NOT:       NOT发现就不匹配&lt;br&gt;
REGEX:  使用正则&lt;/p&gt;
&lt;p&gt;go 代码：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;package main

import (
	&amp;quot;bytes&amp;quot;
	&amp;quot;compress/gzip&amp;quot;
	&amp;quot;encoding/binary&amp;quot;
	&amp;quot;fmt&amp;quot;
	&amp;quot;io/ioutil&amp;quot;
	&amp;quot;net/http&amp;quot;
	&amp;quot;net/http/httputil&amp;quot;
	&amp;quot;net/url&amp;quot;
	&amp;quot;strings&amp;quot;
)

type ProxyTransport struct {}

func ProxyHandler(writer http.ResponseWriter, request *http.Request) {
	//转发数据处理
	u := &amp;amp;url.URL{
		Scheme: &amp;quot;https&amp;quot;,
		Host:   &amp;quot;edith.xiaohongshu.com&amp;quot;,
	}
	proxy := httputil.NewSingleHostReverseProxy(u)
	proxy.Transport = &amp;amp;ProxyTransport{}	//中间截取参数
	proxy.ServeHTTP(writer, request)
}
func ParseGzip(data []byte) ([]byte, error) {
	b := new(bytes.Buffer)
	binary.Write(b, binary.LittleEndian, data)
	r, err := gzip.NewReader(b)
	if err != nil {
		//logger.Info(&amp;quot;[ParseGzip] NewReader error: %v, maybe data is ungzip&amp;quot;, err)
		return nil, err
	} else {
		defer r.Close()
		undatas, err := ioutil.ReadAll(r)
		if err != nil {
			//logger.Warn(&amp;quot;[ParseGzip]  ioutil.ReadAll error: %v&amp;quot;, err)
			return nil, err
		}
		return undatas, nil
	}
}

func (t *ProxyTransport) RoundTrip(request *http.Request) (*http.Response, error) {
	request.Host = request.URL.Host	//设置host属性

	//转发请求
	response, err := http.DefaultTransport.RoundTrip(request)
	if err != nil {
		return nil, err
	}

	//此处是为了解决 response.Body 只能读一次的的问题  解决思路：定义变量 然后重新赋值
	var bodyBytes []byte
	if response.Body != nil {
		bodyBytes, _ = ioutil.ReadAll(response.Body)
	}
	response.Body = ioutil.NopCloser(bytes.NewBuffer(bodyBytes))

	//================================= start
	if strings.Index(request.RequestURI,&amp;quot;api/sns/v10/search/notes&amp;quot;) &amp;gt;= 0{
		body,_ := ParseGzip(bodyBytes)
		fmt.Println(string(body))
	}
	//================================= end
	return response, err
}

func main()  {
	//设置代理
	http.HandleFunc(&amp;quot;/&amp;quot;, ProxyHandler)
	_ = http.ListenAndServe(&amp;quot;:8881&amp;quot;, nil)
}

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;转发小红书&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;package main

import (
	&amp;quot;bytes&amp;quot;
	&amp;quot;compress/gzip&amp;quot;
	&amp;quot;encoding/base64&amp;quot;
	&amp;quot;encoding/binary&amp;quot;
	&amp;quot;encoding/json&amp;quot;
	&amp;quot;fmt&amp;quot;
	&amp;quot;github.com/go-xorm/xorm&amp;quot;
	&amp;quot;io/ioutil&amp;quot;
	&amp;quot;net/http&amp;quot;
	&amp;quot;net/http/httputil&amp;quot;
	&amp;quot;net/url&amp;quot;
	&amp;quot;strings&amp;quot;
	_ &amp;quot;github.com/go-sql-driver/mysql&amp;quot;
)

type ProxyTransport struct {}

func Sql() *xorm.Engine {
	engine, err := xorm.NewEngine(&amp;quot;mysql&amp;quot;, &amp;quot;root:caixiaohui123@(127.0.0.1:3306)/social?charset=utf8&amp;quot;)
	if err != nil {
		panic(err)
	}
	engine.ShowSQL(false)
	return engine
}


func ProxyHandler(writer http.ResponseWriter, request *http.Request) {
	//转发数据处理
	u := &amp;amp;url.URL{
		Scheme: &amp;quot;https&amp;quot;,
		Host:   &amp;quot;edith.xiaohongshu.com&amp;quot;,
	}
	proxy := httputil.NewSingleHostReverseProxy(u)
	proxy.Transport = &amp;amp;ProxyTransport{}	//中间截取参数
	proxy.ServeHTTP(writer, request)
}
func ParseGzip(data []byte) ([]byte, error) {
	b := new(bytes.Buffer)
	binary.Write(b, binary.LittleEndian, data)
	r, err := gzip.NewReader(b)
	if err != nil {
		//logger.Info(&amp;quot;[ParseGzip] NewReader error: %v, maybe data is ungzip&amp;quot;, err)
		return nil, err
	} else {
		defer r.Close()
		undatas, err := ioutil.ReadAll(r)
		if err != nil {
			//logger.Warn(&amp;quot;[ParseGzip]  ioutil.ReadAll error: %v&amp;quot;, err)
			return nil, err
		}
		return undatas, nil
	}
}

func (t *ProxyTransport) RoundTrip(request *http.Request) (*http.Response, error) {
	request.Host = request.URL.Host	//设置host属性

	//转发请求
	response, err := http.DefaultTransport.RoundTrip(request)
	if err != nil {
		return nil, err
	}

	//此处是为了解决 response.Body 只能读一次的的问题  解决思路：定义变量 然后重新赋值
	var bodyBytes []byte
	if response.Body != nil {
		bodyBytes, _ = ioutil.ReadAll(response.Body)
	}
	response.Body = ioutil.NopCloser(bytes.NewBuffer(bodyBytes))

	//================================= start
	if strings.Index(request.RequestURI,&amp;quot;api/sns/v10/search/notes&amp;quot;) &amp;gt;= 0{
		body,_ := ParseGzip(bodyBytes)
		//fmt.Println(string(body))
		SearchNotesData(body)	//数据列表处理
	}
	//================================= end
	return response, err
}

//小红书搜索列表数据处理
func SearchNotesData(data []byte)  {
	type AutoGenerated struct {
		Code int `json:&amp;quot;code&amp;quot;`
		Success bool `json:&amp;quot;success&amp;quot;`
		Data struct {
			Items []struct {
				ModelType string `json:&amp;quot;model_type&amp;quot;`
				Note struct {
					Liked bool `json:&amp;quot;liked&amp;quot;`
					ID string `json:&amp;quot;id&amp;quot;`
					Title string `json:&amp;quot;title&amp;quot;`
					Desc string `json:&amp;quot;desc&amp;quot;`
					LikedCount int `json:&amp;quot;liked_count&amp;quot;`
					Type string `json:&amp;quot;type&amp;quot;`
					User struct {
						Nickname string `json:&amp;quot;nickname&amp;quot;`
						Images string `json:&amp;quot;images&amp;quot;`
						RedOfficialVerifyType int `json:&amp;quot;red_official_verify_type&amp;quot;`
						Userid string `json:&amp;quot;userid&amp;quot;`
					} `json:&amp;quot;user&amp;quot;`
					TagInfo struct {
					} `json:&amp;quot;tag_info&amp;quot;`
					ImagesList []struct {
						Fileid string `json:&amp;quot;fileid&amp;quot;`
						Height int `json:&amp;quot;height&amp;quot;`
						Width int `json:&amp;quot;width&amp;quot;`
						URL string `json:&amp;quot;url&amp;quot;`
						URLSizeLarge string `json:&amp;quot;url_size_large&amp;quot;`
						Original string `json:&amp;quot;original&amp;quot;`
						TraceID string `json:&amp;quot;trace_id&amp;quot;`
					} `json:&amp;quot;images_list&amp;quot;`
					HasMusic bool `json:&amp;quot;has_music&amp;quot;`
					Timestamp int `json:&amp;quot;timestamp&amp;quot;`
				} `json:&amp;quot;note,omitempty&amp;quot;`
			} `json:&amp;quot;items&amp;quot;`
			RecommendInfo struct {
				Title string `json:&amp;quot;title&amp;quot;`
			} `json:&amp;quot;recommend_info&amp;quot;`
			RecommendItems []interface{} `json:&amp;quot;recommend_items&amp;quot;`
		} `json:&amp;quot;data&amp;quot;`
	}
	db := Sql()
	defer db.Close()
	var err error
	var dataStruct AutoGenerated

	//结构赋值
	err = json.Unmarshal(data,&amp;amp;dataStruct)
	if err != nil {
		fmt.Println(&amp;quot;============= json Unmarshal error&amp;quot;,err)
	}

	//查询获取数据
	for _,v := range dataStruct.Data.Items{
		if v.Note.Type == &amp;quot;normal&amp;quot; {
			insertId := v.Note.ID
			insertUserId := v.Note.User.Userid
			insertUserNickname := base64.StdEncoding.EncodeToString([]byte(v.Note.User.Nickname))

			userImg := strings.Split(v.Note.User.Images, &amp;quot;?&amp;quot;)
			insertUserImages := userImg[0]

			insertTitle := base64.StdEncoding.EncodeToString([]byte(v.Note.Title))
			insertDesc := base64.StdEncoding.EncodeToString([]byte(v.Note.Desc))
			insertImages := &amp;quot;&amp;quot;

			//字符串逗号隔开
			imagesMap := []string{}
			for _,vv := range v.Note.ImagesList{
				if len(imagesMap) &amp;lt; 3 &amp;amp;&amp;amp; vv.URLSizeLarge != &amp;quot;&amp;quot; {
					img := strings.Split(vv.URLSizeLarge, &amp;quot;?&amp;quot;)
					imagesMap = append(imagesMap, img[0])
				}
			}
			insertImages = strings.Replace(strings.Trim(fmt.Sprint(imagesMap), &amp;quot;[]&amp;quot;), &amp;quot; &amp;quot;, &amp;quot;,&amp;quot;, -1)

			_,err = db.Exec(fmt.Sprintf(&amp;quot;INSERT INTO `social`.`robot_user`(`id`, `user_id`, `user_nickname`, `user_images`, `title`, `desc`, `images`) VALUES (&#39;%s&#39;, &#39;%s&#39;, &#39;%s&#39;,&#39;%s&#39;, &#39;%s&#39;, &#39;%s&#39;, &#39;%s&#39;);&amp;quot;,insertId,insertUserId,insertUserNickname,insertUserImages,insertTitle,insertDesc,insertImages))
			if err != nil {
				if strings.Index(err.Error(),&amp;quot;Error 1062: Duplicate entry&amp;quot;) &amp;gt; 0 {
					fmt.Println(&amp;quot;=== 写入失败&amp;quot;,err.Error())
				}
			}
		}
	}
	fmt.Println(&amp;quot;写入成功&amp;quot;)
}

func main()  {
	//设置代理
	http.HandleFunc(&amp;quot;/&amp;quot;, ProxyHandler)
	_ = http.ListenAndServe(&amp;quot;:8881&amp;quot;, nil)
	//SearchNotesData([]byte(`{&amp;quot;code&amp;quot;:0,&amp;quot;success&amp;quot;:true,&amp;quot;data&amp;quot;:{&amp;quot;items&amp;quot;:[{&amp;quot;model_type&amp;quot;:&amp;quot;note&amp;quot;,&amp;quot;note&amp;quot;:{&amp;quot;liked&amp;quot;:false,&amp;quot;id&amp;quot;:&amp;quot;60ea7bd7000000000102da03&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;OOTD/ 证券公司小姐姐👧和男友约会tips&amp;quot;,&amp;quot;desc&amp;quot;:&amp;quot;🍷晚上要和男友一起共进晚餐 哈哈～因为要庆祝我的新工作💕 特意选了一件优雅又小性感连衣裙 晚风吹过 飘逸的裙摆 会有点迷&amp;quot;,&amp;quot;liked_count&amp;quot;:2723,&amp;quot;type&amp;quot;:&amp;quot;normal&amp;quot;,&amp;quot;user&amp;quot;:{&amp;quot;nickname&amp;quot;:&amp;quot;蔡圈圈&amp;quot;,&amp;quot;images&amp;quot;:&amp;quot;https://sns-avatar-qc.xhscdn.com/avatar/60cef06f707dc700013489dd.jpg?imageView2/2/w/80/format/jpg&amp;quot;,&amp;quot;red_official_verify_type&amp;quot;:0,&amp;quot;userid&amp;quot;:&amp;quot;5def72bf0000000001004a7d&amp;quot;},&amp;quot;tag_info&amp;quot;:{},&amp;quot;images_list&amp;quot;:[{&amp;quot;fileid&amp;quot;:&amp;quot;4c290b93-402a-3fd2-b2bd-a8b47663b1a5&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/4c290b93-402a-3fd2-b2bd-a8b47663b1a5?imageView2/2/w/540/format/webp&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/4c290b93-402a-3fd2-b2bd-a8b47663b1a5?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;4c290b93-402a-3fd2-b2bd-a8b47663b1a5&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;0102990d-4e8b-3047-8358-f71fe380a809&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/0102990d-4e8b-3047-8358-f71fe380a809?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;0102990d-4e8b-3047-8358-f71fe380a809&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;d83f2cd5-26cb-3454-91ab-fcaf434f260f&amp;quot;,&amp;quot;height&amp;quot;:1707,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/d83f2cd5-26cb-3454-91ab-fcaf434f260f?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;d83f2cd5-26cb-3454-91ab-fcaf434f260f&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;6eaf540b-a5a4-368f-a8cd-4c93b6c329fa&amp;quot;,&amp;quot;height&amp;quot;:1705,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/6eaf540b-a5a4-368f-a8cd-4c93b6c329fa?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;6eaf540b-a5a4-368f-a8cd-4c93b6c329fa&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;2042a615-7b95-3de0-bf16-7b8262f54849&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/2042a615-7b95-3de0-bf16-7b8262f54849?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;2042a615-7b95-3de0-bf16-7b8262f54849&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;5df14f76-0bee-3989-827c-e7fe1e99686b&amp;quot;,&amp;quot;height&amp;quot;:1705,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/5df14f76-0bee-3989-827c-e7fe1e99686b?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;5df14f76-0bee-3989-827c-e7fe1e99686b&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;8fd26772-df9f-38f7-9cdd-cae2fce32035&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/8fd26772-df9f-38f7-9cdd-cae2fce32035?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;8fd26772-df9f-38f7-9cdd-cae2fce32035&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;8a97261a-3a48-338d-a161-8fb7fef6af35&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/8a97261a-3a48-338d-a161-8fb7fef6af35?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;8a97261a-3a48-338d-a161-8fb7fef6af35&amp;quot;}],&amp;quot;has_music&amp;quot;:false,&amp;quot;timestamp&amp;quot;:1625979863}},{&amp;quot;model_type&amp;quot;:&amp;quot;note&amp;quot;,&amp;quot;note&amp;quot;:{&amp;quot;liked&amp;quot;:false,&amp;quot;id&amp;quot;:&amp;quot;60bf4b9e00000000010265e2&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;Ootd：/回头率超高的一条牛仔短裤！🥑&amp;quot;,&amp;quot;desc&amp;quot;:&amp;quot;这条短裤真的太🐮了！🔘会有提臀的效果👌 第一次尝试这种不是高腰的裤子，不错子！🔒 吊带是牛油果绿，蛮显白的！🥑 —— 吊&amp;quot;,&amp;quot;liked_count&amp;quot;:10486,&amp;quot;type&amp;quot;:&amp;quot;normal&amp;quot;,&amp;quot;user&amp;quot;:{&amp;quot;nickname&amp;quot;:&amp;quot;一碗粥粥&amp;quot;,&amp;quot;images&amp;quot;:&amp;quot;https://sns-avatar-qc.xhscdn.com/avatar/60334324ca37707ffab6dfe7.jpg?imageView2/2/w/80/format/jpg&amp;quot;,&amp;quot;red_official_verify_type&amp;quot;:0,&amp;quot;userid&amp;quot;:&amp;quot;5c635ce100000000110017e0&amp;quot;},&amp;quot;tag_info&amp;quot;:{},&amp;quot;images_list&amp;quot;:[{&amp;quot;fileid&amp;quot;:&amp;quot;112b02d5-dbd8-3bc4-b239-038d1904e5bb&amp;quot;,&amp;quot;height&amp;quot;:1707,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/112b02d5-dbd8-3bc4-b239-038d1904e5bb?imageView2/2/w/540/format/webp&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/112b02d5-dbd8-3bc4-b239-038d1904e5bb?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;112b02d5-dbd8-3bc4-b239-038d1904e5bb&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;c1f88326-b100-37d6-8181-7416d8c4d7ca&amp;quot;,&amp;quot;height&amp;quot;:1707,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/c1f88326-b100-37d6-8181-7416d8c4d7ca?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;c1f88326-b100-37d6-8181-7416d8c4d7ca&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;b169cb8b-62f4-3921-953a-56df5ff24ba3&amp;quot;,&amp;quot;height&amp;quot;:1707,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/b169cb8b-62f4-3921-953a-56df5ff24ba3?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;b169cb8b-62f4-3921-953a-56df5ff24ba3&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;54df83b0-7a64-3ece-b9bf-af55bf2dba3b&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/54df83b0-7a64-3ece-b9bf-af55bf2dba3b?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;54df83b0-7a64-3ece-b9bf-af55bf2dba3b&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;376a8bee-0843-37bd-9213-868ecf843a7d&amp;quot;,&amp;quot;height&amp;quot;:1707,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/376a8bee-0843-37bd-9213-868ecf843a7d?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;376a8bee-0843-37bd-9213-868ecf843a7d&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;3e4b8c59-dfee-37a7-baf2-aecacb52b66e&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/3e4b8c59-dfee-37a7-baf2-aecacb52b66e?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;3e4b8c59-dfee-37a7-baf2-aecacb52b66e&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;4275fcb4-1365-3b58-9f94-42c1776ee5c9&amp;quot;,&amp;quot;height&amp;quot;:1707,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/4275fcb4-1365-3b58-9f94-42c1776ee5c9?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;4275fcb4-1365-3b58-9f94-42c1776ee5c9&amp;quot;}],&amp;quot;has_music&amp;quot;:false,&amp;quot;timestamp&amp;quot;:1623149470}},{&amp;quot;model_type&amp;quot;:&amp;quot;note&amp;quot;,&amp;quot;note&amp;quot;:{&amp;quot;liked&amp;quot;:false,&amp;quot;id&amp;quot;:&amp;quot;60fd5fe8000000000102ffc0&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;韩系小姐姐or甜辣嗲妹？钓系约会穿搭💗&amp;quot;,&amp;quot;desc&amp;quot;:&amp;quot;约会怎么穿？ 韩系女人味or甜辣嗲妹你们怎么选？ look1 露肩上衣➕粉色开衩裙:Gill Judith韩雨嘉 - l&amp;quot;,&amp;quot;liked_count&amp;quot;:731,&amp;quot;type&amp;quot;:&amp;quot;normal&amp;quot;,&amp;quot;user&amp;quot;:{&amp;quot;nickname&amp;quot;:&amp;quot;imlalaya&amp;quot;,&amp;quot;images&amp;quot;:&amp;quot;https://sns-avatar-qc.xhscdn.com/avatar/5faa5ec28179390001ad5774.jpg?imageView2/2/w/80/format/jpg&amp;quot;,&amp;quot;red_official_verify_type&amp;quot;:0,&amp;quot;userid&amp;quot;:&amp;quot;5d5a6d5f0000000001004dc0&amp;quot;},&amp;quot;tag_info&amp;quot;:{},&amp;quot;images_list&amp;quot;:[{&amp;quot;fileid&amp;quot;:&amp;quot;f926eef3-f8b4-3620-bda7-8cacafdfdc01&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/f926eef3-f8b4-3620-bda7-8cacafdfdc01?imageView2/2/w/540/format/webp&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/f926eef3-f8b4-3620-bda7-8cacafdfdc01?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;f926eef3-f8b4-3620-bda7-8cacafdfdc01&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;07016560-be8c-36bf-b325-7e68bce88473&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/07016560-be8c-36bf-b325-7e68bce88473?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;07016560-be8c-36bf-b325-7e68bce88473&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;367251f6-bd6c-353c-98c5-74d65bc20dbf&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/367251f6-bd6c-353c-98c5-74d65bc20dbf?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;367251f6-bd6c-353c-98c5-74d65bc20dbf&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;509630ae-3020-3477-8c16-7f484d773efe&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/509630ae-3020-3477-8c16-7f484d773efe?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;509630ae-3020-3477-8c16-7f484d773efe&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;b902687d-a5ec-3ad7-90bd-bec9772ee817&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/b902687d-a5ec-3ad7-90bd-bec9772ee817?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;b902687d-a5ec-3ad7-90bd-bec9772ee817&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;221138f0-695a-3828-8ac9-1e5d6b29f1b3&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/221138f0-695a-3828-8ac9-1e5d6b29f1b3?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;221138f0-695a-3828-8ac9-1e5d6b29f1b3&amp;quot;}],&amp;quot;has_music&amp;quot;:false,&amp;quot;timestamp&amp;quot;:1627217896}},{&amp;quot;model_type&amp;quot;:&amp;quot;note&amp;quot;,&amp;quot;note&amp;quot;:{&amp;quot;liked&amp;quot;:false,&amp;quot;id&amp;quot;:&amp;quot;5d3adc26000000002801cd6d&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;好看的小姐姐头像 你想换哪个？&amp;quot;,&amp;quot;desc&amp;quot;:&amp;quot;爱了，爱了，喜欢这个头像 💓图片保存方法💓 💌1.右上角分享生成图保存到相册截图就可以了！！ 💌2.复制链接，然后粘贴到&amp;quot;,&amp;quot;liked_count&amp;quot;:342,&amp;quot;type&amp;quot;:&amp;quot;normal&amp;quot;,&amp;quot;user&amp;quot;:{&amp;quot;nickname&amp;quot;:&amp;quot;ni📺&amp;quot;,&amp;quot;images&amp;quot;:&amp;quot;https://sns-avatar-qc.xhscdn.com/avatar/5d3ad7cff3be3b00014ef6dd.jpg?imageView2/2/w/80/format/jpg&amp;quot;,&amp;quot;red_official_verify_type&amp;quot;:0,&amp;quot;userid&amp;quot;:&amp;quot;5d3ad75b0000000010015168&amp;quot;},&amp;quot;tag_info&amp;quot;:{},&amp;quot;images_list&amp;quot;:[{&amp;quot;fileid&amp;quot;:&amp;quot;cc1cc364-c692-39b2-98a9-63226b7ba5fd&amp;quot;,&amp;quot;height&amp;quot;:1280,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/cc1cc364-c692-39b2-98a9-63226b7ba5fd?imageView2/2/w/540/format/webp&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/cc1cc364-c692-39b2-98a9-63226b7ba5fd?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;cc1cc364-c692-39b2-98a9-63226b7ba5fd&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;f3c46f85-8bb1-3888-9faa-3dd8ae6c92dc&amp;quot;,&amp;quot;height&amp;quot;:1280,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/f3c46f85-8bb1-3888-9faa-3dd8ae6c92dc?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;f3c46f85-8bb1-3888-9faa-3dd8ae6c92dc&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;2e3dba1a-30e4-3721-88eb-e5c05c2eace6&amp;quot;,&amp;quot;height&amp;quot;:1280,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/2e3dba1a-30e4-3721-88eb-e5c05c2eace6?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;2e3dba1a-30e4-3721-88eb-e5c05c2eace6&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;7707a0a1-d7f6-3899-8eb4-8869619abc45&amp;quot;,&amp;quot;height&amp;quot;:1280,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/7707a0a1-d7f6-3899-8eb4-8869619abc45?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;7707a0a1-d7f6-3899-8eb4-8869619abc45&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;890c10f1-5a2b-3190-9653-3fcc9ec60032&amp;quot;,&amp;quot;height&amp;quot;:1280,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/890c10f1-5a2b-3190-9653-3fcc9ec60032?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;890c10f1-5a2b-3190-9653-3fcc9ec60032&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;0d2c9c51-6154-3916-a505-eb52fbcad079&amp;quot;,&amp;quot;height&amp;quot;:1280,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/0d2c9c51-6154-3916-a505-eb52fbcad079?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;0d2c9c51-6154-3916-a505-eb52fbcad079&amp;quot;}],&amp;quot;has_music&amp;quot;:false,&amp;quot;timestamp&amp;quot;:1564138534}},{&amp;quot;model_type&amp;quot;:&amp;quot;note&amp;quot;,&amp;quot;note&amp;quot;:{&amp;quot;liked&amp;quot;:false,&amp;quot;id&amp;quot;:&amp;quot;60bdecd0000000000102b315&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;135斤微胖女生的泳衣分享&amp;quot;,&amp;quot;desc&amp;quot;:&amp;quot;[暗中观察R]去这种海边城市，即使是旱鸭子 [害羞R]也要带上泳衣🩱拍几张 [赞R]超级ins风的一套 [抠鼻R]专门挑&amp;quot;,&amp;quot;liked_count&amp;quot;:48582,&amp;quot;type&amp;quot;:&amp;quot;normal&amp;quot;,&amp;quot;user&amp;quot;:{&amp;quot;nickname&amp;quot;:&amp;quot;大面菁微胖定制&amp;quot;,&amp;quot;images&amp;quot;:&amp;quot;https://sns-avatar-qc.xhscdn.com/avatar/5f4c6401f98ae000013370e9.jpg?imageView2/2/w/80/format/jpg&amp;quot;,&amp;quot;red_official_verify_type&amp;quot;:0,&amp;quot;userid&amp;quot;:&amp;quot;5b0cf7784eacab2308d926f4&amp;quot;},&amp;quot;tag_info&amp;quot;:{},&amp;quot;images_list&amp;quot;:[{&amp;quot;fileid&amp;quot;:&amp;quot;98810f52-d5ec-377d-9d51-f14b28f1a03e&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/98810f52-d5ec-377d-9d51-f14b28f1a03e?imageView2/2/w/540/format/webp&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/98810f52-d5ec-377d-9d51-f14b28f1a03e?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;98810f52-d5ec-377d-9d51-f14b28f1a03e&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;e25b542b-c127-37e9-a556-7fb8b6c0ed7c&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/e25b542b-c127-37e9-a556-7fb8b6c0ed7c?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;e25b542b-c127-37e9-a556-7fb8b6c0ed7c&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;3649cd25-1e49-3cbd-b6ba-f331df84fade&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/3649cd25-1e49-3cbd-b6ba-f331df84fade?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;3649cd25-1e49-3cbd-b6ba-f331df84fade&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;db044fb7-acd8-3561-a6a0-73a111170ded&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/db044fb7-acd8-3561-a6a0-73a111170ded?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;db044fb7-acd8-3561-a6a0-73a111170ded&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;d1214b22-0abd-3590-87c1-375941f3d5a6&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/d1214b22-0abd-3590-87c1-375941f3d5a6?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;d1214b22-0abd-3590-87c1-375941f3d5a6&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;6433835a-c7ce-3eba-ba73-6d5addae69f4&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/6433835a-c7ce-3eba-ba73-6d5addae69f4?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;6433835a-c7ce-3eba-ba73-6d5addae69f4&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;8796cb5c-5160-3339-92b7-40ebc19c8786&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/8796cb5c-5160-3339-92b7-40ebc19c8786?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;8796cb5c-5160-3339-92b7-40ebc19c8786&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;092bcb40-df79-3051-a14a-fe3e73189959&amp;quot;,&amp;quot;height&amp;quot;:1707,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/092bcb40-df79-3051-a14a-fe3e73189959?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;092bcb40-df79-3051-a14a-fe3e73189959&amp;quot;}],&amp;quot;has_music&amp;quot;:false,&amp;quot;timestamp&amp;quot;:1623059664}},{&amp;quot;model_type&amp;quot;:&amp;quot;note&amp;quot;,&amp;quot;note&amp;quot;:{&amp;quot;liked&amp;quot;:false,&amp;quot;id&amp;quot;:&amp;quot;60daf3ed000000000102b9d8&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;拍到一位漂亮短发小姐姐💓&amp;quot;,&amp;quot;desc&amp;quot;:&amp;quot;黄埔江边玩耍 好多漂亮小姐姐 非常惬意 很好出片 大家要去 一套：Marc Jacobs The Color Colle&amp;quot;,&amp;quot;liked_count&amp;quot;:2149,&amp;quot;type&amp;quot;:&amp;quot;normal&amp;quot;,&amp;quot;user&amp;quot;:{&amp;quot;nickname&amp;quot;:&amp;quot;憨桃人儿&amp;quot;,&amp;quot;images&amp;quot;:&amp;quot;https://sns-avatar-qc.xhscdn.com/avatar/5e12268d9397f100018df424.jpg?imageView2/2/w/80/format/jpg&amp;quot;,&amp;quot;red_official_verify_type&amp;quot;:1,&amp;quot;show_red_official_verify_icon&amp;quot;:true,&amp;quot;red_official_verified&amp;quot;:true,&amp;quot;userid&amp;quot;:&amp;quot;5a3ca4f611be101baff9abf3&amp;quot;},&amp;quot;tag_info&amp;quot;:{},&amp;quot;images_list&amp;quot;:[{&amp;quot;fileid&amp;quot;:&amp;quot;3ad2a1dc-3754-33b8-984d-c5cf108b206f&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/3ad2a1dc-3754-33b8-984d-c5cf108b206f?imageView2/2/w/540/format/webp&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/3ad2a1dc-3754-33b8-984d-c5cf108b206f?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;3ad2a1dc-3754-33b8-984d-c5cf108b206f&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;758a3a40-29d4-3b12-983c-514946aa3ef0&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/758a3a40-29d4-3b12-983c-514946aa3ef0?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;758a3a40-29d4-3b12-983c-514946aa3ef0&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;3418e652-f09a-34d6-815d-1427e3f872bb&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/3418e652-f09a-34d6-815d-1427e3f872bb?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;3418e652-f09a-34d6-815d-1427e3f872bb&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;135d71bf-65d4-32e6-b906-4c3a0287b687&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/135d71bf-65d4-32e6-b906-4c3a0287b687?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;135d71bf-65d4-32e6-b906-4c3a0287b687&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;0f9a956d-6a75-3b6f-b306-3dbb086873de&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/0f9a956d-6a75-3b6f-b306-3dbb086873de?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;0f9a956d-6a75-3b6f-b306-3dbb086873de&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;ff7970f7-69ff-3828-88ed-bdae53f1edc6&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/ff7970f7-69ff-3828-88ed-bdae53f1edc6?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;ff7970f7-69ff-3828-88ed-bdae53f1edc6&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;54a47925-e145-3beb-a373-237d5765ca8f&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/54a47925-e145-3beb-a373-237d5765ca8f?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;54a47925-e145-3beb-a373-237d5765ca8f&amp;quot;}],&amp;quot;has_music&amp;quot;:false,&amp;quot;timestamp&amp;quot;:1624962029}},{&amp;quot;model_type&amp;quot;:&amp;quot;note&amp;quot;,&amp;quot;note&amp;quot;:{&amp;quot;liked&amp;quot;:false,&amp;quot;id&amp;quot;:&amp;quot;60c765f1000000002103dca4&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;28岁离婚带俩娃也是美丽小姐姐&amp;quot;,&amp;quot;desc&amp;quot;:&amp;quot;你的生活状态永远由你自己定义 以前觉得结过婚生了孩子就会“掉价” 其实不是的，这样想的人眼界还不够宽 现在的我，有钱有颜&amp;quot;,&amp;quot;liked_count&amp;quot;:4523,&amp;quot;type&amp;quot;:&amp;quot;normal&amp;quot;,&amp;quot;user&amp;quot;:{&amp;quot;nickname&amp;quot;:&amp;quot;纳塔莉Nataliee&amp;quot;,&amp;quot;images&amp;quot;:&amp;quot;https://sns-avatar-qc.xhscdn.com/avatar/60ccbb9a7072f8c1861d6034.jpg?imageView2/2/w/80/format/jpg&amp;quot;,&amp;quot;red_official_verify_type&amp;quot;:0,&amp;quot;userid&amp;quot;:&amp;quot;58c243fb5e87e71084373923&amp;quot;},&amp;quot;tag_info&amp;quot;:{},&amp;quot;images_list&amp;quot;:[{&amp;quot;fileid&amp;quot;:&amp;quot;51c83dff-95e2-3bfc-be7a-c504dbe92d1b&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/51c83dff-95e2-3bfc-be7a-c504dbe92d1b?imageView2/2/w/540/format/webp&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/51c83dff-95e2-3bfc-be7a-c504dbe92d1b?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;51c83dff-95e2-3bfc-be7a-c504dbe92d1b&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;0c224b05-a27f-3a60-965f-5ccc810e05f5&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/0c224b05-a27f-3a60-965f-5ccc810e05f5?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;0c224b05-a27f-3a60-965f-5ccc810e05f5&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;2884082d-2b9f-36a8-9697-fd78fea55896&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/2884082d-2b9f-36a8-9697-fd78fea55896?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;2884082d-2b9f-36a8-9697-fd78fea55896&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;c8604a67-69eb-3e6f-b1bf-b21e4fd08030&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/c8604a67-69eb-3e6f-b1bf-b21e4fd08030?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;c8604a67-69eb-3e6f-b1bf-b21e4fd08030&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;60b4fb86-57cd-3864-bdf0-e2bef3ac5267&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/60b4fb86-57cd-3864-bdf0-e2bef3ac5267?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;60b4fb86-57cd-3864-bdf0-e2bef3ac5267&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;a3e02236-9847-3d7a-a2c1-c82929006331&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/a3e02236-9847-3d7a-a2c1-c82929006331?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;a3e02236-9847-3d7a-a2c1-c82929006331&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;0bc94d8a-57b1-3212-8d48-b09325a74d85&amp;quot;,&amp;quot;height&amp;quot;:959,&amp;quot;width&amp;quot;:1706,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/0bc94d8a-57b1-3212-8d48-b09325a74d85?imageView2/2/h/1080/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;0bc94d8a-57b1-3212-8d48-b09325a74d85&amp;quot;}],&amp;quot;has_music&amp;quot;:false,&amp;quot;timestamp&amp;quot;:1623680497}},{&amp;quot;model_type&amp;quot;:&amp;quot;note&amp;quot;,&amp;quot;note&amp;quot;:{&amp;quot;liked&amp;quot;:false,&amp;quot;id&amp;quot;:&amp;quot;60aade0c0000000021037c79&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;女生为了变美能有多假🧸我的一切都是假的&amp;quot;,&amp;quot;desc&amp;quot;:&amp;quot;碗姐又摊牌了，为了变美我使了哪些小手段 什么假屁屁，垫肩，假发片，发际线粉统统安排上！ 女孩子就是要漂亮，开心就好呀[扯&amp;quot;,&amp;quot;liked_count&amp;quot;:47719,&amp;quot;type&amp;quot;:&amp;quot;video&amp;quot;,&amp;quot;user&amp;quot;:{&amp;quot;nickname&amp;quot;:&amp;quot;碗大仙儿&amp;quot;,&amp;quot;images&amp;quot;:&amp;quot;https://sns-avatar-qc.xhscdn.com/avatar/5f8b1001b6a9920001c85223.jpg?imageView2/2/w/80/format/jpg&amp;quot;,&amp;quot;red_official_verify_type&amp;quot;:0,&amp;quot;userid&amp;quot;:&amp;quot;5e03975f00000000010025ac&amp;quot;},&amp;quot;tag_info&amp;quot;:{},&amp;quot;video_info&amp;quot;:{&amp;quot;id&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;height&amp;quot;:1920,&amp;quot;width&amp;quot;:1080,&amp;quot;url&amp;quot;:&amp;quot;http://sns-video-hw.xhscdn.com/8a3cd5318543fefbd0622b90744975c8a67e9499_wz?v=2&amp;quot;,&amp;quot;url_info_list&amp;quot;:[{&amp;quot;desc&amp;quot;:&amp;quot;h265-RedH265&amp;quot;,&amp;quot;url&amp;quot;:&amp;quot;http://sns-video-hw.xhscdn.com/8a3cd5318543fefbd0622b90744975c8a67e9499_wz?v=2&amp;quot;},{&amp;quot;desc&amp;quot;:&amp;quot;h264-RedH264&amp;quot;,&amp;quot;url&amp;quot;:&amp;quot;http://sns-video-hw.xhscdn.com/c1352927ffb0e7004427557923ece174b4971d94_r?v=2&amp;quot;}],&amp;quot;preload_size&amp;quot;:1048576,&amp;quot;played_count&amp;quot;:0,&amp;quot;duration&amp;quot;:245,&amp;quot;frame_ts&amp;quot;:0,&amp;quot;is_user_select&amp;quot;:false,&amp;quot;is_upload&amp;quot;:false,&amp;quot;first_frame&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/d0703cc93f714ccaa5b6414b6ea9f82a?imageView2/2/w/1080/format/webp&amp;quot;,&amp;quot;thumbnail&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/thumbnail/8aa342320bd343b79ef2d402f42382b1&amp;quot;,&amp;quot;thumbnail_dim&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/thumbnail/8aa342320bd343b79ef2d402f42382b1?imageView2/2/w/720/h/720/format/webp&amp;quot;,&amp;quot;loudness_balance_correction&amp;quot;:7,&amp;quot;adaptive_streaming_url_set&amp;quot;:[{&amp;quot;subid&amp;quot;:&amp;quot;540p/812950a81db34bc92857cb6cc451d65e558cc59f_ln&amp;quot;,&amp;quot;codec&amp;quot;:&amp;quot;H.265 / HEVC (High Efficiency Video Coding)&amp;quot;,&amp;quot;width&amp;quot;:540,&amp;quot;height&amp;quot;:960,&amp;quot;max_bitrate&amp;quot;:445107,&amp;quot;avg_bitrate&amp;quot;:445107,&amp;quot;quality_type&amp;quot;:&amp;quot;540p&amp;quot;,&amp;quot;protocol&amp;quot;:&amp;quot;http&amp;quot;,&amp;quot;packaging_format&amp;quot;:&amp;quot;mp4&amp;quot;,&amp;quot;url&amp;quot;:&amp;quot;http://sns-video-hw.xhscdn.com/540p/812950a81db34bc92857cb6cc451d65e558cc59f_ln&amp;quot;},{&amp;quot;subid&amp;quot;:&amp;quot;720p/962cbcbc255708252c7251aa9a4be08bf3f90a3f_ln&amp;quot;,&amp;quot;codec&amp;quot;:&amp;quot;H.265 / HEVC (High Efficiency Video Coding)&amp;quot;,&amp;quot;width&amp;quot;:720,&amp;quot;height&amp;quot;:1280,&amp;quot;max_bitrate&amp;quot;:678356,&amp;quot;avg_bitrate&amp;quot;:678356,&amp;quot;quality_type&amp;quot;:&amp;quot;720p&amp;quot;,&amp;quot;protocol&amp;quot;:&amp;quot;http&amp;quot;,&amp;quot;packaging_format&amp;quot;:&amp;quot;mp4&amp;quot;,&amp;quot;url&amp;quot;:&amp;quot;http://sns-video-hw.xhscdn.com/720p/962cbcbc255708252c7251aa9a4be08bf3f90a3f_ln&amp;quot;,&amp;quot;default_selected&amp;quot;:true},{&amp;quot;subid&amp;quot;:&amp;quot;1080p/21799d09dd2bcf1ed9b882e9ac0dd52445d4bf33_ln&amp;quot;,&amp;quot;codec&amp;quot;:&amp;quot;H.265 / HEVC (High Efficiency Video Coding)&amp;quot;,&amp;quot;width&amp;quot;:1080,&amp;quot;height&amp;quot;:1920,&amp;quot;max_bitrate&amp;quot;:1221121,&amp;quot;avg_bitrate&amp;quot;:1221121,&amp;quot;quality_type&amp;quot;:&amp;quot;1080p&amp;quot;,&amp;quot;protocol&amp;quot;:&amp;quot;http&amp;quot;,&amp;quot;packaging_format&amp;quot;:&amp;quot;mp4&amp;quot;,&amp;quot;url&amp;quot;:&amp;quot;http://sns-video-hw.xhscdn.com/1080p/21799d09dd2bcf1ed9b882e9ac0dd52445d4bf33_ln&amp;quot;}]},&amp;quot;images_list&amp;quot;:[{&amp;quot;fileid&amp;quot;:&amp;quot;8718247d-47b2-361b-ac25-4e41974f6598&amp;quot;,&amp;quot;height&amp;quot;:1194,&amp;quot;width&amp;quot;:894,&amp;quot;url&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/8718247d-47b2-361b-ac25-4e41974f6598?imageView2/2/w/540/format/webp&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/8718247d-47b2-361b-ac25-4e41974f6598?imageView2/2/w/1080/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;8718247d-47b2-361b-ac25-4e41974f6598&amp;quot;}],&amp;quot;has_music&amp;quot;:false,&amp;quot;timestamp&amp;quot;:1621810700}},{&amp;quot;model_type&amp;quot;:&amp;quot;note&amp;quot;,&amp;quot;note&amp;quot;:{&amp;quot;liked&amp;quot;:false,&amp;quot;id&amp;quot;:&amp;quot;60feb712000000000102b74c&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;地铁遇到很会穿的小姐姐🥰！&amp;quot;,&amp;quot;desc&amp;quot;:&amp;quot;-此人竟是我自己！！穿秋装太快乐了，再热也要穿[暗中观察R] -实在很热还可以脱掉外面的罩衫，当一个挂脖辣妹～这个罩衫袖&amp;quot;,&amp;quot;liked_count&amp;quot;:1153,&amp;quot;type&amp;quot;:&amp;quot;normal&amp;quot;,&amp;quot;user&amp;quot;:{&amp;quot;nickname&amp;quot;:&amp;quot;三加一&amp;quot;,&amp;quot;images&amp;quot;:&amp;quot;https://sns-avatar-qc.xhscdn.com/avatar/5f2a62072bbfb900018c22d7.jpg?imageView2/2/w/80/format/jpg&amp;quot;,&amp;quot;red_official_verify_type&amp;quot;:1,&amp;quot;show_red_official_verify_icon&amp;quot;:true,&amp;quot;red_official_verified&amp;quot;:true,&amp;quot;userid&amp;quot;:&amp;quot;5942993882ec396948c09d38&amp;quot;},&amp;quot;tag_info&amp;quot;:{},&amp;quot;images_list&amp;quot;:[{&amp;quot;fileid&amp;quot;:&amp;quot;9ce501c2-1496-392b-9f1f-6ecbb4a8e334&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/9ce501c2-1496-392b-9f1f-6ecbb4a8e334?imageView2/2/w/540/format/webp&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/9ce501c2-1496-392b-9f1f-6ecbb4a8e334?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;9ce501c2-1496-392b-9f1f-6ecbb4a8e334&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;93a89081-e3e0-32af-8efa-5677b314838e&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/93a89081-e3e0-32af-8efa-5677b314838e?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;93a89081-e3e0-32af-8efa-5677b314838e&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;a4a7fe54-a9b7-36e8-a08f-c127201adea4&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/a4a7fe54-a9b7-36e8-a08f-c127201adea4?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;a4a7fe54-a9b7-36e8-a08f-c127201adea4&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;ff96eb96-3fca-3615-ad8f-6587672173c5&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/ff96eb96-3fca-3615-ad8f-6587672173c5?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;ff96eb96-3fca-3615-ad8f-6587672173c5&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;2bb45759-45b7-3a14-92f6-f7e61eb608fd&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/2bb45759-45b7-3a14-92f6-f7e61eb608fd?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;2bb45759-45b7-3a14-92f6-f7e61eb608fd&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;6e5f15a7-0782-3d4b-95af-10594ca79aa0&amp;quot;,&amp;quot;height&amp;quot;:1705,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/6e5f15a7-0782-3d4b-95af-10594ca79aa0?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;6e5f15a7-0782-3d4b-95af-10594ca79aa0&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;d44b0bfa-0386-3e12-87b8-75aab3b86e69&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1706,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/d44b0bfa-0386-3e12-87b8-75aab3b86e69?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;d44b0bfa-0386-3e12-87b8-75aab3b86e69&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;c65472e8-01ba-3ea9-9ad2-216b4fa18d41&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1706,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/c65472e8-01ba-3ea9-9ad2-216b4fa18d41?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;c65472e8-01ba-3ea9-9ad2-216b4fa18d41&amp;quot;}],&amp;quot;has_music&amp;quot;:false,&amp;quot;timestamp&amp;quot;:1627305746}},{&amp;quot;model_type&amp;quot;:&amp;quot;note&amp;quot;,&amp;quot;note&amp;quot;:{&amp;quot;liked&amp;quot;:false,&amp;quot;id&amp;quot;:&amp;quot;60ed7d6f000000002103852c&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;救命 130斤穿这套可以封神了&amp;quot;,&amp;quot;desc&amp;quot;:&amp;quot;薄荷蓝这个颜色真的太太太好看了 [捂脸R]我130斤也没在怕的 谁穿谁好看 头发随意散下来真的整个氛围感抓住[得意R&amp;quot;,&amp;quot;liked_count&amp;quot;:2073,&amp;quot;type&amp;quot;:&amp;quot;normal&amp;quot;,&amp;quot;user&amp;quot;:{&amp;quot;nickname&amp;quot;:&amp;quot;起伏仔&amp;quot;,&amp;quot;images&amp;quot;:&amp;quot;https://sns-avatar-qc.xhscdn.com/avatar/5f8007603b41e50001fb62ea.jpg?imageView2/2/w/80/format/jpg&amp;quot;,&amp;quot;red_official_verify_type&amp;quot;:0,&amp;quot;userid&amp;quot;:&amp;quot;5a687f684eacab04bf17188f&amp;quot;},&amp;quot;tag_info&amp;quot;:{},&amp;quot;images_list&amp;quot;:[{&amp;quot;fileid&amp;quot;:&amp;quot;93b76c42-28eb-3e22-9ec3-937d8e03d9df&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/93b76c42-28eb-3e22-9ec3-937d8e03d9df?imageView2/2/w/540/format/webp&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/93b76c42-28eb-3e22-9ec3-937d8e03d9df?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;93b76c42-28eb-3e22-9ec3-937d8e03d9df&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;6e910d8a-2145-30ea-ab52-fbbd7aa37029&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/6e910d8a-2145-30ea-ab52-fbbd7aa37029?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;6e910d8a-2145-30ea-ab52-fbbd7aa37029&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;ee2c0195-f2cf-3efe-9c40-d28255cc32d5&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/ee2c0195-f2cf-3efe-9c40-d28255cc32d5?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;ee2c0195-f2cf-3efe-9c40-d28255cc32d5&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;c22fdcc2-100f-391f-9b3a-c3138273c55a&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/c22fdcc2-100f-391f-9b3a-c3138273c55a?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;c22fdcc2-100f-391f-9b3a-c3138273c55a&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;a7245696-a798-3a37-85ee-68c4a75768b4&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/a7245696-a798-3a37-85ee-68c4a75768b4?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;a7245696-a798-3a37-85ee-68c4a75768b4&amp;quot;}],&amp;quot;has_music&amp;quot;:false,&amp;quot;timestamp&amp;quot;:1626176879}},{&amp;quot;model_type&amp;quot;:&amp;quot;note&amp;quot;,&amp;quot;note&amp;quot;:{&amp;quot;liked&amp;quot;:false,&amp;quot;id&amp;quot;:&amp;quot;5f4757b400000000010053ca&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;你绝对没用过的优质女头➕手机壁纸&amp;quot;,&amp;quot;desc&amp;quot;:&amp;quot;分享我特别喜欢的一个小姐姐的照片，是真的觉得超级超级好看[害羞R][害羞R][害羞R] 照片来源 抖音 小余想吃烧烤 如&amp;quot;,&amp;quot;liked_count&amp;quot;:284,&amp;quot;type&amp;quot;:&amp;quot;normal&amp;quot;,&amp;quot;user&amp;quot;:{&amp;quot;nickname&amp;quot;:&amp;quot;cutey 二玥🉑&amp;quot;,&amp;quot;images&amp;quot;:&amp;quot;https://sns-avatar-qc.xhscdn.com/avatar/5f8ad0183b41e50001ffe2a4.jpg?imageView2/2/w/80/format/jpg&amp;quot;,&amp;quot;red_official_verify_type&amp;quot;:0,&amp;quot;userid&amp;quot;:&amp;quot;5da99fea00000000010047e9&amp;quot;},&amp;quot;tag_info&amp;quot;:{},&amp;quot;images_list&amp;quot;:[{&amp;quot;fileid&amp;quot;:&amp;quot;07b26dd5-ec73-3ead-8c7f-a53486439359&amp;quot;,&amp;quot;height&amp;quot;:1162,&amp;quot;width&amp;quot;:872,&amp;quot;url&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/07b26dd5-ec73-3ead-8c7f-a53486439359?imageView2/2/w/540/format/webp&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/07b26dd5-ec73-3ead-8c7f-a53486439359?imageView2/2/w/1080/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;07b26dd5-ec73-3ead-8c7f-a53486439359&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;41d5b80a-e67c-384f-94df-501cd9c72cf4&amp;quot;,&amp;quot;height&amp;quot;:1194,&amp;quot;width&amp;quot;:896,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/41d5b80a-e67c-384f-94df-501cd9c72cf4?imageView2/2/w/1080/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;41d5b80a-e67c-384f-94df-501cd9c72cf4&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;3d8c7dd5-bb2f-34bd-95c6-2afe7ce4a1da&amp;quot;,&amp;quot;height&amp;quot;:1173,&amp;quot;width&amp;quot;:880,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/3d8c7dd5-bb2f-34bd-95c6-2afe7ce4a1da?imageView2/2/w/1080/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;3d8c7dd5-bb2f-34bd-95c6-2afe7ce4a1da&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;7f34e4d2-ee67-3994-9122-0ae6857ae808&amp;quot;,&amp;quot;height&amp;quot;:1216,&amp;quot;width&amp;quot;:912,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/7f34e4d2-ee67-3994-9122-0ae6857ae808?imageView2/2/w/1080/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;7f34e4d2-ee67-3994-9122-0ae6857ae808&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;7094228f-a740-35a5-91c9-dc868e6b2d74&amp;quot;,&amp;quot;height&amp;quot;:1200,&amp;quot;width&amp;quot;:900,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/7094228f-a740-35a5-91c9-dc868e6b2d74?imageView2/2/w/1080/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;7094228f-a740-35a5-91c9-dc868e6b2d74&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;48656dd7-ed11-3133-b29a-4387a892c3e2&amp;quot;,&amp;quot;height&amp;quot;:1200,&amp;quot;width&amp;quot;:900,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/48656dd7-ed11-3133-b29a-4387a892c3e2?imageView2/2/w/1080/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;48656dd7-ed11-3133-b29a-4387a892c3e2&amp;quot;}],&amp;quot;has_music&amp;quot;:false,&amp;quot;timestamp&amp;quot;:1598511028}},{&amp;quot;model_type&amp;quot;:&amp;quot;note&amp;quot;,&amp;quot;note&amp;quot;:{&amp;quot;liked&amp;quot;:false,&amp;quot;id&amp;quot;:&amp;quot;5fe9bd44000000000101c119&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;ootd韩国学生小姐姐🍑&amp;quot;,&amp;quot;desc&amp;quot;:&amp;quot;喜欢这次的打扮，韩国学生小姐姐的感觉～ 穿出韩味儿需要：一件牛角扣大衣 一顶贝雷帽 一个素颜眼镜 帆布包 大衣：doun&amp;quot;,&amp;quot;liked_count&amp;quot;:31517,&amp;quot;type&amp;quot;:&amp;quot;normal&amp;quot;,&amp;quot;user&amp;quot;:{&amp;quot;nickname&amp;quot;:&amp;quot;憨桃人儿&amp;quot;,&amp;quot;images&amp;quot;:&amp;quot;https://sns-avatar-qc.xhscdn.com/avatar/5e12268d9397f100018df424.jpg?imageView2/2/w/80/format/jpg&amp;quot;,&amp;quot;red_official_verify_type&amp;quot;:1,&amp;quot;show_red_official_verify_icon&amp;quot;:true,&amp;quot;red_official_verified&amp;quot;:true,&amp;quot;userid&amp;quot;:&amp;quot;5a3ca4f611be101baff9abf3&amp;quot;},&amp;quot;tag_info&amp;quot;:{},&amp;quot;images_list&amp;quot;:[{&amp;quot;fileid&amp;quot;:&amp;quot;49896211-803f-3fef-97a7-403dc8db7bae&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/49896211-803f-3fef-97a7-403dc8db7bae?imageView2/2/w/540/format/webp&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/49896211-803f-3fef-97a7-403dc8db7bae?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;49896211-803f-3fef-97a7-403dc8db7bae&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;177b7dbb-1abd-3bbc-9bc8-d7713ed9832a&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/177b7dbb-1abd-3bbc-9bc8-d7713ed9832a?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;177b7dbb-1abd-3bbc-9bc8-d7713ed9832a&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;5c3e2854-8295-3819-bf5b-8c6b4f3ca296&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/5c3e2854-8295-3819-bf5b-8c6b4f3ca296?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;5c3e2854-8295-3819-bf5b-8c6b4f3ca296&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;f8e14a07-2448-3b06-9913-e61a2a0f24f0&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/f8e14a07-2448-3b06-9913-e61a2a0f24f0?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;f8e14a07-2448-3b06-9913-e61a2a0f24f0&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;e2b4599f-5c3e-3767-ba46-36bfcbf141d3&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/e2b4599f-5c3e-3767-ba46-36bfcbf141d3?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;e2b4599f-5c3e-3767-ba46-36bfcbf141d3&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;3c248a1d-b91f-3b61-a2ac-0e2d8d490558&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/3c248a1d-b91f-3b61-a2ac-0e2d8d490558?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;3c248a1d-b91f-3b61-a2ac-0e2d8d490558&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;b6a237a2-d559-3c20-ab49-8fb41896a953&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/b6a237a2-d559-3c20-ab49-8fb41896a953?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;b6a237a2-d559-3c20-ab49-8fb41896a953&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;3637bc0f-a2ce-322f-b26a-1289b22a1994&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/3637bc0f-a2ce-322f-b26a-1289b22a1994?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;3637bc0f-a2ce-322f-b26a-1289b22a1994&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;eec6f24b-dc56-3cb2-953f-e2be47ac2dbb&amp;quot;,&amp;quot;height&amp;quot;:1136,&amp;quot;width&amp;quot;:1706,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/eec6f24b-dc56-3cb2-953f-e2be47ac2dbb?imageView2/2/h/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;eec6f24b-dc56-3cb2-953f-e2be47ac2dbb&amp;quot;}],&amp;quot;has_music&amp;quot;:false,&amp;quot;timestamp&amp;quot;:1609153860}},{&amp;quot;model_type&amp;quot;:&amp;quot;note&amp;quot;,&amp;quot;note&amp;quot;:{&amp;quot;liked&amp;quot;:false,&amp;quot;id&amp;quot;:&amp;quot;5f87fa45000000000100597d&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;拿着33小姐姐的照片让Tony老师剪的头～&amp;quot;,&amp;quot;desc&amp;quot;:&amp;quot;很久之前就看到超好看的小姐姐！！图片保存的很久哈哈哈直到8月份的时候才下定决心剪图一的长度，因为我经常健身所以和Tony&amp;quot;,&amp;quot;liked_count&amp;quot;:1165,&amp;quot;type&amp;quot;:&amp;quot;normal&amp;quot;,&amp;quot;user&amp;quot;:{&amp;quot;nickname&amp;quot;:&amp;quot;一亿大奖得主&amp;quot;,&amp;quot;images&amp;quot;:&amp;quot;https://sns-avatar-qc.xhscdn.com/avatar/5e78641e4540170001e6eaa5.jpg?imageView2/2/w/80/format/jpg&amp;quot;,&amp;quot;red_official_verify_type&amp;quot;:0,&amp;quot;userid&amp;quot;:&amp;quot;5df25abd000000000100492a&amp;quot;},&amp;quot;tag_info&amp;quot;:{},&amp;quot;images_list&amp;quot;:[{&amp;quot;fileid&amp;quot;:&amp;quot;cad387f6-a055-330e-87fe-83a3d778c7d6&amp;quot;,&amp;quot;height&amp;quot;:1440,&amp;quot;width&amp;quot;:1080,&amp;quot;url&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/cad387f6-a055-330e-87fe-83a3d778c7d6?imageView2/2/w/540/format/webp&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/cad387f6-a055-330e-87fe-83a3d778c7d6?imageView2/2/w/1080/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;cad387f6-a055-330e-87fe-83a3d778c7d6&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;8d70ca01-565c-3e3a-8439-e04a100c4a0e&amp;quot;,&amp;quot;height&amp;quot;:1440,&amp;quot;width&amp;quot;:1080,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/8d70ca01-565c-3e3a-8439-e04a100c4a0e?imageView2/2/w/1080/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;8d70ca01-565c-3e3a-8439-e04a100c4a0e&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;ee3ede80-8101-33e2-97f4-49e7e735617c&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/ee3ede80-8101-33e2-97f4-49e7e735617c?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;ee3ede80-8101-33e2-97f4-49e7e735617c&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;f1e970a2-24bd-363d-a0c2-7bd3aace13c4&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/f1e970a2-24bd-363d-a0c2-7bd3aace13c4?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;f1e970a2-24bd-363d-a0c2-7bd3aace13c4&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;43ae8a74-a044-378b-a201-9e40912c0ca3&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/43ae8a74-a044-378b-a201-9e40912c0ca3?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;43ae8a74-a044-378b-a201-9e40912c0ca3&amp;quot;}],&amp;quot;has_music&amp;quot;:false,&amp;quot;timestamp&amp;quot;:1602746949}},{&amp;quot;model_type&amp;quot;:&amp;quot;note&amp;quot;,&amp;quot;note&amp;quot;:{&amp;quot;liked&amp;quot;:false,&amp;quot;id&amp;quot;:&amp;quot;60bf613b000000000102d661&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;ootd｜就很绝!!!!约会战袍黑白yyds🖤&amp;quot;,&amp;quot;desc&amp;quot;:&amp;quot;今天就很香奈鹅呀😎 黑白yyds!!!!!! 版型上身就是很显瘦滴 收腰设计 我喜欢领口的蝴蝶结珍珠设计 很小公主👸裙摆&amp;quot;,&amp;quot;liked_count&amp;quot;:14604,&amp;quot;type&amp;quot;:&amp;quot;normal&amp;quot;,&amp;quot;user&amp;quot;:{&amp;quot;nickname&amp;quot;:&amp;quot;陈点点&amp;quot;,&amp;quot;images&amp;quot;:&amp;quot;https://sns-avatar-qc.xhscdn.com/avatar/5f9b92f73fd9bc000102c374.jpg?imageView2/2/w/80/format/jpg&amp;quot;,&amp;quot;red_official_verify_type&amp;quot;:0,&amp;quot;userid&amp;quot;:&amp;quot;5a5ca86411be1077ee2f5f2e&amp;quot;},&amp;quot;tag_info&amp;quot;:{},&amp;quot;images_list&amp;quot;:[{&amp;quot;fileid&amp;quot;:&amp;quot;a8a8bb1d-d5e1-3ec8-96f2-eb1350f0b1c6&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/a8a8bb1d-d5e1-3ec8-96f2-eb1350f0b1c6?imageView2/2/w/540/format/webp&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/a8a8bb1d-d5e1-3ec8-96f2-eb1350f0b1c6?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;a8a8bb1d-d5e1-3ec8-96f2-eb1350f0b1c6&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;094f2d46-1336-3e95-bf22-901fd4ae47f2&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/094f2d46-1336-3e95-bf22-901fd4ae47f2?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;094f2d46-1336-3e95-bf22-901fd4ae47f2&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;58336854-9ab5-37a7-9a38-e5092daa5ec9&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/58336854-9ab5-37a7-9a38-e5092daa5ec9?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;58336854-9ab5-37a7-9a38-e5092daa5ec9&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;e3de88f9-4739-3242-9beb-1d8be630e5fe&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/e3de88f9-4739-3242-9beb-1d8be630e5fe?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;e3de88f9-4739-3242-9beb-1d8be630e5fe&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;6a3a34b1-44ac-3f15-a1a6-c8d45719e635&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/6a3a34b1-44ac-3f15-a1a6-c8d45719e635?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;6a3a34b1-44ac-3f15-a1a6-c8d45719e635&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;e8e78835-31c2-3198-9d17-23da9bb12381&amp;quot;,&amp;quot;height&amp;quot;:1705,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/e8e78835-31c2-3198-9d17-23da9bb12381?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;e8e78835-31c2-3198-9d17-23da9bb12381&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;e64c61a6-2b56-3223-91f8-abd3fde06cd2&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1279,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/e64c61a6-2b56-3223-91f8-abd3fde06cd2?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;e64c61a6-2b56-3223-91f8-abd3fde06cd2&amp;quot;}],&amp;quot;has_music&amp;quot;:false,&amp;quot;timestamp&amp;quot;:1623155003}},{&amp;quot;model_type&amp;quot;:&amp;quot;note&amp;quot;,&amp;quot;note&amp;quot;:{&amp;quot;liked&amp;quot;:false,&amp;quot;id&amp;quot;:&amp;quot;60ffe1850000000021037edb&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;每日穿搭 今天是温柔的小姐姐！&amp;quot;,&amp;quot;desc&amp;quot;:&amp;quot;#OOTD#夏季连衣裙穿搭 终于有一天比较淑女[大笑R] 我好像蛮适合粉紫色系哒[害羞R] 连衣裙：Bing Daily&amp;quot;,&amp;quot;liked_count&amp;quot;:501,&amp;quot;type&amp;quot;:&amp;quot;normal&amp;quot;,&amp;quot;user&amp;quot;:{&amp;quot;nickname&amp;quot;:&amp;quot;徐菲fei&amp;quot;,&amp;quot;images&amp;quot;:&amp;quot;https://sns-avatar-qc.xhscdn.com/avatar/60bf1f139c6fc75b623ef92b.jpg?imageView2/2/w/80/format/jpg&amp;quot;,&amp;quot;red_official_verify_type&amp;quot;:0,&amp;quot;userid&amp;quot;:&amp;quot;562d97b29eb5780466fd02ab&amp;quot;},&amp;quot;tag_info&amp;quot;:{},&amp;quot;images_list&amp;quot;:[{&amp;quot;fileid&amp;quot;:&amp;quot;1d992dcd-6c73-3ca3-959a-d4f8e6390068&amp;quot;,&amp;quot;height&amp;quot;:1706,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/1d992dcd-6c73-3ca3-959a-d4f8e6390068?imageView2/2/w/540/format/webp&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/1d992dcd-6c73-3ca3-959a-d4f8e6390068?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;1d992dcd-6c73-3ca3-959a-d4f8e6390068&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;9dcffc09-0e77-394c-a6e9-ff0299b8e1ed&amp;quot;,&amp;quot;height&amp;quot;:1663,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/9dcffc09-0e77-394c-a6e9-ff0299b8e1ed?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;9dcffc09-0e77-394c-a6e9-ff0299b8e1ed&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;6c0de127-8126-3aa3-8c96-f3ecf6e8609e&amp;quot;,&amp;quot;height&amp;quot;:988,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/6c0de127-8126-3aa3-8c96-f3ecf6e8609e?imageView2/2/h/1080/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;6c0de127-8126-3aa3-8c96-f3ecf6e8609e&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;163bc327-32da-38c7-a721-34a3745ae48e&amp;quot;,&amp;quot;height&amp;quot;:1615,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/163bc327-32da-38c7-a721-34a3745ae48e?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;163bc327-32da-38c7-a721-34a3745ae48e&amp;quot;},{&amp;quot;fileid&amp;quot;:&amp;quot;6bc0c539-0934-3248-89e9-082df18ee334&amp;quot;,&amp;quot;height&amp;quot;:1402,&amp;quot;width&amp;quot;:1280,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/6bc0c539-0934-3248-89e9-082df18ee334?imageView2/2/w/1280/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;6bc0c539-0934-3248-89e9-082df18ee334&amp;quot;}],&amp;quot;has_music&amp;quot;:false,&amp;quot;timestamp&amp;quot;:1627382149}},{&amp;quot;model_type&amp;quot;:&amp;quot;note&amp;quot;,&amp;quot;note&amp;quot;:{&amp;quot;liked&amp;quot;:false,&amp;quot;id&amp;quot;:&amp;quot;5f3e000e000000000101e204&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;desc&amp;quot;:&amp;quot;近期客样拍摄 颜值高 身材好 有一定表现力 符合条件的小姐姐带照片 私信报名 位置 上海&amp;quot;,&amp;quot;liked_count&amp;quot;:202,&amp;quot;type&amp;quot;:&amp;quot;video&amp;quot;,&amp;quot;user&amp;quot;:{&amp;quot;nickname&amp;quot;:&amp;quot;约拍博主&amp;quot;,&amp;quot;images&amp;quot;:&amp;quot;https://sns-avatar-qc.xhscdn.com/avatar/60fb9692c32a931cdc23196e.jpg?imageView2/2/w/80/format/jpg&amp;quot;,&amp;quot;red_official_verify_type&amp;quot;:0,&amp;quot;userid&amp;quot;:&amp;quot;5ecbe4d60000000001000c21&amp;quot;},&amp;quot;tag_info&amp;quot;:{},&amp;quot;video_info&amp;quot;:{&amp;quot;id&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;height&amp;quot;:960,&amp;quot;width&amp;quot;:528,&amp;quot;url&amp;quot;:&amp;quot;http://sns-video-hw.xhscdn.com/aa62e7892c65507130347418d0eb03f9e4232d7a_wz?v=2&amp;quot;,&amp;quot;url_info_list&amp;quot;:[{&amp;quot;desc&amp;quot;:&amp;quot;h265-RedH265&amp;quot;,&amp;quot;url&amp;quot;:&amp;quot;http://sns-video-hw.xhscdn.com/aa62e7892c65507130347418d0eb03f9e4232d7a_wz?v=2&amp;quot;},{&amp;quot;desc&amp;quot;:&amp;quot;h264-RedH264&amp;quot;,&amp;quot;url&amp;quot;:&amp;quot;http://sns-video-hw.xhscdn.com/c9227b46f08e7a8fe0ec9842effa9bd07bd44c3b_v1?v=2&amp;quot;}],&amp;quot;preload_size&amp;quot;:1048576,&amp;quot;played_count&amp;quot;:0,&amp;quot;duration&amp;quot;:14,&amp;quot;frame_ts&amp;quot;:0,&amp;quot;is_user_select&amp;quot;:false,&amp;quot;is_upload&amp;quot;:false,&amp;quot;first_frame&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/7f42113f-82dc-3e98-82c8-916a3e51e028?imageView2/2/w/1080/format/webp&amp;quot;,&amp;quot;thumbnail&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/thumbnail/fa6176d3b42a4db6ab4f1c5fa747df67&amp;quot;,&amp;quot;thumbnail_dim&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/thumbnail/fa6176d3b42a4db6ab4f1c5fa747df67?imageView2/2/w/720/h/720/format/webp&amp;quot;},&amp;quot;images_list&amp;quot;:[{&amp;quot;fileid&amp;quot;:&amp;quot;7f42113f-82dc-3e98-82c8-916a3e51e028&amp;quot;,&amp;quot;height&amp;quot;:960,&amp;quot;width&amp;quot;:528,&amp;quot;url&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/7f42113f-82dc-3e98-82c8-916a3e51e028?imageView2/2/w/540/format/webp&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/7f42113f-82dc-3e98-82c8-916a3e51e028?imageView2/2/w/1080/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;7f42113f-82dc-3e98-82c8-916a3e51e028&amp;quot;}],&amp;quot;has_music&amp;quot;:false,&amp;quot;timestamp&amp;quot;:1597898766}},{&amp;quot;model_type&amp;quot;:&amp;quot;note&amp;quot;,&amp;quot;note&amp;quot;:{&amp;quot;liked&amp;quot;:false,&amp;quot;id&amp;quot;:&amp;quot;604cb3c4000000000102b00d&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;你朋友中最好听的名字是什么？&amp;quot;,&amp;quot;desc&amp;quot;:&amp;quot;@时髦小姐姐 @日常薯 @薯队长&amp;quot;,&amp;quot;liked_count&amp;quot;:10936,&amp;quot;type&amp;quot;:&amp;quot;video&amp;quot;,&amp;quot;user&amp;quot;:{&amp;quot;nickname&amp;quot;:&amp;quot;何丹彤&amp;quot;,&amp;quot;images&amp;quot;:&amp;quot;https://sns-avatar-qc.xhscdn.com/avatar/608641d2b0815b4e2dba23c8.jpg?imageView2/2/w/80/format/jpg&amp;quot;,&amp;quot;red_official_verify_type&amp;quot;:0,&amp;quot;userid&amp;quot;:&amp;quot;5fa022eb000000000100372e&amp;quot;},&amp;quot;tag_info&amp;quot;:{},&amp;quot;video_info&amp;quot;:{&amp;quot;id&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;height&amp;quot;:1048,&amp;quot;width&amp;quot;:719,&amp;quot;url&amp;quot;:&amp;quot;http://sns-video-hw.xhscdn.com/879c2b9edd4878911ad7e8604f34bf49cb98d085_wz?v=2&amp;quot;,&amp;quot;url_info_list&amp;quot;:[{&amp;quot;desc&amp;quot;:&amp;quot;h265-RedH265&amp;quot;,&amp;quot;url&amp;quot;:&amp;quot;http://sns-video-hw.xhscdn.com/879c2b9edd4878911ad7e8604f34bf49cb98d085_wz?v=2&amp;quot;},{&amp;quot;desc&amp;quot;:&amp;quot;h264-RedH264&amp;quot;,&amp;quot;url&amp;quot;:&amp;quot;http://sns-video-hw.xhscdn.com/d457e36a731e7888ccf2fe8edab5f4bf06e62992_r?v=2&amp;quot;}],&amp;quot;preload_size&amp;quot;:1048576,&amp;quot;played_count&amp;quot;:0,&amp;quot;duration&amp;quot;:9,&amp;quot;frame_ts&amp;quot;:0,&amp;quot;is_user_select&amp;quot;:false,&amp;quot;is_upload&amp;quot;:false,&amp;quot;first_frame&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/7bda753431694b99ab858a901c96d941?imageView2/2/w/1080/format/webp&amp;quot;,&amp;quot;thumbnail&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/thumbnail/214b800c0c8b4c1f89e1380836f1658e&amp;quot;,&amp;quot;thumbnail_dim&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/thumbnail/214b800c0c8b4c1f89e1380836f1658e?imageView2/2/w/720/h/720/format/webp&amp;quot;,&amp;quot;loudness_balance_correction&amp;quot;:-1},&amp;quot;images_list&amp;quot;:[{&amp;quot;fileid&amp;quot;:&amp;quot;e8fe20ed-a5ff-3240-bcfa-9da6e64b945f&amp;quot;,&amp;quot;height&amp;quot;:1194,&amp;quot;width&amp;quot;:894,&amp;quot;url&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/e8fe20ed-a5ff-3240-bcfa-9da6e64b945f?imageView2/2/w/540/format/webp&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/e8fe20ed-a5ff-3240-bcfa-9da6e64b945f?imageView2/2/w/1080/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;e8fe20ed-a5ff-3240-bcfa-9da6e64b945f&amp;quot;}],&amp;quot;has_music&amp;quot;:false,&amp;quot;timestamp&amp;quot;:1615639492}},{&amp;quot;model_type&amp;quot;:&amp;quot;note&amp;quot;,&amp;quot;note&amp;quot;:{&amp;quot;liked&amp;quot;:false,&amp;quot;id&amp;quot;:&amp;quot;5fb63eb30000000001006df4&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;jk小姐姐&amp;quot;,&amp;quot;desc&amp;quot;:&amp;quot;没错 你是凭实力刷到的，充满正能量，快艾特你的兄弟来看&amp;quot;,&amp;quot;liked_count&amp;quot;:2820,&amp;quot;type&amp;quot;:&amp;quot;video&amp;quot;,&amp;quot;user&amp;quot;:{&amp;quot;nickname&amp;quot;:&amp;quot;jk穿搭薯&amp;quot;,&amp;quot;images&amp;quot;:&amp;quot;https://sns-avatar-qc.xhscdn.com/avatar/608ff8ab70e23f3f8d33a8d5.jpg?imageView2/2/w/80/format/jpg&amp;quot;,&amp;quot;red_official_verify_type&amp;quot;:0,&amp;quot;userid&amp;quot;:&amp;quot;5eddd9c7000000000101d5c1&amp;quot;},&amp;quot;tag_info&amp;quot;:{},&amp;quot;video_info&amp;quot;:{&amp;quot;id&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;height&amp;quot;:1284,&amp;quot;width&amp;quot;:720,&amp;quot;url&amp;quot;:&amp;quot;http://sns-video-hw.xhscdn.com/588792c6c2f59c66d4593f7c0b8a0ac71bec6008_wz?v=2&amp;quot;,&amp;quot;url_info_list&amp;quot;:[{&amp;quot;desc&amp;quot;:&amp;quot;h265-RedH265&amp;quot;,&amp;quot;url&amp;quot;:&amp;quot;http://sns-video-hw.xhscdn.com/588792c6c2f59c66d4593f7c0b8a0ac71bec6008_wz?v=2&amp;quot;},{&amp;quot;desc&amp;quot;:&amp;quot;h264-RedH264&amp;quot;,&amp;quot;url&amp;quot;:&amp;quot;http://sns-video-hw.xhscdn.com/c574a76e93a43a12f29170bd2a5e05e4004efaeb_v1?v=2&amp;quot;}],&amp;quot;preload_size&amp;quot;:1048576,&amp;quot;played_count&amp;quot;:0,&amp;quot;duration&amp;quot;:12,&amp;quot;frame_ts&amp;quot;:0,&amp;quot;is_user_select&amp;quot;:false,&amp;quot;is_upload&amp;quot;:false,&amp;quot;first_frame&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/05c8093e0c5543f8a16e48ea95617416?imageView2/2/w/1080/format/webp&amp;quot;,&amp;quot;thumbnail&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/thumbnail/29412048b46949da8404f95bfcc42d59&amp;quot;,&amp;quot;thumbnail_dim&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/thumbnail/29412048b46949da8404f95bfcc42d59?imageView2/2/w/720/h/720/format/webp&amp;quot;},&amp;quot;images_list&amp;quot;:[{&amp;quot;fileid&amp;quot;:&amp;quot;dd705aa7-8427-35d7-8d21-ee857dc7aa9f&amp;quot;,&amp;quot;height&amp;quot;:958,&amp;quot;width&amp;quot;:718,&amp;quot;url&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/dd705aa7-8427-35d7-8d21-ee857dc7aa9f?imageView2/2/w/540/format/webp&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/dd705aa7-8427-35d7-8d21-ee857dc7aa9f?imageView2/2/w/1080/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;dd705aa7-8427-35d7-8d21-ee857dc7aa9f&amp;quot;}],&amp;quot;has_music&amp;quot;:false,&amp;quot;timestamp&amp;quot;:1605779123}},{&amp;quot;model_type&amp;quot;:&amp;quot;note&amp;quot;,&amp;quot;note&amp;quot;:{&amp;quot;liked&amp;quot;:false,&amp;quot;id&amp;quot;:&amp;quot;5f93aee900000000010050cc&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;不心动挑战｜有这样的女朋友你几点回家？&amp;quot;,&amp;quot;desc&amp;quot;:&amp;quot;@时髦小姐姐 @穿搭薯 躺下变装&amp;quot;,&amp;quot;liked_count&amp;quot;:625,&amp;quot;type&amp;quot;:&amp;quot;video&amp;quot;,&amp;quot;user&amp;quot;:{&amp;quot;nickname&amp;quot;:&amp;quot;Nane南一&amp;quot;,&amp;quot;images&amp;quot;:&amp;quot;https://sns-avatar-qc.xhscdn.com/avatar/6035ed5d19bd388cc81ebeab.jpg?imageView2/2/w/80/format/jpg&amp;quot;,&amp;quot;red_official_verify_type&amp;quot;:0,&amp;quot;userid&amp;quot;:&amp;quot;5ed35d5b000000000101e587&amp;quot;},&amp;quot;tag_info&amp;quot;:{},&amp;quot;video_info&amp;quot;:{&amp;quot;id&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;height&amp;quot;:1574,&amp;quot;width&amp;quot;:887,&amp;quot;url&amp;quot;:&amp;quot;http://sns-video-hw.xhscdn.com/7bb069bf2572bc850323f2b141421c1f3a4174ad_wz?v=2&amp;quot;,&amp;quot;url_info_list&amp;quot;:[{&amp;quot;desc&amp;quot;:&amp;quot;h265-RedH265&amp;quot;,&amp;quot;url&amp;quot;:&amp;quot;http://sns-video-hw.xhscdn.com/7bb069bf2572bc850323f2b141421c1f3a4174ad_wz?v=2&amp;quot;},{&amp;quot;desc&amp;quot;:&amp;quot;h264-RedH264&amp;quot;,&amp;quot;url&amp;quot;:&amp;quot;http://sns-video-hw.xhscdn.com/6446eb412cde3dd7a78736130dceab7ca7c96bda_v1?v=2&amp;quot;}],&amp;quot;preload_size&amp;quot;:1048576,&amp;quot;played_count&amp;quot;:0,&amp;quot;duration&amp;quot;:11,&amp;quot;frame_ts&amp;quot;:0,&amp;quot;is_user_select&amp;quot;:false,&amp;quot;is_upload&amp;quot;:false,&amp;quot;first_frame&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/6d8f5c5b538e409fbff707afbc22f910?imageView2/2/w/1080/format/webp&amp;quot;,&amp;quot;thumbnail&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/thumbnail/f12a07df120a4c28924fb6bb81203639&amp;quot;,&amp;quot;thumbnail_dim&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/thumbnail/f12a07df120a4c28924fb6bb81203639?imageView2/2/w/720/h/720/format/webp&amp;quot;},&amp;quot;images_list&amp;quot;:[{&amp;quot;fileid&amp;quot;:&amp;quot;f8e9104b-e53d-3364-83f9-4781e9386a4e&amp;quot;,&amp;quot;height&amp;quot;:1194,&amp;quot;width&amp;quot;:895,&amp;quot;url&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/f8e9104b-e53d-3364-83f9-4781e9386a4e?imageView2/2/w/540/format/webp&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/f8e9104b-e53d-3364-83f9-4781e9386a4e?imageView2/2/w/1080/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;f8e9104b-e53d-3364-83f9-4781e9386a4e&amp;quot;}],&amp;quot;has_music&amp;quot;:false,&amp;quot;timestamp&amp;quot;:1603514089}},{&amp;quot;model_type&amp;quot;:&amp;quot;note&amp;quot;,&amp;quot;note&amp;quot;:{&amp;quot;liked&amp;quot;:false,&amp;quot;id&amp;quot;:&amp;quot;5ef4cb870000000001002ddb&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;听说这个叫开龙脊&amp;quot;,&amp;quot;desc&amp;quot;:&amp;quot;Nike小姐姐想性感一下，需要夸奖&amp;quot;,&amp;quot;liked_count&amp;quot;:52,&amp;quot;type&amp;quot;:&amp;quot;video&amp;quot;,&amp;quot;user&amp;quot;:{&amp;quot;nickname&amp;quot;:&amp;quot;温柔&amp;quot;,&amp;quot;images&amp;quot;:&amp;quot;https://sns-avatar-qc.xhscdn.com/avatar/5f21575fd30de80001624c94.jpg?imageView2/2/w/80/format/jpg&amp;quot;,&amp;quot;red_official_verify_type&amp;quot;:0,&amp;quot;userid&amp;quot;:&amp;quot;5ba879c14fbb8d0001f51b07&amp;quot;},&amp;quot;tag_info&amp;quot;:{},&amp;quot;video_info&amp;quot;:{&amp;quot;id&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;height&amp;quot;:576,&amp;quot;width&amp;quot;:768,&amp;quot;url&amp;quot;:&amp;quot;http://sns-video-hw.xhscdn.com/a7094dabfb22ed4e123dd7280602c576b9b6e4dd_wz?v=2&amp;quot;,&amp;quot;url_info_list&amp;quot;:[{&amp;quot;desc&amp;quot;:&amp;quot;h265-RedH265&amp;quot;,&amp;quot;url&amp;quot;:&amp;quot;http://sns-video-hw.xhscdn.com/a7094dabfb22ed4e123dd7280602c576b9b6e4dd_wz?v=2&amp;quot;},{&amp;quot;desc&amp;quot;:&amp;quot;h264-RedH264&amp;quot;,&amp;quot;url&amp;quot;:&amp;quot;http://sns-video-hw.xhscdn.com/1869fa24d29b7e81de7ce992b7d8e8ea9a1aae16_v1?v=2&amp;quot;}],&amp;quot;preload_size&amp;quot;:1048576,&amp;quot;played_count&amp;quot;:0,&amp;quot;duration&amp;quot;:9,&amp;quot;frame_ts&amp;quot;:0,&amp;quot;is_user_select&amp;quot;:false,&amp;quot;is_upload&amp;quot;:false,&amp;quot;first_frame&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/9c391117-0503-37a1-8124-38d4c3147f1c?imageView2/2/h/1080/format/webp&amp;quot;,&amp;quot;thumbnail&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/thumbnail/d9bf0b13148147b69a844851e8c7a333&amp;quot;,&amp;quot;thumbnail_dim&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/thumbnail/d9bf0b13148147b69a844851e8c7a333?imageView2/2/w/720/h/720/format/webp&amp;quot;},&amp;quot;images_list&amp;quot;:[{&amp;quot;fileid&amp;quot;:&amp;quot;9c391117-0503-37a1-8124-38d4c3147f1c&amp;quot;,&amp;quot;height&amp;quot;:576,&amp;quot;width&amp;quot;:768,&amp;quot;url&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/9c391117-0503-37a1-8124-38d4c3147f1c?imageView2/2/w/540/format/webp&amp;quot;,&amp;quot;url_size_large&amp;quot;:&amp;quot;http://sns-img-hw.xhscdn.com/9c391117-0503-37a1-8124-38d4c3147f1c?imageView2/2/h/1080/format/webp&amp;quot;,&amp;quot;original&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;9c391117-0503-37a1-8124-38d4c3147f1c&amp;quot;}],&amp;quot;has_music&amp;quot;:false,&amp;quot;timestamp&amp;quot;:1593101191}}],&amp;quot;recommend_info&amp;quot;:{&amp;quot;title&amp;quot;:&amp;quot;&amp;quot;},&amp;quot;recommend_items&amp;quot;:[]}}`))
}
&lt;/code&gt;&lt;/pre&gt;
">go 请求转发</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://v-micro.github.io/post/ios-kai-fa-zhe-cheng-chang-lu-xian/"" data-c="
          &lt;p&gt;iOS之前被称为 iPhone OS，是一个由苹果公司开发的移动操作系统。&lt;/p&gt;
&lt;h3 id=&#34;ios-基础篇章&#34;&gt;ios 基础篇章&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;语言基础
&lt;ul&gt;
&lt;li&gt;c 语言&lt;/li&gt;
&lt;li&gt;objective-c
&lt;ul&gt;
&lt;li&gt;面向对象&lt;/li&gt;
&lt;li&gt;内存管理&lt;/li&gt;
&lt;li&gt;Category&lt;/li&gt;
&lt;li&gt;KVC&lt;/li&gt;
&lt;li&gt;KVO&lt;/li&gt;
&lt;li&gt;Protocol&lt;/li&gt;
&lt;li&gt;Block&lt;/li&gt;
&lt;li&gt;Foundation框架&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;swift&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;UIView
&lt;ul&gt;
&lt;li&gt;MKAnnotationView&lt;/li&gt;
&lt;li&gt;MKMapView&lt;/li&gt;
&lt;li&gt;MKOverlayView&lt;/li&gt;
&lt;li&gt;MPVolumeView&lt;/li&gt;
&lt;li&gt;GLKView&lt;/li&gt;
&lt;li&gt;UIControl
&lt;ul&gt;
&lt;li&gt;UIRefreshControl&lt;/li&gt;
&lt;li&gt;UIButton&lt;/li&gt;
&lt;li&gt;UIDatePicker&lt;/li&gt;
&lt;li&gt;UISlider&lt;/li&gt;
&lt;li&gt;UITextField&lt;/li&gt;
&lt;li&gt;UISegmentedControl&lt;/li&gt;
&lt;li&gt;UISwitch&lt;/li&gt;
&lt;li&gt;UIPageControl&lt;/li&gt;
&lt;li&gt;UIStepper&lt;/li&gt;
&lt;li&gt;自定义Control&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;UINavigationBar&lt;/li&gt;
&lt;li&gt;UIProgressView&lt;/li&gt;
&lt;li&gt;UIActivitylndicatorView&lt;/li&gt;
&lt;li&gt;UIActionSheet&lt;/li&gt;
&lt;li&gt;UITableViewCell&lt;/li&gt;
&lt;li&gt;UITabBar&lt;/li&gt;
&lt;li&gt;UILabel&lt;/li&gt;
&lt;li&gt;UIWindow&lt;/li&gt;
&lt;li&gt;UIScrollView
&lt;ul&gt;
&lt;li&gt;UITableView&lt;/li&gt;
&lt;li&gt;UICollectionView&lt;/li&gt;
&lt;li&gt;UITextView&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;UIAlertView&lt;/li&gt;
&lt;li&gt;UIConllectionReusableView&lt;/li&gt;
&lt;li&gt;UIPickerView&lt;/li&gt;
&lt;li&gt;UIToolbar&lt;/li&gt;
&lt;li&gt;UIWebView&lt;/li&gt;
&lt;li&gt;UIImageView&lt;/li&gt;
&lt;li&gt;UITableViewHeaderFooterView&lt;/li&gt;
&lt;li&gt;UISearchBar&lt;/li&gt;
&lt;li&gt;ADBannerView&lt;/li&gt;
&lt;li&gt;自定义View&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ios 程序结构：AppDelegate &amp;amp; UIApplication&lt;/li&gt;
&lt;li&gt;Storyborad &amp;amp; XIB&lt;/li&gt;
&lt;li&gt;IBOutlet &amp;amp; IBAction&lt;/li&gt;
&lt;li&gt;调试
&lt;ul&gt;
&lt;li&gt;po等命令&lt;/li&gt;
&lt;li&gt;NSLog&lt;/li&gt;
&lt;li&gt;断点调试
&lt;ul&gt;
&lt;li&gt;全局断点&lt;/li&gt;
&lt;li&gt;条件断点&lt;/li&gt;
&lt;li&gt;普通断点&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;NSZombileEnabled&lt;/li&gt;
&lt;li&gt;Console(lldb 命令)&lt;/li&gt;
&lt;li&gt;Profile(instruments)&lt;/li&gt;
&lt;li&gt;视图调试
&lt;ul&gt;
&lt;li&gt;xcode6 UI Debug&lt;/li&gt;
&lt;li&gt;Reveal&lt;/li&gt;
&lt;li&gt;po recursiveDescription&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Reveal 调试 &amp;amp; xcode 自带UI调试工具&lt;/li&gt;
&lt;li&gt;CocoaPods安装和使用&lt;/li&gt;
&lt;li&gt;查看API&lt;/li&gt;
&lt;li&gt;沙盒机制&lt;/li&gt;
&lt;li&gt;设备旋转及屏幕适配&lt;/li&gt;
&lt;li&gt;UIView Animation &amp;amp; 核心动画&lt;/li&gt;
&lt;li&gt;Quartz2D &amp;amp;&amp;amp; CoreGraphics&lt;/li&gt;
&lt;li&gt;地图&lt;/li&gt;
&lt;li&gt;UIViewController
&lt;ul&gt;
&lt;li&gt;EKEventViewController&lt;/li&gt;
&lt;li&gt;EKCalendarChooser&lt;/li&gt;
&lt;li&gt;MPMediaPickerController&lt;/li&gt;
&lt;li&gt;MPMoviePlayerViewController&lt;/li&gt;
&lt;li&gt;TWTweetComposeViewController&lt;/li&gt;
&lt;li&gt;OJAddPassesViewController&lt;/li&gt;
&lt;li&gt;SLComposeViewController&lt;/li&gt;
&lt;li&gt;GLKvIEWcONTROLLER&lt;/li&gt;
&lt;li&gt;QLPreviewController&lt;/li&gt;
&lt;li&gt;UINavigationController
&lt;ul&gt;
&lt;li&gt;EKEventEditViewController&lt;/li&gt;
&lt;li&gt;GKMatchmakerViewController&lt;/li&gt;
&lt;li&gt;GKTurnBasedMatchmakerViewController&lt;/li&gt;
&lt;li&gt;GKGameCenterViewController
&lt;ul&gt;
&lt;li&gt;GKLeaderboardViewController&lt;/li&gt;
&lt;li&gt;GKAchievementViewController&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;GKFriendRequestComposeViewController&lt;/li&gt;
&lt;li&gt;ABPeoplePickerNavigationController&lt;/li&gt;
&lt;li&gt;MFMailComposeViewController&lt;/li&gt;
&lt;li&gt;MFMessageComposeViewController&lt;/li&gt;
&lt;li&gt;UIImagePickerController&lt;/li&gt;
&lt;li&gt;UIVideoEditorController&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ABNewPersonViewController&lt;/li&gt;
&lt;li&gt;ABPersonViewController&lt;/li&gt;
&lt;li&gt;ABUnknownPersonViewController&lt;/li&gt;
&lt;li&gt;SKStoreProductViewController&lt;/li&gt;
&lt;li&gt;UITabBarController&lt;/li&gt;
&lt;li&gt;UICollectionViewController&lt;/li&gt;
&lt;li&gt;UITableViewController&lt;/li&gt;
&lt;li&gt;UIPageViewController&lt;/li&gt;
&lt;li&gt;UISplitViewController&lt;/li&gt;
&lt;li&gt;UIActivityViewController&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;触摸事件 &amp;amp; 手势处理 &amp;amp; 加速计
&lt;ul&gt;
&lt;li&gt;触摸事件
&lt;ul&gt;
&lt;li&gt;UITouch&lt;/li&gt;
&lt;li&gt;UIEvent&lt;/li&gt;
&lt;li&gt;3DTouch&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;手势处理
&lt;ul&gt;
&lt;li&gt;UITapGestureRecognizer&lt;/li&gt;
&lt;li&gt;UILongPressGestureRecognizer&lt;/li&gt;
&lt;li&gt;UIRotaionGestureRecognizer&lt;/li&gt;
&lt;li&gt;UIPinchGestureRecognizer&lt;/li&gt;
&lt;li&gt;UISwipeGestureRecognizer&lt;/li&gt;
&lt;li&gt;UIPanGestureRecognizer&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;加速计&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;URL schemes&lt;/li&gt;
&lt;li&gt;本地化&lt;/li&gt;
&lt;li&gt;手机功能
&lt;ul&gt;
&lt;li&gt;定位&lt;/li&gt;
&lt;li&gt;打电话&lt;/li&gt;
&lt;li&gt;短信&lt;/li&gt;
&lt;li&gt;邮件&lt;/li&gt;
&lt;li&gt;通讯录&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;高级篇章&#34;&gt;高级篇章&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;数据存储
&lt;ul&gt;
&lt;li&gt;Plist
&lt;ul&gt;
&lt;li&gt;UserDefault&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;NSCoder&lt;/li&gt;
&lt;li&gt;SQLite&lt;/li&gt;
&lt;li&gt;Core Data&lt;/li&gt;
&lt;li&gt;JSON&lt;/li&gt;
&lt;li&gt;KeyChain&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;RunLoop&lt;/li&gt;
&lt;li&gt;网络交互
&lt;ul&gt;
&lt;li&gt;Socket
&lt;ul&gt;
&lt;li&gt;GCDAsyncSocket&lt;/li&gt;
&lt;li&gt;WebSocket&lt;/li&gt;
&lt;li&gt;SIOSocket&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;CFNetwork
&lt;ul&gt;
&lt;li&gt;ASIHttpRequest&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;NSStream&lt;/li&gt;
&lt;li&gt;NSURLcONNECTION
&lt;ul&gt;
&lt;li&gt;ASIHttpRequest&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;NSStream&lt;/li&gt;
&lt;li&gt;NSURLcONNECTION
&lt;ul&gt;
&lt;li&gt;AFNetworking&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;NSURLSession&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;WebView&amp;amp;Javascript 交互
&lt;ul&gt;
&lt;li&gt;JavascriptCore.framework&lt;/li&gt;
&lt;li&gt;shouldStartLoadWithRequest&amp;amp;iframe&lt;/li&gt;
&lt;li&gt;WebViewJavascriptBridge&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;多线程
&lt;ul&gt;
&lt;li&gt;NSThread&lt;/li&gt;
&lt;li&gt;NSOperation&lt;/li&gt;
&lt;li&gt;GCD&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;多任务 Multitasking&lt;/li&gt;
&lt;li&gt;多媒体
&lt;ul&gt;
&lt;li&gt;音频、音效及音频处理&lt;/li&gt;
&lt;li&gt;视频&lt;/li&gt;
&lt;li&gt;相册、相机&lt;/li&gt;
&lt;li&gt;流媒体&lt;/li&gt;
&lt;li&gt;滤镜&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;设计模式
&lt;ul&gt;
&lt;li&gt;MVC&lt;/li&gt;
&lt;li&gt;单例&lt;/li&gt;
&lt;li&gt;观察者&lt;/li&gt;
&lt;li&gt;代理&lt;/li&gt;
&lt;li&gt;通知&lt;/li&gt;
&lt;li&gt;观察者(KVO)&lt;/li&gt;
&lt;li&gt;工厂模式&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;安全机制
&lt;ul&gt;
&lt;li&gt;http验证
&lt;ul&gt;
&lt;li&gt;http basic&lt;/li&gt;
&lt;li&gt;http digest&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;数据加密
&lt;ul&gt;
&lt;li&gt;hash
&lt;ul&gt;
&lt;li&gt;sha1&lt;/li&gt;
&lt;li&gt;sha256&lt;/li&gt;
&lt;li&gt;sha512&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;res&lt;/li&gt;
&lt;li&gt;aes&lt;/li&gt;
&lt;li&gt;3des/des&lt;/li&gt;
&lt;li&gt;authcode&lt;/li&gt;
&lt;li&gt;keychain&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;打包与封装sdk
&lt;ul&gt;
&lt;li&gt;App Thinning&lt;/li&gt;
&lt;li&gt;封装动态库.dylib&lt;/li&gt;
&lt;li&gt;封装静态库.a&lt;/li&gt;
&lt;li&gt;封装.framework&lt;/li&gt;
&lt;li&gt;封装.bundle&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;正则表达式
&lt;ul&gt;
&lt;li&gt;NSPredicate&lt;/li&gt;
&lt;li&gt;NSRegularExpression&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;高级控件优化、自定义控制器容器&lt;/li&gt;
&lt;li&gt;开发者账号申请、真机调试、发布应用、内购、广告&lt;/li&gt;
&lt;li&gt;Game Center &amp;amp; 社交服务&lt;/li&gt;
&lt;li&gt;iCloud map kit &amp;amp; Core Location&lt;/li&gt;
&lt;li&gt;推送机制&lt;/li&gt;
&lt;li&gt;分享/社会化登录&lt;/li&gt;
&lt;li&gt;蓝牙&lt;/li&gt;
&lt;li&gt;ARC及内存分析工具&lt;/li&gt;
&lt;li&gt;单元测试&lt;/li&gt;
&lt;li&gt;热门技术
&lt;ul&gt;
&lt;li&gt;支付&lt;/li&gt;
&lt;li&gt;即时通讯&lt;/li&gt;
&lt;li&gt;H5&lt;/li&gt;
&lt;li&gt;OCR&lt;/li&gt;
&lt;li&gt;人脸识别&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;热门第三方库
&lt;ul&gt;
&lt;li&gt;类库
&lt;ul&gt;
&lt;li&gt;AFNetworking&lt;/li&gt;
&lt;li&gt;SDWebImage&lt;/li&gt;
&lt;li&gt;GPUImage&lt;/li&gt;
&lt;li&gt;ReactiveCocoa&lt;/li&gt;
&lt;li&gt;RestKit&lt;/li&gt;
&lt;li&gt;MBProgressHUB&lt;/li&gt;
&lt;li&gt;MagicalRecord&lt;/li&gt;
&lt;li&gt;Mantle&lt;/li&gt;
&lt;li&gt;fmdb&lt;/li&gt;
&lt;li&gt;Masonry&lt;/li&gt;
&lt;li&gt;SWTableViewCell&lt;/li&gt;
&lt;li&gt;CocoaAsyncSocket&lt;/li&gt;
&lt;li&gt;JSONModel&lt;/li&gt;
&lt;li&gt;MMDrawerController&lt;/li&gt;
&lt;li&gt;QuickDialog&lt;/li&gt;
&lt;li&gt;IQKeyboardManager&lt;/li&gt;
&lt;li&gt;UITableView-FDTemplateLayoutCell&lt;/li&gt;
&lt;li&gt;RESideMenu&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;插件
&lt;ul&gt;
&lt;li&gt;alcatraz&lt;/li&gt;
&lt;li&gt;VVDocumenter-Xocde&lt;/li&gt;
&lt;li&gt;ColosENSE-for-Xcode&lt;/li&gt;
&lt;li&gt;KSImageNamed-Xocde&lt;/li&gt;
&lt;li&gt;GitDiff&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;系统框架
&lt;ul&gt;
&lt;li&gt;常用框架
&lt;ul&gt;
&lt;li&gt;UIKit&lt;/li&gt;
&lt;li&gt;Foundation&lt;/li&gt;
&lt;li&gt;MapKit&lt;/li&gt;
&lt;li&gt;MediaPlayer&lt;/li&gt;
&lt;li&gt;MessageUI&lt;/li&gt;
&lt;li&gt;QuartzCore&lt;/li&gt;
&lt;li&gt;SystemConfiguration&lt;/li&gt;
&lt;li&gt;GameKit&lt;/li&gt;
&lt;li&gt;CFNetwork&lt;/li&gt;
&lt;li&gt;AVFoundation&lt;/li&gt;
&lt;li&gt;AudioToolbox&lt;/li&gt;
&lt;li&gt;CoreText&lt;/li&gt;
&lt;li&gt;CoreGraphics&lt;/li&gt;
&lt;li&gt;CoreAnimation&lt;/li&gt;
&lt;li&gt;CoreImage&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;杂七杂八
&lt;ul&gt;
&lt;li&gt;HomeKit&lt;/li&gt;
&lt;li&gt;CloudKit&lt;/li&gt;
&lt;li&gt;HealthKit&lt;/li&gt;
&lt;li&gt;ResearchKit&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
">ios 开发者成长路线</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://v-micro.github.io/post/go-kai-fa-zhe-cheng-chang-lu-xian/"" data-c="
          &lt;p&gt;Go 是一个开源的编程语言，它能让构造简单、可靠且高效的软件变得容易。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;go&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;go 命令操作&lt;/li&gt;
&lt;li&gt;变量、常量、类型、函数、包等等&lt;/li&gt;
&lt;li&gt;数组&amp;amp;切片&lt;/li&gt;
&lt;li&gt;指针、结构、方法&lt;/li&gt;
&lt;li&gt;接口&lt;/li&gt;
&lt;li&gt;协成、、通道、缓存区、选择(Select)、互斥锁(Mutex)&lt;/li&gt;
&lt;li&gt;严重、异常、回复&lt;/li&gt;
&lt;li&gt;基础sql 语法&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;go 模组&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;go 依赖管理工具&lt;/li&gt;
&lt;li&gt;语义版本控制&lt;/li&gt;
&lt;li&gt;版本、脚本、存储库&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;sql 基础原理&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;sql 基础语法&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;基本开发技能&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;git&lt;/li&gt;
&lt;li&gt;http/https&lt;/li&gt;
&lt;li&gt;数据结构和算法&lt;/li&gt;
&lt;li&gt;scrum、看板或者其他项目策略&lt;/li&gt;
&lt;li&gt;基本authentication、oauth、jwt等&lt;/li&gt;
&lt;li&gt;SOLID、YAGNI、KISS&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;命令行界面&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;cobra&lt;/li&gt;
&lt;li&gt;urfave/cli&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;网页框架+路由&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Echo&lt;/li&gt;
&lt;li&gt;Beego&lt;/li&gt;
&lt;li&gt;Gin&lt;/li&gt;
&lt;li&gt;Revel&lt;/li&gt;
&lt;li&gt;Chi&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;对象关系映射&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Gorm&lt;/li&gt;
&lt;li&gt;Xorm&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;数据库&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;关系数据库
&lt;ul&gt;
&lt;li&gt;SQL server&lt;/li&gt;
&lt;li&gt;mySql&lt;/li&gt;
&lt;li&gt;mariaDB&lt;/li&gt;
&lt;li&gt;postgreSQL&lt;/li&gt;
&lt;li&gt;cockroachDb&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;云数据库
&lt;ul&gt;
&lt;li&gt;Azure CosmosDB&lt;/li&gt;
&lt;li&gt;Amazon DynamoDB&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;NoSql
&lt;ul&gt;
&lt;li&gt;MongoDB&lt;/li&gt;
&lt;li&gt;Redis&lt;/li&gt;
&lt;li&gt;LiteDB&lt;/li&gt;
&lt;li&gt;Apache Cassandra&lt;/li&gt;
&lt;li&gt;RavenDB&lt;/li&gt;
&lt;li&gt;CouchDB&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;搜索引擎
&lt;ul&gt;
&lt;li&gt;elasticsearch&lt;/li&gt;
&lt;li&gt;Solr&lt;/li&gt;
&lt;li&gt;Sphinx&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;高速缓存&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Gcache&lt;/li&gt;
&lt;li&gt;分布式缓存
&lt;ul&gt;
&lt;li&gt;Go-redis&lt;/li&gt;
&lt;li&gt;GoMemcache&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;日志框架&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;日志管理系统
&lt;ul&gt;
&lt;li&gt;sentry.io&lt;/li&gt;
&lt;li&gt;loggly.com&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Zap&lt;/li&gt;
&lt;li&gt;ZeroLog&lt;/li&gt;
&lt;li&gt;Logrus&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;实时通讯&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Melody&lt;/li&gt;
&lt;li&gt;Centrifugo&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Api客户端&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;GraphQL
&lt;ul&gt;
&lt;li&gt;graphql-go&lt;/li&gt;
&lt;li&gt;gplgen&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;REST
&lt;ul&gt;
&lt;li&gt;Gentleman&lt;/li&gt;
&lt;li&gt;GRequests&lt;/li&gt;
&lt;li&gt;Heimdall&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;测试&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;单元测试
&lt;ul&gt;
&lt;li&gt;模拟
&lt;ul&gt;
&lt;li&gt;GoMock&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;框架
&lt;ul&gt;
&lt;li&gt;Testify&lt;/li&gt;
&lt;li&gt;Ginkgo&lt;/li&gt;
&lt;li&gt;GoMega&lt;/li&gt;
&lt;li&gt;GoCheck&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;行为测试
&lt;ul&gt;
&lt;li&gt;GoDog&lt;/li&gt;
&lt;li&gt;GoConvey&lt;/li&gt;
&lt;li&gt;GinkGo&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;集成测试
&lt;ul&gt;
&lt;li&gt;Testify&lt;/li&gt;
&lt;li&gt;GinkGo&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;端对端测试
&lt;ul&gt;
&lt;li&gt;Endly&lt;/li&gt;
&lt;li&gt;Selenium&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;最好知道的库
&lt;ul&gt;
&lt;li&gt;Validator&lt;/li&gt;
&lt;li&gt;Glow&lt;/li&gt;
&lt;li&gt;Gjson&lt;/li&gt;
&lt;li&gt;Authboss&lt;/li&gt;
&lt;li&gt;Go-uunderscore&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;微服务&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;消息代理
&lt;ul&gt;
&lt;li&gt;RabbitMq&lt;/li&gt;
&lt;li&gt;Apache Kafka&lt;/li&gt;
&lt;li&gt;ActiveMq&lt;/li&gt;
&lt;li&gt;Azure Server Bus&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;消息总线
&lt;ul&gt;
&lt;li&gt;Message-Bus&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;框架
&lt;ul&gt;
&lt;li&gt;Go-Kit&lt;/li&gt;
&lt;li&gt;Micro&lt;/li&gt;
&lt;li&gt;rpcx&lt;/li&gt;
&lt;li&gt;istio&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;RPC
&lt;ul&gt;
&lt;li&gt;Protocol Buffers&lt;/li&gt;
&lt;li&gt;gRPC-go&lt;/li&gt;
&lt;li&gt;gRPC-gateway&lt;/li&gt;
&lt;li&gt;Twirp&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;go模式&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Creational&lt;/li&gt;
&lt;li&gt;Structrul&lt;/li&gt;
&lt;li&gt;Behavioral&lt;/li&gt;
&lt;li&gt;synchronization&lt;/li&gt;
&lt;li&gt;Concurrency&lt;/li&gt;
&lt;li&gt;Messaging&lt;/li&gt;
&lt;li&gt;Stability&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
">go 开发者成长路线</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://v-micro.github.io/post/nginx-chang-yong-pei-zhi-ji-fa/"" data-c="
          &lt;p&gt;Nginx是lgor Sysoev为俄罗斯访问量第二的rambler.ru站点设计开发的。从2004年发布至今，凭借开源的力量，已经接近成熟与完善。&lt;/p&gt;
&lt;h3 id=&#34;http代理&#34;&gt;http代理&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;# 简单的proxy 代理
location /edu-crm/ {
    proxy_pass http://${subdomain}:40002/edu-crm/;
}

# 使用变量进行代理
set $subdomain 192.168.254.50;
location ~* /edu-crm/(.*) {
    proxy_pass http://${subdomain}:40002/edu-crm/$1$is_args$args;
    # $1 就是 (.*); $is_args 是 &amp;quot;?&amp;quot;; $args 是全部 query
}
注释：
proxy_pass 是用了变量的话, nginx就不会自动添加 path 到 host 后面，
例如 访问 /auth0/xxxx
如果无变量的, 转发地址就是 https://cdn.eu.auth0.com/xxxx;

有变量的话转发地址 就只是 proxy_pass 的内容, https://$arg_host/,
需要手动写上其他信息 path query 等等;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;负载均衡&#34;&gt;负载均衡&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;//集群服务器
upstream tomcatserver1 {  
    server 192.168.72.49:9090 down;   
    server 192.168.72.49:8080 weight=2;   
    server 192.168.72.49:6060;   
    server 192.168.72.49:7070 backup;   
}   
# 注释:  
#down 表示不参与负载   
#weight 越大负载权重越大  
#max_fails 当超过最大次数时，返回proxy_next_upstream 模块定义的错误
#fail_timeout   max_fails 次失败后，暂停的时间。
#backup   其它所有的非backup机器down或者忙的时候，请求backup机器。所以这台机器压力会最轻。

 server {  
    listen       80;  
    server_name  xxxx.max.com;  

    location / {  
        proxy_pass   http://tomcatserver1;      //负载到 tomcatserver1
        index  index.html index.htm;
    }  
} 

&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;常用配置项&#34;&gt;常用配置项&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;server 中的配置：
underscores_in_headers on; # 可接受 非标准的 header 参数



&lt;/code&gt;&lt;/pre&gt;
">nginx常用配置技法</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://v-micro.github.io/post/linux-crontab-ding-shi-ren-wu/"" data-c="
          &lt;p&gt;Linux crontab是用来定期执行程序的命令。当安装完成操作系统之后，默认便会启动此任务调度命令。crond 命令每分锺会定期检查是否有要执行的工作，如果有要执行的工作便会自动执行该工作。&lt;/p&gt;
&lt;h3 id=&#34;语法说明&#34;&gt;语法说明&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;*    *    *    *    *    
-    -    -    -    -  
|    |    |    |    |      
|    |    |    |    +----- 星期中星期几 (0 - 6) (星期天 为0)
|    |    |    +---------- 月份 (1 - 12) 
|    |    +--------------- 一个月中的第几天 (1 - 31)
|    +-------------------- 小时 (0 - 23)
+------------------------- 分钟 (0 - 59)
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;简单的示例&#34;&gt;简单的示例&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;//每一分钟执行一次  /bin/ls
* * * * * /bin/ls

//在 12 月内, 每天的早上 6 点到 12 点，每隔 3 个小时 0 分钟执行一次 /usr/bin/backup：
0 6-12/3 * 12 * /usr/bin/backup

//周一到周五每天下午 5:00 寄一封信给 alex@domain.name：
0 17 * * 1-5 mail -s &amp;quot;hi&amp;quot; alex@domain.name &amp;lt; /tmp/maildata

//每月每天的午夜 0 点 20 分, 2 点 20 分, 4 点 20 分....执行 echo &amp;quot;haha&amp;quot;：
20 0-23/2 * * * echo &amp;quot;haha&amp;quot;

//每两个小时重启一次apache 
0 */2 * * * /sbin/service httpd restart  意思是每两个小时重启一次apache 

//意思是每天7：50开启ssh服务 
50 7 * * * /sbin/service sshd start

// 意思是每天22：50关闭ssh服务 
50 22 * * * /sbin/service sshd stop 

//每月1号和15号检查/home 磁盘 
0 0 1,15 * * fsck /home  

//每小时的第一分执行 /home/bruce/backup这个文件 
1 * * * * /home/bruce/backup  
&lt;/code&gt;&lt;/pre&gt;
">linux crontab定时任务</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://v-micro.github.io/post/redis/"" data-c="
          &lt;p&gt;项目中需要所以从宿主机整理了一份redis 安装大全用做记录。&lt;/p&gt;
&lt;h3 id=&#34;redis简介&#34;&gt;redis简介&lt;/h3&gt;
&lt;p&gt;REmote DIctionary Server(Redis) 是一个由 Salvatore Sanfilippo 写的 key-value 存储系统，是跨平台的非关系型数据库。&lt;/p&gt;
&lt;h3 id=&#34;开始安装&#34;&gt;开始安装&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;//习惯性的吧软件装在/usr/local/
cd /usr/local/
//下载nginx
wget https://download.redis.io/releases/redis-6.2.4.tar.gz
//解压
tar -zxvf redis-6.2.4.tar.gz
//进入目录
cd redis-6.2.4
//开始编译
make
//make 测试
make test
//启动redis
./redis-server

//redis-cli 是命令行操作
./redis-cli

//如果需要按照指定配置启动则 
./redis-server /usr/local/redis-6.2.4/redis.conf

//需要修改密码则需要修改redis.conf
requirepass 123

//设置密码方法二
./redis-cli         //进入客户端界面
config set requirepass 123  //设置密码
config get requirepass      //查看密码

//默认连接端口
ip:127.0.0.1   prot: 6379  密码：123

//使用密码登录
./redis-cli -p 6379 -a redis.redis

//也可以登录进去校验密码
./redis-cli -p 6379
auth  123
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;redis基本操作&#34;&gt;redis基本操作&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;官方文档 ：https://redis.io/commands/set
//模糊搜索
127.0.0.1:6379&amp;gt; keys tes*
1) &amp;quot;test&amp;quot;

//获取总数
127.0.0.1:6379&amp;gt; DBSIZE
(integer) 3

//判断是否存在
127.0.0.1:6379&amp;gt; EXISTS social:user:14
(integer) 1

//删除键
127.0.0.1:6379&amp;gt; DEL java javastack
(integer) 1

//查看key周期
127.0.0.1:6379&amp;gt; TTL social:user:14      //秒
(integer) 31180
127.0.0.1:6379&amp;gt; PTTL social:user:14         //毫秒
(integer) 31053570

//设置key生命周期
127.0.0.1:6379&amp;gt; EXPIRE javastack 60             //秒
(integer) 1
127.0.0.1:6379&amp;gt; PEXPIRE javastack 60             //毫秒
(integer) 1
127.0.0.1:6379&amp;gt; PERSIST  javastack           //永不过期
(integer) 1

//更改键名
127.0.0.1:6379&amp;gt; RENAME  javastack  javastack2222
(integer) 1

//获取key类型
127.0.0.1:6379&amp;gt; type user
hash
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;redis-字符串&#34;&gt;redis 字符串&lt;/h3&gt;
&lt;p&gt;说明：字符串是Redis中最基本的数据类型，单个数据能存储的最大空间是512M。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//写入数据
127.0.0.1:6379&amp;gt; set php 1111
(integer) 1
可设置一下参数
ex 秒
px 毫秒
exat 指定过期时间(时间戳)
pxat 指定过期时间(毫秒)
例子： set php hello,word exat 1625470391   //指定时间过期

//获取数据
127.0.0.1:6379&amp;gt; get test
&amp;quot;1&amp;quot;

//递增/递减  内容不是数字则报错
127.0.0.1:6379&amp;gt; INCR test
(integer) 10
127.0.0.1:6379&amp;gt; DECR test
(integer) 9

//批量新增
127.0.0.1:6379&amp;gt; mset test1 1 test2 2 test3 3
OK

//批量获取
127.0.0.1:6379&amp;gt; mget test1 test2 test3
1) &amp;quot;1&amp;quot;
2) &amp;quot;2&amp;quot;
3) &amp;quot;3&amp;quot;

//获取字符长度
127.0.0.1:6379&amp;gt; strlen test1
(integer) 1

//追加内容
127.0.0.1:6379&amp;gt; append test1 test
(integer) 6

//获取指定部分的字符
127.0.0.1:6379&amp;gt; getrange test1 0 3
&amp;quot;12te&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;redis-集合&#34;&gt;redis 集合&lt;/h3&gt;
&lt;p&gt;说明：集合类型和列表类型相似，只不过是集合是无序且不可重复的。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//集合写入
127.0.0.1:6379&amp;gt; sadd test php go js h5
(integer) 4

//集合获取
127.0.0.1:6379&amp;gt; smembers test       //获取所有
1) &amp;quot;js&amp;quot;
2) &amp;quot;php&amp;quot;
3) &amp;quot;go&amp;quot;
4) &amp;quot;h5&amp;quot;

127.0.0.1:6379&amp;gt; srandmember test 2  //获取指定数量
1) &amp;quot;js&amp;quot;
2) &amp;quot;go&amp;quot;

//判断集合是否存在元素
127.0.0.1:6379&amp;gt; sismember test php
(integer) 1

//获取元素个数
127.0.0.1:6379&amp;gt; scard test
(integer) 4

//删除集合元素
127.0.0.1:6379&amp;gt; srem test js
(integer) 1

//弹出集合中的元素(这个操作是无顺序的)
127.0.0.1:6379&amp;gt; spop test 1
1) &amp;quot;php&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;redis有序集合&#34;&gt;redis有序集合&lt;/h3&gt;
&lt;p&gt;和列表的区别&lt;br&gt;
列表使用链表实现，两头快，中间慢。有序集合是散列表和跳跃表实现的，即使读取中间的元素也比较快。&lt;br&gt;
列表不能调整元素位置，有序集合能。&lt;br&gt;
有序集合比列表更占内存。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//有序写入
127.0.0.1:6379&amp;gt; zadd test 1 zhangsan 2 lisi 3 wangwu 4 hei 5 bai
(integer) 3

//查询指定member 的分数
127.0.0.1:6379&amp;gt; ZSCORE test zhangsan
&amp;quot;1&amp;quot;

//查询列表 （不带分数）
127.0.0.1:6379&amp;gt; ZRANGE test 0 -1
1) &amp;quot;zhangsan&amp;quot;
2) &amp;quot;lisi&amp;quot;
3) &amp;quot;wangwu&amp;quot;
4) &amp;quot;hei&amp;quot;
5) &amp;quot;bai&amp;quot;

//查询列表 带分数  从低到高
127.0.0.1:6379&amp;gt; ZRANGE test 0 -1 withscores
 1) &amp;quot;zhangsan&amp;quot;
 2) &amp;quot;1&amp;quot;
 3) &amp;quot;lisi&amp;quot;
 4) &amp;quot;2&amp;quot;
 5) &amp;quot;wangwu&amp;quot;
 6) &amp;quot;3&amp;quot;
 7) &amp;quot;hei&amp;quot;
 8) &amp;quot;4&amp;quot;
 9) &amp;quot;bai&amp;quot;
10) &amp;quot;5&amp;quot;
//查询列表 带分数  从高到低
127.0.0.1:6379&amp;gt; ZREVRANGE test 0 -1 withscores
1) &amp;quot;zhangsan&amp;quot;
2) &amp;quot;10&amp;quot;
3) &amp;quot;bai&amp;quot;
4) &amp;quot;5&amp;quot;
5) &amp;quot;wangwu&amp;quot;
6) &amp;quot;3&amp;quot;
7) &amp;quot;lisi&amp;quot;
8) &amp;quot;2&amp;quot;

//获取指定范围分数的数据
127.0.0.1:6379&amp;gt; zrangebyscore test 3 5
1) &amp;quot;wangwu&amp;quot;
2) &amp;quot;hei&amp;quot;
3) &amp;quot;bai&amp;quot;


//增加 元素分数
127.0.0.1:6379&amp;gt; ZINCRBY test 10 hei
&amp;quot;15&amp;quot;

//获取总数
127.0.0.1:6379&amp;gt; zcard test 
(integer) 5

//统计范围分数内的数据
127.0.0.1:6379&amp;gt; ZCOUNT test 1 10
(integer) 4

//删除指定元素
127.0.0.1:6379&amp;gt; ZREM test hei
(integer) 1
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;redis列表&#34;&gt;redis列表&lt;/h3&gt;
&lt;p&gt;列表类型是一个有序的字段串列表，内部是使用双向链表实现，所有可以向两端操作元素，获取两端的数据速度快，通过索引到具体的行数比较慢。列表类型的元素是有序且可以重复的。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//左存列表
127.0.0.1:6379&amp;gt; lpush test zhangsan lisi wangwu aoteman
(integer) 4

//右存列表
127.0.0.1:6379&amp;gt; rpush test zhangsan lisi wangwu aoteman
(integer) 4

//获取总元素
127.0.0.1:6379&amp;gt; LLEN test 
(integer) 4

//获取所有
127.0.0.1:6379&amp;gt; LRANGE test 0 -1
1) &amp;quot;aoteman&amp;quot;
2) &amp;quot;wangwu&amp;quot;
3) &amp;quot;lisi&amp;quot;
4) &amp;quot;zhangsan&amp;quot;

//左弹出一条数据
127.0.0.1:6379&amp;gt; lpop test 1
1) &amp;quot;lisi&amp;quot;

//右弹出一条数据
127.0.0.1:6379&amp;gt; rpop test 1
1) &amp;quot;zhangsan&amp;quot;

//删除组内元素 1 代表数量  222 为元素
127.0.0.1:6379&amp;gt; lrem test 1 222
(integer) 1


ps: 左边写右边弹出  右边写左边弹 则是那条数据
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;redis-hash&#34;&gt;redis hash&lt;/h3&gt;
&lt;p&gt;redis字符串类型键和值是字典结构形式，这里的散列类型其值也可以是字典结构。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//写入散列
127.0.0.1:6379&amp;gt; hset user name javastack
(integer) 1

//写入多个
127.0.0.1:6379&amp;gt; hmset user name javastack age 20 address china
OK

//获取字段
127.0.0.1:6379&amp;gt; hget user name
&amp;quot;javastack&amp;quot;

//获取多个
127.0.0.1:6379&amp;gt; hmget user name age address
1) &amp;quot;javastack&amp;quot;
2) &amp;quot;20&amp;quot;
3) &amp;quot;china&amp;quot;

//获取所有
127.0.0.1:6379&amp;gt; hkeys user
1) &amp;quot;name&amp;quot;
2) &amp;quot;age&amp;quot;
3) &amp;quot;address&amp;quot;

//判断字段是否存在
127.0.0.1:6379&amp;gt; HEXISTS user name
(integer) 1

//获取字段数量
127.0.0.1:6379&amp;gt; HLEN user
(integer) 3

//删除字段
127.0.0.1:6379&amp;gt; HDEL user address
(integer) 1
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;使用场景分析&#34;&gt;使用场景分析&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;string
&lt;ul&gt;
&lt;li&gt;一些简单的数据 存储 比如用户的jwt&lt;/li&gt;
&lt;li&gt;计数器应用&lt;/li&gt;
&lt;li&gt;用户的session&lt;/li&gt;
&lt;li&gt;分布式锁&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;list
&lt;ul&gt;
&lt;li&gt;取最新的N个数&lt;/li&gt;
&lt;li&gt;消息队列&lt;/li&gt;
&lt;li&gt;删除 or 过滤&lt;/li&gt;
&lt;li&gt;分析正在发生的情况 数据统计 分析&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;集合
&lt;ul&gt;
&lt;li&gt;唯一性 比如统计网站访问的独立ip&lt;/li&gt;
&lt;li&gt;共同好友&lt;/li&gt;
&lt;li&gt;赞，踩，标签，好友&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;有序集合
&lt;ul&gt;
&lt;li&gt;排行榜&lt;/li&gt;
&lt;li&gt;过期项目处理&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;hash
&lt;ul&gt;
&lt;li&gt;用户的属性 比如：一个用户的 姓名 年龄 身高&lt;/li&gt;
&lt;li&gt;用户主页访问量、组合查询&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;简单案例之session存储&#34;&gt;简单案例之session存储&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;//用户id 为250的 session 存到redis 并设置过期时间为 3天
127.0.0.1:6379&amp;gt; set user:250 9d7ddd3db84e6784cc9dc945d6013784 EX 259200 
OK

//判断用户id 为 250 是否登录
127.0.0.1:6379&amp;gt; EXISTS user:250
(integer) 1

//查看过期时间/秒
127.0.0.1:6379&amp;gt; ttl user:250
(integer) 259119
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;简单案例之分布式锁&#34;&gt;简单案例之分布式锁&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;//加锁： 加入 NX 即仅在不存在的情况下设置lock_key
//第一次
127.0.0.1:6379&amp;gt; set lock_key 9d7ddd3db84e6784cc9dc945d6013784 ex 50 NX
OK
//第二次
127.0.0.1:6379&amp;gt; set lock_key 9d7ddd3db84e6784cc9dc945d6013784 ex 50 NX
(nil)
//第三次
127.0.0.1:6379&amp;gt; set lock_key 9d7ddd3db84e6784cc9dc945d6013784 ex 50 NX
(nil)

//解锁相对简单：删除即可
127.0.0.1:6379&amp;gt; del lock_key
(integer) 1
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;简单案例之redis事务&#34;&gt;简单案例之redis事务&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;//事务说明 MULTI 开启事务  插入 test1  test2 然后exec 事务结束  如果放弃事务则 discard
127.0.0.1:6379&amp;gt; MULTI
OK
127.0.0.1:6379(TX)&amp;gt; set test1 1
QUEUED
127.0.0.1:6379(TX)&amp;gt; set test2 2
QUEUED
127.0.0.1:6379(TX)&amp;gt; EXEC
1) OK
2) OK
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;简单案例之发布订阅模式&#34;&gt;简单案例之发布/订阅模式&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;ps：通过PUBLISH 发布时候  SUBSCRIBE 都能动态的显示出来

//订阅 news
127.0.0.1:6379&amp;gt; SUBSCRIBE news
Reading messages... (press Ctrl-C to quit)
1) &amp;quot;subscribe&amp;quot;         //订阅者
2) &amp;quot;news&amp;quot;             //频道名称
3) (integer) 1      //订阅任务

//发布
127.0.0.1:6379&amp;gt; PUBLISH news heihieheih
(integer) 1             //次数是几人订阅了
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;简单案例之任务队列&#34;&gt;简单案例之任务队列&lt;/h3&gt;
&lt;p&gt;使用lpush和rpop(brpop)可以实现普通的任务队列。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;首先 写入课程 course_1 course_2 course_3 course_4 course_5
然后通过 brpop course 10 来获取任务  如果10秒超时 则结束

127.0.0.1:6379&amp;gt; rpush course course_1
(integer) 1
127.0.0.1:6379&amp;gt; rpush course course_2
(integer) 2
127.0.0.1:6379&amp;gt; rpush course course_3
(integer) 3
127.0.0.1:6379&amp;gt; rpush course course_4
(integer) 4
127.0.0.1:6379&amp;gt; rpush course course_5
(integer) 5
127.0.0.1:6379&amp;gt; brpop course 10
1) &amp;quot;course&amp;quot;
2) &amp;quot;course_5&amp;quot;
127.0.0.1:6379&amp;gt; brpop course 10
1) &amp;quot;course&amp;quot;
2) &amp;quot;course_4&amp;quot;
127.0.0.1:6379&amp;gt; brpop course 10
1) &amp;quot;course&amp;quot;
2) &amp;quot;course_3&amp;quot;
127.0.0.1:6379&amp;gt; brpop course 10
1) &amp;quot;course&amp;quot;
2) &amp;quot;course_2&amp;quot;
127.0.0.1:6379&amp;gt; brpop course 10
1) &amp;quot;course&amp;quot;
2) &amp;quot;course_1&amp;quot;
127.0.0.1:6379&amp;gt; brpop course 10
(nil)
(10.05s)
127.0.0.1:6379&amp;gt; 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;//https://blog.csdn.net/u011204847/article/details/51302109&lt;/p&gt;
&lt;h3 id=&#34;简单案例之redis管道&#34;&gt;简单案例之redis管道&lt;/h3&gt;
&lt;p&gt;请求/响应服务可以实现持续处理新请求，即使客户端没有准备好读取旧响应。这样客户端可以发送多个命令到服务器而无需等待响应，最后在一次读取多个响应。这就是管道化(pipelining)&lt;br&gt;
redis 管道 命令行中没有  实际是支持的&lt;br&gt;
通过测试发现 不使用管道 插入 50000条数据  36秒   使用管道 400000  5秒&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;s := time.Now().Unix()
redisClient := redis.NewClient(&amp;amp;redis.Options{
    Addr:     &amp;quot;xxxxxxxxxxxxxxxxxxxxxxxxxx&amp;quot;,
    Password: &amp;quot;xxxxxxxxxxxxxxxxxxx&amp;quot;, // no password set
    DB:       0,  // use default DB
})
for i:=0;i&amp;lt;50000;i++{
    _ = redisClient.Set(context.Background(),fmt.Sprintf(&amp;quot;Aaakey:test%d&amp;quot;,i), &amp;quot;value&amp;quot;,0).Err()
}
e := time.Now().Unix()
fmt.Println(fmt.Sprintf(&amp;quot;相差秒数：%d&amp;quot;,e-s))
打印进过：36秒

//使用管道代码
s := time.Now().Unix()
redisClient := redis.NewClient(&amp;amp;redis.Options{
    Addr:     &amp;quot;xxxxxxxxxxxxxxxxxxxxxxxxxx&amp;quot;,
    Password: &amp;quot;xxxxxxxxxxxxxxxxxxx&amp;quot;, // no password set
    DB:       0,  // use default DB
})
//使用管道
pipeline := redisClient.Pipeline()

for i:=0;i&amp;lt;400000;i++{
    _ = pipeline.Set(context.Background(), fmt.Sprintf(&amp;quot;Aaakey:test%d&amp;quot;,i), &amp;quot;value&amp;quot;,0).Err()
}
_ ,_ = pipeline.Exec(context.Background())
//for _,v := range cmd{ //查询是否插入成功
//	if v.Err() != nil {
//		fmt.Println(&amp;quot;=========&amp;quot;)
//	}
//}
e := time.Now().Unix()
fmt.Println(fmt.Sprintf(&amp;quot;相差秒数：%d&amp;quot;,e-s))
打印：5秒

&lt;/code&gt;&lt;/pre&gt;
">redis</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://v-micro.github.io/post/app-tui-guang-pian-1/"" data-c="
          &lt;p&gt;搜索一些app推广的知识点。要推广产品前，你首先要拥有一个APP。例如一个社交的APP，主要是苹果端。今天先整理一下app初始化的一些优化。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;首先需要给你的app起一个好的名字，像iphone. xbox 这样的名字就比较让用户容易接受&lt;/li&gt;
&lt;li&gt;寻找渠道。广告投放：admob,iad,faad,openfeini,tapjoy,国外的一些论坛发帖子，社交推广：facebook,twitter,&lt;/li&gt;
&lt;li&gt;刷下载量，提升app的门面量&lt;/li&gt;
&lt;li&gt;ASO应用商店的优化&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;2021年6月29日18:08:31  今日就只记录了么一点。工作繁忙，继续搬砖去了。&lt;/p&gt;
">APP推广篇 - （1）</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://v-micro.github.io/post/ios-apns-tui-song-go-ban-ben/"" data-c="
          &lt;p&gt;整理了ios 推送。让我们开始进入代码的海洋吧！！&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//安装第三方的包
go get github.com/sideshow/apns2

//开始使用首先我们用 .p8形式来进行推送
//设备标识
deviceToken := flag.String(&amp;quot;token&amp;quot;, &amp;quot;02189e8d2b87ffa2b5673a934d4e9274aaa399b79ca1328b9c2559ed7c828df5&amp;quot;, &amp;quot;token (Required)&amp;quot;)

//p8文件
authKeyPath := flag.String(&amp;quot;authKey&amp;quot;, &amp;quot;./file/xxxxxx.p8&amp;quot;, &amp;quot;Path to .p8 APNSAuthKey file (Required)&amp;quot;)、
//topic 开发者后台寻找
topic := flag.String(&amp;quot;topic&amp;quot;, &amp;quot;topic&amp;quot;, &amp;quot;Topic (Required)&amp;quot;)
//app keyID
keyID := flag.String(&amp;quot;keyID&amp;quot;, &amp;quot;keyID&amp;quot;, &amp;quot;APNS KeyID (Required)&amp;quot;)
//app teamID
teamID := flag.String(&amp;quot;teamID&amp;quot;, &amp;quot;teamID&amp;quot;, &amp;quot;APNS TeamID (Required)&amp;quot;)
flag.Parse()

if *authKeyPath == &amp;quot;&amp;quot; || *deviceToken == &amp;quot;&amp;quot; || *topic == &amp;quot;&amp;quot; || *keyID == &amp;quot;&amp;quot; || *teamID == &amp;quot;&amp;quot; {
    ReturnJson(c,500,&amp;quot;参数异常&amp;quot;,gin.H{});
    return
}
//读取key
authKey, err := token.AuthKeyFromFile(*authKeyPath)
if err != nil {
    ReturnJson(c,500,err.Error(),gin.H{});
    return
}
//推送内容
notification := &amp;amp;apns2.Notification{}
notification.DeviceToken = *deviceToken
notification.Topic = *topic
notification.Payload = []byte(`{
        &amp;quot;aps&amp;quot; : {
            &amp;quot;alert&amp;quot; : &amp;quot;江总，带我找成都小姐姐!&amp;quot;
        }
    }
`)
client := apns2.NewTokenClient(&amp;amp;token.Token{
    AuthKey: authKey,
    KeyID:   *keyID,
    TeamID:  *teamID,
})
//沙盒环境
client.Development()
////线上环境
//client.Production()

res, err := client.Push(notification)
if err != nil {
    ReturnJson(c,500,err.Error(),gin.H{});
    return
}

fmt.Printf(&amp;quot;%v %v %v\n&amp;quot;, res.StatusCode, res.ApnsID, res.Reason)

ReturnJson(c,200,&amp;quot;推送成功&amp;quot;,gin.H{})
&lt;/code&gt;&lt;/pre&gt;
">ios apns 推送（go 版本）</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://v-micro.github.io/post/ios-nei-gou-go-ban-ben/"" data-c="
          &lt;h3 id=&#34;核心背景&#34;&gt;核心背景&lt;/h3&gt;
&lt;p&gt;项目中应用到ios内购。今天用go重新写了内购的代码。此处不牵扯业务逻辑，只写了核心的校验流程&lt;/p&gt;
&lt;p&gt;以上是苹果审核条例的内购说明要求，内购就是苹果为APP内购买虚拟商品或服务提供的一套交易系统。比如各类游戏的游戏币、网易云音乐开通黑胶VIP等等，都是需要走内购流程的，如果不走内购流程，审核是过不了的，即使通过后门设置，在审核期间避开审核人员测试，后期如果被发现，是有被下架的风险的；如果购买的是淘宝或者京东买衣服啊等等，就不需要走内购。&lt;/p&gt;
&lt;h3 id=&#34;苹果购买中内购分为四种类型&#34;&gt;苹果购买中内购分为四种类型&lt;/h3&gt;
&lt;p&gt;消耗型商品：&lt;br&gt;
顾名思义, 可以消耗使用的商品, 比如游戏中的金币, 钻石等, 可以用来购买应用内虚拟物品的货币。&lt;/p&gt;
&lt;p&gt;非消耗型商品：&lt;br&gt;
无法被消耗的商品，比如一些教育型APP中的课程, 再比如一些赛车游戏中的赛道, 这类商品需要在审核添加恢复购买按钮, 用于用户购买过后再误删除或其他原因卸载APP后的恢复流程, 否则提交审核会被拒绝。&lt;/p&gt;
&lt;p&gt;非续期订阅：&lt;br&gt;
此类商品与消耗型商品类似, 比如一个月的会员, 一个季度的会员等,与消耗型商品的差异在于, 这类商品在验证凭证时需要传递共享秘钥&lt;/p&gt;
&lt;p&gt;自动续期订阅：&lt;br&gt;
这类商品和其他商品的流程也有些许不同, 应用比如视频APP中的连续包月会员, 此类商品到期会自动扣费, 服务器的验证逻辑也会有所不同,&lt;/p&gt;
&lt;h3 id=&#34;内购对比&#34;&gt;内购对比&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://v-micro.github.io/post-images/1625110674053.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;自动续订&#34;&gt;自动续订&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://v-micro.github.io/post-images/1625110708757.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;官方整理的流程图&#34;&gt;官方整理的流程图&lt;/h3&gt;
&lt;p&gt;1、App向业务服务器请求带有产品标识符的产品列表&lt;br&gt;
2、业务服务器返回对应的产品列表&lt;br&gt;
3、App向App Store请求产品&lt;br&gt;
4、App Store返回对应的产品&lt;br&gt;
5、App向用户在应用商店展示产品&lt;br&gt;
6、用户在应用商店选择一款产品&lt;br&gt;
7、App向App Store发送购买请求&lt;br&gt;
8、App Store处理购买请求并返回交易信息&lt;br&gt;
9、App将交易凭证发送给业务服务器&lt;br&gt;
10、业务服务器记录交易凭证并核实&lt;br&gt;
11、业务服务器向App Store发送交易凭证验证其有效性&lt;br&gt;
12、App Store解析数据，并返回数据并验证其是否有效&lt;br&gt;
13、业务服务器记录数据，并确定用户购买的产品&lt;br&gt;
14、业务服务器向用户发送购买的产品&lt;br&gt;
ps: 苹果只会告诉你单据是否有效  并不会告诉你单据是否使用过&lt;/p&gt;
&lt;h3 id=&#34;校验代码示例&#34;&gt;校验代码示例&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;var validate_url string
//正式验证环境
//validate_url = &amp;quot;https://buy.itunes.apple.com/verifyReceipt&amp;quot;
//沙箱验证环境
validate_url = &amp;quot;https://sandbox.itunes.apple.com/verifyReceipt&amp;quot;

//验证流程
method := &amp;quot;POST&amp;quot;
//验证请求
payload := strings.NewReader(fmt.Sprintf(`{&amp;quot;receipt-data&amp;quot;:&amp;quot;验证凭证&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;秘钥&amp;quot;}`,receipt_data))
client := &amp;amp;http.Client {}
req, err := http.NewRequest(method, validate_url, payload)
if err != nil {
    return &amp;quot;500&amp;quot;,errors.New(&amp;quot;NewRequest&amp;quot;)
}
req.Header.Add(&amp;quot;Content-Type&amp;quot;, &amp;quot;application/json&amp;quot;)

res, err := client.Do(req)
if err != nil {
    return &amp;quot;500&amp;quot;,errors.New(&amp;quot;Client Do&amp;quot;)
}
defer res.Body.Close()
body, err := ioutil.ReadAll(res.Body)
if err != nil {
    return &amp;quot;500&amp;quot;,errors.New(&amp;quot;Ioutil ReadAll&amp;quot;)
}
fmt.Println(string(body))

状态码集合：
* 返回状态码，0 则成功
* 21000 App Store不能读取你提供的JSON对象
* 21002 receipt-data域的数据有问题
* 21003 receipt无法通过验证
* 21004 提供的shared secret不匹配你账号中的shared secret
* 21005 receipt服务器当前不可用
* 21006 receipt合法，但是订阅已过期。服务器接收到这个状态码时，receipt数据仍然会解码并一起发送
* 21007 receipt是Sandbox receipt，但却发送至生产系统的验证服务
* 21008 receipt是生产receipt，但却发送至Sandbox环境的验证服务

//内购正常返回
{
    &amp;quot;receipt&amp;quot;: {
        &amp;quot;receipt_type&amp;quot;: &amp;quot;ProductionSandbox&amp;quot;,
        &amp;quot;adam_id&amp;quot;: 0,
        &amp;quot;app_item_id&amp;quot;: 0,
        &amp;quot;bundle_id&amp;quot;: &amp;quot;GreateSun.trainingRoom&amp;quot;,
        &amp;quot;application_version&amp;quot;: &amp;quot;102&amp;quot;,
        &amp;quot;download_id&amp;quot;: 0,
        &amp;quot;version_external_identifier&amp;quot;: 0,
        &amp;quot;receipt_creation_date&amp;quot;: &amp;quot;2021-06-29 06:44:22 Etc/GMT&amp;quot;,
        &amp;quot;receipt_creation_date_ms&amp;quot;: &amp;quot;1624949062000&amp;quot;,
        &amp;quot;receipt_creation_date_pst&amp;quot;: &amp;quot;2021-06-28 23:44:22 America/Los_Angeles&amp;quot;,
        &amp;quot;request_date&amp;quot;: &amp;quot;2021-06-29 06:51:43 Etc/GMT&amp;quot;,
        &amp;quot;request_date_ms&amp;quot;: &amp;quot;1624949503719&amp;quot;,
        &amp;quot;request_date_pst&amp;quot;: &amp;quot;2021-06-28 23:51:43 America/Los_Angeles&amp;quot;,
        &amp;quot;original_purchase_date&amp;quot;: &amp;quot;2013-08-01 07:00:00 Etc/GMT&amp;quot;,
        &amp;quot;original_purchase_date_ms&amp;quot;: &amp;quot;1375340400000&amp;quot;,
        &amp;quot;original_purchase_date_pst&amp;quot;: &amp;quot;2013-08-01 00:00:00 America/Los_Angeles&amp;quot;,
        &amp;quot;original_application_version&amp;quot;: &amp;quot;1.0&amp;quot;,
        &amp;quot;in_app&amp;quot;: [
            {
                &amp;quot;quantity&amp;quot;: &amp;quot;1&amp;quot;,
                &amp;quot;product_id&amp;quot;: &amp;quot;trainingRoom_1&amp;quot;,
                &amp;quot;transaction_id&amp;quot;: &amp;quot;1000000834053892&amp;quot;,
                &amp;quot;original_transaction_id&amp;quot;: &amp;quot;1000000834053892&amp;quot;,
                &amp;quot;purchase_date&amp;quot;: &amp;quot;2021-06-29 06:44:21 Etc/GMT&amp;quot;,
                &amp;quot;purchase_date_ms&amp;quot;: &amp;quot;1624949061000&amp;quot;,
                &amp;quot;purchase_date_pst&amp;quot;: &amp;quot;2021-06-28 23:44:21 America/Los_Angeles&amp;quot;,
                &amp;quot;original_purchase_date&amp;quot;: &amp;quot;2021-06-29 06:44:21 Etc/GMT&amp;quot;,
                &amp;quot;original_purchase_date_ms&amp;quot;: &amp;quot;1624949061000&amp;quot;,
                &amp;quot;original_purchase_date_pst&amp;quot;: &amp;quot;2021-06-28 23:44:21 America/Los_Angeles&amp;quot;,
                &amp;quot;is_trial_period&amp;quot;: &amp;quot;false&amp;quot;,
                &amp;quot;in_app_ownership_type&amp;quot;: &amp;quot;PURCHASED&amp;quot;
            }
        ]
    },
    &amp;quot;environment&amp;quot;: &amp;quot;Sandbox&amp;quot;,
    &amp;quot;status&amp;quot;: 0
}

ps:逻辑相对比较简单。下面将解决内购退款的操作

&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;返回参数&#34;&gt;返回参数&lt;/h3&gt;
&lt;p&gt;可参考官方：&lt;br&gt;
https://developer.apple.com/documentation/appstorereceipts/responsebody&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;
{
    &amp;quot;status&amp;quot;:0, //状态
    &amp;quot;environment&amp;quot;:&amp;quot;Sandbox&amp;quot;,    //环境  Sandbox, Production
    &amp;quot;receipt&amp;quot;:{ 
        &amp;quot;receipt_type&amp;quot;:&amp;quot;ProductionSandbox&amp;quot;, //生成的收据类型。该值对应于进行应用程序或 VPP 购买的环境。可能的值 Production, ProductionVPP, ProductionSandbox, ProductionVPPSandbox
        &amp;quot;adam_id&amp;quot;:0,    //app_item_id 一样
        &amp;quot;app_item_id&amp;quot;:0,    //应用程序仅在生产中分配此标识符。
        &amp;quot;bundle_id&amp;quot;:&amp;quot;xxx.xxx.xxx&amp;quot;,  //APP 标识符号
        &amp;quot;application_version&amp;quot;:&amp;quot;1&amp;quot;,  //应用程序的版本号
        &amp;quot;download_id&amp;quot;:0,    //下载交易的唯一标识符
        &amp;quot;version_external_identifier&amp;quot;:0,    //程序修订版的任意数字。在沙箱中，该键的值为“0”
        &amp;quot;receipt_creation_date&amp;quot;:&amp;quot;2020-04-01 07:10:09 Etc/GMT&amp;quot;,  //生成收据的时间-ios时间格式
        &amp;quot;receipt_creation_date_ms&amp;quot;:&amp;quot;1585725009000&amp;quot;,
        &amp;quot;receipt_creation_date_pst&amp;quot;:&amp;quot;2020-04-01 00:10:09 America/Los_Angeles&amp;quot;,
        &amp;quot;request_date&amp;quot;:&amp;quot;2020-04-01 07:10:21 Etc/GMT&amp;quot;,   //收据响应时间
        &amp;quot;request_date_ms&amp;quot;:&amp;quot;1585725021729&amp;quot;,
        &amp;quot;request_date_pst&amp;quot;:&amp;quot;2020-04-01 00:10:21 America/Los_Angeles&amp;quot;,
        &amp;quot;original_purchase_date&amp;quot;:&amp;quot;2013-08-01 07:00:00 Etc/GMT&amp;quot;, //购买的时间
        &amp;quot;original_purchase_date_ms&amp;quot;:&amp;quot;1375340400000&amp;quot;,
        &amp;quot;original_purchase_date_pst&amp;quot;:&amp;quot;2013-08-01 00:00:00 America/Los_Angeles&amp;quot;,
        &amp;quot;original_application_version&amp;quot;:&amp;quot;1.0&amp;quot;,   //用户最初购买的应用程序版本
        &amp;quot;in_app&amp;quot;:[        //app 商品类型
            {
                &amp;quot;quantity&amp;quot;:&amp;quot;1&amp;quot;, //购买消耗品数量 
                &amp;quot;product_id&amp;quot;:&amp;quot;test_item_1&amp;quot;,// 消耗性项目
                &amp;quot;transaction_id&amp;quot;:&amp;quot;1000000646065186&amp;quot;,    //例如购买、恢复或续订的标识符
                &amp;quot;original_transaction_id&amp;quot;:&amp;quot;1000000646065186&amp;quot;,   //原始交易标识符
                &amp;quot;purchase_date&amp;quot;:&amp;quot;2020-04-01 00:43:43 Etc/GMT&amp;quot;,  //向用户帐户收取购买或恢复的产品费用的时间
                &amp;quot;purchase_date_ms&amp;quot;:&amp;quot;1585701823000&amp;quot;,
                &amp;quot;purchase_date_pst&amp;quot;:&amp;quot;2020-03-31 17:43:43 America/Los_Angeles&amp;quot;,
                &amp;quot;original_purchase_date&amp;quot;:&amp;quot;2020-04-01 00:43:43 Etc/GMT&amp;quot;, //原始应用内购买的时间
                &amp;quot;original_purchase_date_ms&amp;quot;:&amp;quot;1585701823000&amp;quot;,
                &amp;quot;original_purchase_date_pst&amp;quot;:&amp;quot;2020-03-31 17:43:43 America/Los_Angeles&amp;quot;,
                &amp;quot;is_trial_period&amp;quot;:&amp;quot;false&amp;quot;   //订阅是否处于免费试用期
            },
            {
                &amp;quot;quantity&amp;quot;:&amp;quot;1&amp;quot;,
                &amp;quot;product_id&amp;quot;:&amp;quot;test_item_2&amp;quot;,//非消耗性
                &amp;quot;transaction_id&amp;quot;:&amp;quot;1000000646065025&amp;quot;,
                &amp;quot;original_transaction_id&amp;quot;:&amp;quot;1000000646065025&amp;quot;,
                &amp;quot;purchase_date&amp;quot;:&amp;quot;2020-04-01 00:41:21 Etc/GMT&amp;quot;,
                &amp;quot;purchase_date_ms&amp;quot;:&amp;quot;1585701681000&amp;quot;,
                &amp;quot;purchase_date_pst&amp;quot;:&amp;quot;2020-03-31 17:41:21 America/Los_Angeles&amp;quot;,
                &amp;quot;original_purchase_date&amp;quot;:&amp;quot;2020-04-01 00:41:21 Etc/GMT&amp;quot;,
                &amp;quot;original_purchase_date_ms&amp;quot;:&amp;quot;1585701681000&amp;quot;,
                &amp;quot;original_purchase_date_pst&amp;quot;:&amp;quot;2020-03-31 17:41:21 America/Los_Angeles&amp;quot;,
                &amp;quot;is_trial_period&amp;quot;:&amp;quot;false&amp;quot;
            },
            {
                &amp;quot;quantity&amp;quot;:&amp;quot;1&amp;quot;,
               &amp;quot;product_id&amp;quot;:&amp;quot;test_item_3&amp;quot;,// 非自动续期订阅
               &amp;quot;transaction_id&amp;quot;:&amp;quot;1000000650241590&amp;quot;,
               &amp;quot;original_transaction_id&amp;quot;:&amp;quot;1000000650241590&amp;quot;,
               &amp;quot;purchase_date&amp;quot;:&amp;quot;2020-04-10 02:27:13 Etc/GMT&amp;quot;,
               &amp;quot;purchase_date_ms&amp;quot;:&amp;quot;1586485633000&amp;quot;,
               &amp;quot;purchase_date_pst&amp;quot;:&amp;quot;2020-04-09 19:27:13 America/Los_Angeles&amp;quot;,
               &amp;quot;original_purchase_date&amp;quot;:&amp;quot;2020-04-10 02:27:13 Etc/GMT&amp;quot;,
               &amp;quot;original_purchase_date_ms&amp;quot;:&amp;quot;1586485633000&amp;quot;,
               &amp;quot;original_purchase_date_pst&amp;quot;:&amp;quot;2020-04-09 19:27:13 America/Los_Angeles&amp;quot;,
               &amp;quot;is_trial_period&amp;quot;:&amp;quot;false&amp;quot;
            },
            {
                &amp;quot;quantity&amp;quot;:&amp;quot;1&amp;quot;,
                &amp;quot;product_id&amp;quot;:&amp;quot;test_item_4&amp;quot;,// 自动续期订阅
                &amp;quot;transaction_id&amp;quot;:&amp;quot;1000000646065960&amp;quot;,
                &amp;quot;original_transaction_id&amp;quot;:&amp;quot;1000000646065960&amp;quot;,
                &amp;quot;purchase_date&amp;quot;:&amp;quot;2020-04-01 00:49:18 Etc/GMT&amp;quot;,
                &amp;quot;purchase_date_ms&amp;quot;:&amp;quot;1585702158000&amp;quot;,
                &amp;quot;purchase_date_pst&amp;quot;:&amp;quot;2020-03-31 17:49:18 America/Los_Angeles&amp;quot;,
                &amp;quot;original_purchase_date&amp;quot;:&amp;quot;2020-04-01 00:49:19 Etc/GMT&amp;quot;,
                &amp;quot;original_purchase_date_ms&amp;quot;:&amp;quot;1585702159000&amp;quot;,
                &amp;quot;original_purchase_date_pst&amp;quot;:&amp;quot;2020-03-31 17:49:19 America/Los_Angeles&amp;quot;,
                &amp;quot;expires_date&amp;quot;:&amp;quot;2020-04-01 00:52:18 Etc/GMT&amp;quot;,
                &amp;quot;expires_date_ms&amp;quot;:&amp;quot;1585702338000&amp;quot;,
                &amp;quot;expires_date_pst&amp;quot;:&amp;quot;2020-03-31 17:52:18 America/Los_Angeles&amp;quot;,
                &amp;quot;web_order_line_item_id&amp;quot;:&amp;quot;1000000051400327&amp;quot;,
                &amp;quot;is_trial_period&amp;quot;:&amp;quot;false&amp;quot;,
                &amp;quot;is_in_intro_offer_period&amp;quot;:&amp;quot;false&amp;quot;
            },
            {
                .......
              // 省略N次自动续期交易
            },
            {
                &amp;quot;quantity&amp;quot;:&amp;quot;1&amp;quot;,
                &amp;quot;product_id&amp;quot;:&amp;quot;test_item_4&amp;quot;,
                &amp;quot;transaction_id&amp;quot;:&amp;quot;1000000646068127&amp;quot;,
                &amp;quot;original_transaction_id&amp;quot;:&amp;quot;1000000646065960&amp;quot;,
                &amp;quot;purchase_date&amp;quot;:&amp;quot;2020-04-01 01:04:18 Etc/GMT&amp;quot;,
                &amp;quot;purchase_date_ms&amp;quot;:&amp;quot;1585703058000&amp;quot;,
                &amp;quot;purchase_date_pst&amp;quot;:&amp;quot;2020-03-31 18:04:18 America/Los_Angeles&amp;quot;,
                &amp;quot;original_purchase_date&amp;quot;:&amp;quot;2020-04-01 00:49:19 Etc/GMT&amp;quot;,
                &amp;quot;original_purchase_date_ms&amp;quot;:&amp;quot;1585702159000&amp;quot;,
                &amp;quot;original_purchase_date_pst&amp;quot;:&amp;quot;2020-03-31 17:49:19 America/Los_Angeles&amp;quot;,
                &amp;quot;expires_date&amp;quot;:&amp;quot;2020-04-01 01:07:18 Etc/GMT&amp;quot;,
                &amp;quot;expires_date_ms&amp;quot;:&amp;quot;1585703238000&amp;quot;,
                &amp;quot;expires_date_pst&amp;quot;:&amp;quot;2020-03-31 18:07:18 America/Los_Angeles&amp;quot;,
                &amp;quot;web_order_line_item_id&amp;quot;:&amp;quot;1000000051400432&amp;quot;,
                &amp;quot;is_trial_period&amp;quot;:&amp;quot;false&amp;quot;,
                &amp;quot;is_in_intro_offer_period&amp;quot;:&amp;quot;false&amp;quot;
            }
        ]
    },
    //内购买交易的数组
    &amp;quot;latest_receipt_info&amp;quot;:[
        {
            &amp;quot;quantity&amp;quot;:&amp;quot;1&amp;quot;, //购买的消耗品数量
            &amp;quot;product_id&amp;quot;:&amp;quot;test_item_1&amp;quot;, //商品唯一标识
            &amp;quot;transaction_id&amp;quot;:&amp;quot;1000000646065186&amp;quot;,       //交易流水号
            &amp;quot;original_transaction_id&amp;quot;:&amp;quot;1000000646065186&amp;quot;,   //原始交易单号
            &amp;quot;purchase_date&amp;quot;:&amp;quot;2020-04-01 00:43:43 Etc/GMT&amp;quot;, //购买交易时间
            &amp;quot;purchase_date_ms&amp;quot;:&amp;quot;1585701823000&amp;quot;,
            &amp;quot;purchase_date_pst&amp;quot;:&amp;quot;2020-03-31 17:43:43 America/Los_Angeles&amp;quot;,
            &amp;quot;original_purchase_date&amp;quot;:&amp;quot;2020-04-01 00:43:43 Etc/GMT&amp;quot;, //原始应用购买的时间
            &amp;quot;original_purchase_date_ms&amp;quot;:&amp;quot;1585701823000&amp;quot;,
            &amp;quot;original_purchase_date_pst&amp;quot;:&amp;quot;2020-03-31 17:43:43 America/Los_Angeles&amp;quot;,
            &amp;quot;is_trial_period&amp;quot;:&amp;quot;false&amp;quot;   //订阅是否处于免费试用期的指标
        },
        {
            &amp;quot;quantity&amp;quot;:&amp;quot;1&amp;quot;,
            &amp;quot;product_id&amp;quot;:&amp;quot;test_item_2&amp;quot;,
            &amp;quot;transaction_id&amp;quot;:&amp;quot;1000000646065025&amp;quot;,
            &amp;quot;original_transaction_id&amp;quot;:&amp;quot;1000000646065025&amp;quot;,
            &amp;quot;purchase_date&amp;quot;:&amp;quot;2020-04-01 00:41:21 Etc/GMT&amp;quot;,
            &amp;quot;purchase_date_ms&amp;quot;:&amp;quot;1585701681000&amp;quot;,
            &amp;quot;purchase_date_pst&amp;quot;:&amp;quot;2020-03-31 17:41:21 America/Los_Angeles&amp;quot;,
            &amp;quot;original_purchase_date&amp;quot;:&amp;quot;2020-04-01 00:41:21 Etc/GMT&amp;quot;,
            &amp;quot;original_purchase_date_ms&amp;quot;:&amp;quot;1585701681000&amp;quot;,
            &amp;quot;original_purchase_date_pst&amp;quot;:&amp;quot;2020-03-31 17:41:21 America/Los_Angeles&amp;quot;,
            &amp;quot;is_trial_period&amp;quot;:&amp;quot;false&amp;quot;
        },
                {
            &amp;quot;quantity&amp;quot;:&amp;quot;1&amp;quot;,
            &amp;quot;product_id&amp;quot;:&amp;quot;test_item_2&amp;quot;,
            &amp;quot;transaction_id&amp;quot;:&amp;quot;1000000646065025&amp;quot;,
            &amp;quot;original_transaction_id&amp;quot;:&amp;quot;1000000646065025&amp;quot;,
            &amp;quot;purchase_date&amp;quot;:&amp;quot;2020-04-01 00:41:21 Etc/GMT&amp;quot;,
            &amp;quot;purchase_date_ms&amp;quot;:&amp;quot;1585701681000&amp;quot;,
            &amp;quot;purchase_date_pst&amp;quot;:&amp;quot;2020-03-31 17:41:21 America/Los_Angeles&amp;quot;,
            &amp;quot;original_purchase_date&amp;quot;:&amp;quot;2020-04-01 00:41:21 Etc/GMT&amp;quot;,
            &amp;quot;original_purchase_date_ms&amp;quot;:&amp;quot;1585701681000&amp;quot;,
            &amp;quot;original_purchase_date_pst&amp;quot;:&amp;quot;2020-03-31 17:41:21 America/Los_Angeles&amp;quot;,
            &amp;quot;is_trial_period&amp;quot;:&amp;quot;false&amp;quot;
        },
        {
            &amp;quot;quantity&amp;quot;:&amp;quot;1&amp;quot;,
            &amp;quot;product_id&amp;quot;:&amp;quot;test_item_3&amp;quot;,
            &amp;quot;transaction_id&amp;quot;:&amp;quot;1000000650241590&amp;quot;,
            &amp;quot;original_transaction_id&amp;quot;:&amp;quot;1000000650241590&amp;quot;,
            &amp;quot;purchase_date&amp;quot;:&amp;quot;2020-04-10 02:27:13 Etc/GMT&amp;quot;,
            &amp;quot;purchase_date_ms&amp;quot;:&amp;quot;1586485633000&amp;quot;,
            &amp;quot;purchase_date_pst&amp;quot;:&amp;quot;2020-04-09 19:27:13 America/Los_Angeles&amp;quot;,
            &amp;quot;original_purchase_date&amp;quot;:&amp;quot;2020-04-10 02:27:13 Etc/GMT&amp;quot;,
            &amp;quot;original_purchase_date_ms&amp;quot;:&amp;quot;1586485633000&amp;quot;,
            &amp;quot;original_purchase_date_pst&amp;quot;:&amp;quot;2020-04-09 19:27:13 America/Los_Angeles&amp;quot;,
            &amp;quot;expires_date&amp;quot;:&amp;quot;2020-04-01 00:52:18 Etc/GMT&amp;quot;,
            &amp;quot;is_trial_period&amp;quot;:&amp;quot;false&amp;quot;,
        },
        {
            &amp;quot;quantity&amp;quot;:&amp;quot;1&amp;quot;,
            &amp;quot;product_id&amp;quot;:&amp;quot;test_item_4&amp;quot;,
            &amp;quot;transaction_id&amp;quot;:&amp;quot;1000000646068127&amp;quot;,
            &amp;quot;original_transaction_id&amp;quot;:&amp;quot;1000000646065960&amp;quot;,
            &amp;quot;purchase_date&amp;quot;:&amp;quot;2020-04-01 01:04:18 Etc/GMT&amp;quot;,
            &amp;quot;purchase_date_ms&amp;quot;:&amp;quot;1585703058000&amp;quot;,
            &amp;quot;purchase_date_pst&amp;quot;:&amp;quot;2020-03-31 18:04:18 America/Los_Angeles&amp;quot;,
            &amp;quot;original_purchase_date&amp;quot;:&amp;quot;2020-04-01 00:49:19 Etc/GMT&amp;quot;,
            &amp;quot;original_purchase_date_ms&amp;quot;:&amp;quot;1585702159000&amp;quot;,
            &amp;quot;original_purchase_date_pst&amp;quot;:&amp;quot;2020-03-31 17:49:19 America/Los_Angeles&amp;quot;,
            &amp;quot;expires_date&amp;quot;:&amp;quot;2020-04-01 01:07:18 Etc/GMT&amp;quot;,
            &amp;quot;expires_date_ms&amp;quot;:&amp;quot;1585703238000&amp;quot;,
            &amp;quot;expires_date_pst&amp;quot;:&amp;quot;2020-03-31 18:07:18 America/Los_Angeles&amp;quot;,
            &amp;quot;web_order_line_item_id&amp;quot;:&amp;quot;1000000051400432&amp;quot;,
            &amp;quot;is_trial_period&amp;quot;:&amp;quot;false&amp;quot;,
            &amp;quot;is_in_intro_offer_period&amp;quot;:&amp;quot;false&amp;quot;,
            &amp;quot;subscription_group_identifier&amp;quot;:&amp;quot;20609507&amp;quot;
        }
    ],
    //最新的凭证
    &amp;quot;latest_receipt&amp;quot;:&amp;quot;xxxxxxxxxxx&amp;quot;,
    &amp;quot;pending_renewal_info&amp;quot;:[
        {
            &amp;quot;expiration_intent&amp;quot;:&amp;quot;1&amp;quot;,    //订阅过期的原因。此字段仅适用于包含过期自动续订订阅的收据。
            &amp;quot;auto_renew_product_id&amp;quot;:&amp;quot;test_item_4&amp;quot;,  //客户订阅续订的产品的属性
            &amp;quot;original_transaction_id&amp;quot;:&amp;quot;1000000646065960&amp;quot;,   //原始购买的交易标识符。
            &amp;quot;is_in_billing_retry_period&amp;quot;:&amp;quot;0&amp;quot;,   //指示 Apple 正在尝试自动续订过期订阅的标志
            &amp;quot;product_id&amp;quot;:&amp;quot;test_item_4&amp;quot;, //所购买产品的唯一标识符
            &amp;quot;auto_renew_status&amp;quot;:&amp;quot;0&amp;quot; //自动续订订阅的当前续订状态
        }
    ]
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;内购返回结果判断方案&#34;&gt;内购返回结果判断方案&lt;/h3&gt;
&lt;p&gt;核心判断参数：&lt;br&gt;
latest_receipt_info //交易记录&lt;br&gt;
latest_receipt_info.transaction_id //子订单号&lt;br&gt;
latest_receipt_info.original_transaction_id //原始订单号&lt;br&gt;
latest_receipt_info.purchase_date_ms  //支付时间戳&lt;br&gt;
latest_receipt_info.original_purchase_date_ms //原始支付时间&lt;br&gt;
latest_receipt_info.expires_date_ms  //到期时间戳&lt;br&gt;
status      //凭证状态&lt;/p&gt;
&lt;p&gt;可以通过以上参数判断订单状态&lt;/p&gt;
">ios内购（go 版本）</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://v-micro.github.io/post/jia-mi-suan-fa-zong-jie/"" data-c="
          &lt;p&gt;加密解密在实际开发中应用比较广泛，常用加解密分为：“对称式”、“非对称式”和”数字签名“。&lt;/p&gt;
&lt;p&gt;对称式：对称加密(也叫私钥加密)指加密和解密使用相同密钥的加密算法。具体算法主要有DES算法，3DES算法，TDEA算法，Blowfish算法，RC5算法，IDEA算法。&lt;/p&gt;
&lt;p&gt;非对称加密(公钥加密)：指加密和解密使用不同密钥的加密算法，也称为公私钥加密。具体算法主要有RSA、Elgamal、背包算法、Rabin、D-H、ECC（椭圆曲线加密算法）。&lt;/p&gt;
&lt;p&gt;数字签名：数字签名是非对称密钥加密技术与数字摘要技术的应用。主要算法有md5、hmac、sha1等。&lt;/p&gt;
&lt;h2 id=&#34;md5加密&#34;&gt;MD5加密&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;h := md5.New()
h.Write([]byte(s))
return hex.EncodeToString(h.Sum(nil))
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;hmac加密&#34;&gt;hmac加密&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;//key随意设置 data 要加密数据
func Hmac(key, data string) string {
	hash:= hmac.New(md5.New, []byte(key)) // 创建对应的md5哈希加密算法
	hash.Write([]byte(data))
	return hex.EncodeToString(hash.Sum([]byte(&amp;quot;&amp;quot;)))
}
func HmacSha256(key, data string) string {
	hash:= hmac.New(sha256.New, []byte(key)) //创建对应的sha256哈希加密算法
	hash.Write([]byte(data))
	return hex.EncodeToString(hash.Sum([]byte(&amp;quot;&amp;quot;)))
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;sha1&#34;&gt;sha1&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;func Sha1(data string) string {
	sha1 := sha1.New()
	sha1.Write([]byte(data))
	return hex.EncodeToString(sha1.Sum([]byte(&amp;quot;&amp;quot;)))
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;aes&#34;&gt;AES&lt;/h2&gt;
&lt;p&gt;AES 的五种加密模式&lt;br&gt;
电码本模式（Electronic Codebook Book (ECB)）&lt;br&gt;
密码分组链接模式（Cipher Block Chaining (CBC)）&lt;br&gt;
计算器模式（Counter (CTR)）&lt;br&gt;
密码反馈模式（Cipher FeedBack (CFB)）&lt;br&gt;
输出反馈模式（Output FeedBack (OFB)）&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# ECB 加密方式
func AESEncrypt(src []byte, key []byte) (encrypted []byte) {
	cipher, _ := aes.NewCipher(generateKey(key))
	length := (len(src) + aes.BlockSize) / aes.BlockSize
	plain := make([]byte, length*aes.BlockSize)
	copy(plain, src)
	pad := byte(len(plain) - len(src))
	for i := len(src); i &amp;lt; len(plain); i++ {
		plain[i] = pad
	}
	encrypted = make([]byte, len(plain))
	// 分组分块加密
	for bs, be := 0, cipher.BlockSize(); bs &amp;lt;= len(src); bs, be = bs+cipher.BlockSize(), be+cipher.BlockSize() {
		cipher.Encrypt(encrypted[bs:be], plain[bs:be])
	}

	return encrypted
}

func AESDecrypt(encrypted []byte, key []byte) (decrypted []byte) {
	cipher, _ := aes.NewCipher(generateKey(key))
	decrypted = make([]byte, len(encrypted))
	//
	for bs, be := 0, cipher.BlockSize(); bs &amp;lt; len(encrypted); bs, be = bs+cipher.BlockSize(), be+cipher.BlockSize() {
		cipher.Decrypt(decrypted[bs:be], encrypted[bs:be])
	}

	trim := 0
	if len(decrypted) &amp;gt; 0 {
		trim = len(decrypted) - int(decrypted[len(decrypted)-1])
	}

	return decrypted[:trim]
}

func generateKey(key []byte) (genKey []byte) {
	genKey = make([]byte, 16)
	copy(genKey, key)
	for i := 16; i &amp;lt; len(key); {
		for j := 0; j &amp;lt; 16 &amp;amp;&amp;amp; i &amp;lt; len(key); j, i = j+1, i+1 {
			genKey[j] ^= key[i]
		}
	}
	return genKey
}
func main()  {
	source:=&amp;quot;hello world&amp;quot;
	fmt.Println(&amp;quot;原字符：&amp;quot;,source)
	//16byte密钥
	key:=&amp;quot;1443flfsaWfdas&amp;quot;
	encryptCode:=AESEncrypt([]byte(source),[]byte(key))
	fmt.Println(&amp;quot;密文：&amp;quot;,string(encryptCode))
	decryptCode:=AESDecrypt(encryptCode,[]byte(key))
	fmt.Println(&amp;quot;解密：&amp;quot;,string(decryptCode))
}
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;# CBC 加密方式
func main() {
    orig := &amp;quot;hello world&amp;quot;
    key := &amp;quot;0123456789012345&amp;quot;
    fmt.Println(&amp;quot;原文：&amp;quot;, orig)
    encryptCode := AesEncrypt(orig, key)
    fmt.Println(&amp;quot;密文：&amp;quot; , encryptCode)
    decryptCode := AesDecrypt(encryptCode, key)
    fmt.Println(&amp;quot;解密结果：&amp;quot;, decryptCode)
}
func AesEncrypt(orig string, key string) string {
    // 转成字节数组
    origData := []byte(orig)
    k := []byte(key)
    // 分组秘钥
    // NewCipher该函数限制了输入k的长度必须为16, 24或者32
    block, _ := aes.NewCipher(k)
    // 获取秘钥块的长度
    blockSize := block.BlockSize()
    // 补全码
    origData = PKCS7Padding(origData, blockSize)
    // 加密模式
    blockMode := cipher.NewCBCEncrypter(block, k[:blockSize])
    // 创建数组
    cryted := make([]byte, len(origData))
    // 加密
    blockMode.CryptBlocks(cryted, origData)
    return base64.StdEncoding.EncodeToString(cryted)
}
func AesDecrypt(cryted string, key string) string {
    // 转成字节数组
    crytedByte, _ := base64.StdEncoding.DecodeString(cryted)
    k := []byte(key)
    // 分组秘钥
    block, _ := aes.NewCipher(k)
    // 获取秘钥块的长度
    blockSize := block.BlockSize()
    // 加密模式
    blockMode := cipher.NewCBCDecrypter(block, k[:blockSize])
    // 创建数组
    orig := make([]byte, len(crytedByte))
    // 解密
    blockMode.CryptBlocks(orig, crytedByte)
    // 去补全码
    orig = PKCS7UnPadding(orig)
    return string(orig)
}
//补码
//AES加密数据块分组长度必须为128bit(byte[16])，密钥长度可以是128bit(byte[16])、192bit(byte[24])、256bit(byte[32])中的任意一个。
func PKCS7Padding(ciphertext []byte, blocksize int) []byte {
    padding := blocksize - len(ciphertext)%blocksize
    padtext := bytes.Repeat([]byte{byte(padding)}, padding)
    return append(ciphertext, padtext...)
}
//去码
func PKCS7UnPadding(origData []byte) []byte {
    length := len(origData)
    unpadding := int(origData[length-1])
    return origData[:(length - unpadding)]
}
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;#CRT 加密方式
//加密
func aesCtrCrypt(plainText []byte, key []byte) ([]byte, error) {

	//1. 创建cipher.Block接口
	block, err := aes.NewCipher(key)
	if err != nil {
		return nil, err
	}
	//2. 创建分组模式，在crypto/cipher包中
	iv := bytes.Repeat([]byte(&amp;quot;1&amp;quot;), block.BlockSize())
	stream := cipher.NewCTR(block, iv)
	//3. 加密
	dst := make([]byte, len(plainText))
	stream.XORKeyStream(dst, plainText)

	return dst, nil
}


func main() {
	source:=&amp;quot;hello world&amp;quot;
	fmt.Println(&amp;quot;原字符：&amp;quot;,source)

	key:=&amp;quot;1443flfsaWfdasds&amp;quot;
	encryptCode,_:=aesCtrCrypt([]byte(source),[]byte(key))
	fmt.Println(&amp;quot;密文：&amp;quot;,string(encryptCode))

	decryptCode,_:=aesCtrCrypt(encryptCode,[]byte(key))

	fmt.Println(&amp;quot;解密：&amp;quot;,string(decryptCode))
}
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;#CFB 加密方式
func AesEncryptCFB(origData []byte, key []byte) (encrypted []byte) {
	block, err := aes.NewCipher(key)
	if err != nil {
		//panic(err)
	}
	encrypted = make([]byte, aes.BlockSize+len(origData))
	iv := encrypted[:aes.BlockSize]
	if _, err := io.ReadFull(rand.Reader, iv); err != nil {
		//panic(err)
	}
	stream := cipher.NewCFBEncrypter(block, iv)
	stream.XORKeyStream(encrypted[aes.BlockSize:], origData)
	return encrypted
}
func AesDecryptCFB(encrypted []byte, key []byte) (decrypted []byte) {
	block, _ := aes.NewCipher(key)
	if len(encrypted) &amp;lt; aes.BlockSize {
		panic(&amp;quot;ciphertext too short&amp;quot;)
	}
	iv := encrypted[:aes.BlockSize]
	encrypted = encrypted[aes.BlockSize:]

	stream := cipher.NewCFBDecrypter(block, iv)
	stream.XORKeyStream(encrypted, encrypted)
	return encrypted
}
func main() {
	source:=&amp;quot;hello world&amp;quot;
	fmt.Println(&amp;quot;原字符：&amp;quot;,source)
	key:=&amp;quot;ABCDEFGHIJKLMNO1&amp;quot;//16位
	encryptCode:=AesEncryptCFB([]byte(source),[]byte(key))
	fmt.Println(&amp;quot;密文：&amp;quot;,hex.EncodeToString(encryptCode))
	decryptCode:=AesDecryptCFB(encryptCode,[]byte(key))

	fmt.Println(&amp;quot;解密：&amp;quot;,string(decryptCode))
}
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;#OFB 加密方式
func aesEncryptOFB( data[]byte,key []byte) ([]byte, error) {
	data = PKCS7Padding(data, aes.BlockSize)
	block, _ := aes.NewCipher([]byte(key))
	out := make([]byte, aes.BlockSize + len(data))
	iv := out[:aes.BlockSize]
	if _, err := io.ReadFull(rand.Reader, iv); err != nil {
		return nil, err
	}

	stream := cipher.NewOFB(block, iv)
	stream.XORKeyStream(out[aes.BlockSize:], data)
	return out, nil
}

func aesDecryptOFB( data[]byte,key []byte) ([]byte, error) {
	block, _ := aes.NewCipher([]byte(key))
	iv  := data[:aes.BlockSize]
	data = data[aes.BlockSize:]
	if len(data) % aes.BlockSize != 0 {
		return nil, fmt.Errorf(&amp;quot;data is not a multiple of the block size&amp;quot;)
	}

	out := make([]byte, len(data))
	mode := cipher.NewOFB(block, iv)
	mode.XORKeyStream(out, data)

	out= PKCS7UnPadding(out)
	return out, nil
}
//补码
//AES加密数据块分组长度必须为128bit(byte[16])，密钥长度可以是128bit(byte[16])、192bit(byte[24])、256bit(byte[32])中的任意一个。
func PKCS7Padding(ciphertext []byte, blocksize int) []byte {
	padding := blocksize - len(ciphertext)%blocksize
	padtext := bytes.Repeat([]byte{byte(padding)}, padding)
	return append(ciphertext, padtext...)
}
//去码
func PKCS7UnPadding(origData []byte) []byte {
	length := len(origData)
	unpadding := int(origData[length-1])
	return origData[:(length - unpadding)]
}
func main() {
	source:=&amp;quot;hello world&amp;quot;
	fmt.Println(&amp;quot;原字符：&amp;quot;,source)
	key:=&amp;quot;1111111111111111&amp;quot;//16位  32位均可
	encryptCode,_:=aesEncryptOFB([]byte(source),[]byte(key))
	fmt.Println(&amp;quot;密文：&amp;quot;,hex.EncodeToString(encryptCode))
	decryptCode,_:=aesDecryptOFB(encryptCode,[]byte(key))

	fmt.Println(&amp;quot;解密：&amp;quot;,string(decryptCode))
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;rsa加密&#34;&gt;RSA加密&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;# 私钥生成 
# openssl genrsa -out rsa_private_key.pem 1024

# 公钥: 根据私钥生成
# openssl rsa -in rsa_private_key.pem -pubout -out rsa_public_key.pem
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;代码处理&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;var privateKey = []byte(`
-----BEGIN RSA PRIVATE KEY-----
MIICWwIBAAKBgQDcGsUIIAINHfRTdMmgGwLrjzfMNSrtgIf4EGsNaYwmC1GjF/bM
h0Mcm10oLhNrKNYCTTQVGGIxuc5heKd1gOzb7bdTnCDPPZ7oV7p1B9Pud+6zPaco
qDz2M24vHFWYY2FbIIJh8fHhKcfXNXOLovdVBE7Zy682X1+R1lRK8D+vmQIDAQAB
AoGAeWAZvz1HZExca5k/hpbeqV+0+VtobMgwMs96+U53BpO/VRzl8Cu3CpNyb7HY
64L9YQ+J5QgpPhqkgIO0dMu/0RIXsmhvr2gcxmKObcqT3JQ6S4rjHTln49I2sYTz
7JEH4TcplKjSjHyq5MhHfA+CV2/AB2BO6G8limu7SheXuvECQQDwOpZrZDeTOOBk
z1vercawd+J9ll/FZYttnrWYTI1sSF1sNfZ7dUXPyYPQFZ0LQ1bhZGmWBZ6a6wd9
R+PKlmJvAkEA6o32c/WEXxW2zeh18sOO4wqUiBYq3L3hFObhcsUAY8jfykQefW8q
yPuuL02jLIajFWd0itjvIrzWnVmoUuXydwJAXGLrvllIVkIlah+lATprkypH3Gyc
YFnxCTNkOzIVoXMjGp6WMFylgIfLPZdSUiaPnxby1FNM7987fh7Lp/m12QJAK9iL
2JNtwkSR3p305oOuAz0oFORn8MnB+KFMRaMT9pNHWk0vke0lB1sc7ZTKyvkEJW0o
eQgic9DvIYzwDUcU8wJAIkKROzuzLi9AvLnLUrSdI6998lmeYO9x7pwZPukz3era
zncjRK3pbVkv0KrKfczuJiRlZ7dUzVO0b6QJr8TRAA==
-----END RSA PRIVATE KEY-----
`)

var publicKey = []byte(`
-----BEGIN PUBLIC KEY-----
MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDcGsUIIAINHfRTdMmgGwLrjzfM
NSrtgIf4EGsNaYwmC1GjF/bMh0Mcm10oLhNrKNYCTTQVGGIxuc5heKd1gOzb7bdT
nCDPPZ7oV7p1B9Pud+6zPacoqDz2M24vHFWYY2FbIIJh8fHhKcfXNXOLovdVBE7Z
y682X1+R1lRK8D+vmQIDAQAB
-----END PUBLIC KEY-----
`)

// 加密
func RsaEncrypt(origData []byte) ([]byte, error) {
	//解密pem格式的公钥
	block, _ := pem.Decode(publicKey)
	if block == nil {
		return nil, errors.New(&amp;quot;public key error&amp;quot;)
	}
	// 解析公钥
	pubInterface, err := x509.ParsePKIXPublicKey(block.Bytes)
	if err != nil {
		return nil, err
	}
	// 类型断言
	pub := pubInterface.(*rsa.PublicKey)
	//加密
	return rsa.EncryptPKCS1v15(rand.Reader, pub, origData)
}

// 解密
func RsaDecrypt(ciphertext []byte) ([]byte, error) {
	//解密
	block, _ := pem.Decode(privateKey)
	if block == nil {
		return nil, errors.New(&amp;quot;private key error!&amp;quot;)
	}
	//解析PKCS1格式的私钥
	priv, err := x509.ParsePKCS1PrivateKey(block.Bytes)
	if err != nil {
		return nil, err
	}
	// 解密
	return rsa.DecryptPKCS1v15(rand.Reader, priv, ciphertext)
}
func main() {
	data, _ := RsaEncrypt([]byte(&amp;quot;hello world&amp;quot;))
	fmt.Println(base64.StdEncoding.EncodeToString(data))
	origData, _ := RsaDecrypt(data)
	fmt.Println(string(origData))
}
&lt;/code&gt;&lt;/pre&gt;
">加密算法总结</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://v-micro.github.io/post/ngrok-da-jian/"" data-c="
          &lt;p&gt;ngrok 是一个反向代理，通过在公共的端点和本地运行的 Web 服务器之间建立一个安全的通道。ngrok 可捕获和分析所有通道上的流量，便于后期分析和重放。&lt;/p&gt;
&lt;p&gt;开始安装&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;下载go的软件包
wget http://www.golangtc.com/static/go/1.4.2/go1.4.2.linux-386.tar.gz

进行解压
tar -zxvf go1.4.2.linux-386.tar.gz
mv go /usr/local/

go的命令需要做软连接到/usr/bin
ln -s /usr/local/go/bin/* /usr/bin/

编译ngrok
cd /usr/local/
git clone https://github.com/inconshreveable/ngrok.git
export GOPATH=/usr/local/ngrok/
export NGROK_DOMAIN=&amp;quot;ngrok.volist.cn&amp;quot;
cd ngrok

为域名生成证书
openssl genrsa -out rootCA.key 2048
openssl req -x509 -new -nodes -key rootCA.key -subj &amp;quot;/CN=$NGROK_DOMAIN&amp;quot; -days 5000 -out rootCA.pem
openssl genrsa -out server.key 2048
openssl req -new -key server.key -subj &amp;quot;/CN=$NGROK_DOMAIN&amp;quot; -out server.csr
openssl x509 -req -in server.csr -CA rootCA.pem -CAkey rootCA.key -CAcreateserial -out server.crt -days 5000

在软件源代码目录下面会生成一些证书文件，我们需要把这些文件拷贝到指定位置
cp rootCA.pem assets/client/tls/ngrokroot.crt
cp server.crt assets/server/tls/snakeoil.crt
cp server.key assets/server/tls/snakeoil.key

如果是在天朝的服务器需要改，香港或者国外的服务器不需要
vim src/ngrok/log/logger.go
log &amp;quot;github.com/keepeye/log4go&amp;quot;

指定编译环境变量，如何确认GOOS和GOARCH，可以通过go env来查看
出现GOROOT_BOOTSTRAP变量设置问题用下面解决
重点：export GOROOT_BOOTSTRAP=/usr/local/go1.4

编译服务端
cd /usr/local/go/src
GOOS=linux GOARCH=amd64 ./make.bash
cd /usr/local/ngrok/
GOOS=linux GOARCH=amd64 make release-server

编译客户端，mac os 64位操作系统
cd /usr/local/go/src
GOOS=darwin GOARCH=amd64 ./make.bash
cd /usr/local/ngrok/
GOOS=darwin GOARCH=amd64 make release-client

Windows的客户端编译
cd /usr/local/go/src
GOOS=windows GOARCH=amd64 ./make.bash
cd /usr/local/ngrok/
GOOS=windows GOARCH=amd64 make release-client


服务端启动
/usr/local/ngrok/bin/ngrokd -domain=&amp;quot;$NGROK_DOMAIN&amp;quot; -httpAddr=&amp;quot;:80&amp;quot;

客户端配置文件
创建ngrok.cfg 内容如下
server_addr: &amp;quot;ngrok.volist.cn:4443&amp;quot;
trust_host_root_certs: false
创建ngrok.bat启动文件 内容如下
ngrok.exe -config=ngrok.cfg -subdomain=blog 127.0.0.99:8082
此时客户端目录为
![](https://v-micro.github.io/post-images/1624259736221.png)

启动成功后的界面
![](https://v-micro.github.io/post-images/1624259679849.png)

&lt;/code&gt;&lt;/pre&gt;
">ngrok搭建</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://v-micro.github.io/post/git/"" data-c="
          &lt;p&gt;Git 是一个开源的分布式版本控制系统，用于敏捷高效地处理任何或小或大的项目。&lt;/p&gt;
&lt;p&gt;git基本操作&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;feature branch：功能分支
release branch：预发布分支
hotfix branch：bug修复分支

git diff 608e120 4abe32e --name-only		两个版本的差异文件

git log &amp;lt;file&amp;gt; 文件提交日志
git checkout &amp;lt;commitID&amp;gt; &amp;lt;filename&amp;gt;		回滚到指定id

gogs 集成工具

git 日常协作

git fetch origin 远程分支名x:本地分支名x

添加远程仓库
git remote add origin git@github.com:michaelliao/learngit.git

开发人员
git clone  xxxxxxxxxxxxxx		拉取代码
git checkout develop	 		切换主分支
git checkout -b feature-discuss		分出一个功能性分支
touch discuss.js     			# 假装discuss.js就是我们要开发的功能
git add . 
git commit -m &#39;提交功能&#39;     # 提交更改
git checkout develop     # 回到develop分支
git merge --no-ff feature-discuss     # 把做好的功能合并到develop中 
git branch -d feature-discuss	 # 删除功能性分支
git push origin develop     # 把develop提交到自己的远程仓库中 

项目管理人员
git checkout develop
git checkout -b livoras-develop		
git pull https://github.com/livoras/git-demo.git develop
git checkout develop
git merge --no-ff livoras-develop
git push origin develop 

开发中解决bug
git stash 				#储存现场工作
git checkout master		#切换需要解决bug 的bug 分支
git checkout -b issue-101		#创建bug 分支
git add readme.txt
git commit -m &amp;quot;fix bug 101&amp;quot;
git checkout master
git merge --no-ff -m &amp;quot;merged bug fix 101&amp;quot; issue-101
git branch -d issue-101  删除bug分支
git checkout dev	切换开发分支	
git status		查看工作区
git stash list		查看暂存区域
git stash pop		恢复暂存并删除暂存

git 技巧
合并分支个别文件
git checkout dijie_bug &amp;lt;path&amp;gt;		// 分支dijie_bug 文件强行更新到当前分支
注：避免强制覆盖
git checkout -b dijie_bug_temp	//创建bug 临时分支
git merge dijie_bug	//合并bug 分支
git checkout dijie_v6	//切换当前开发分支
git checkout dijie_bug_temp  &amp;lt;path&amp;gt;	强制更新当前分支


git 机器配置
git config --list

git config --global user.name &amp;quot;cai hui&amp;quot;
git config --global user.email &amp;quot;1156949976@qq.com&amp;quot;

服务器避免每回输入密码
git config --global credential.helper store

//拉去git 链接 最新的3个提交记录
git clone &amp;lt;git地址&amp;gt; &amp;lt;命名&amp;gt; --depth=3

//git 标签作用
git tag -a v1.4 -m &#39;my version 1.4&#39;	//git 打标签
git tag -l &#39;1.8*&#39;	//模糊查询标签

============================================================
子模块的应用
第一次clone带子模块的项目
shell script
git clone --recurse-submodules url

如果第一次没有clone子模块，下载完成后，但是子模块并没有下载下来，使用下面的命令
shell script
git submodule update --init --recursive

过了一段时间，子模块更新了，需要重新更新子模块，一个命令解决
shell script
git submodule foreach git pull origin master

子模块更新
shell script
git submodule update --remote

更新所有子模块
shell script
git submodule foreach git submodule update

如果已经克隆了项目并忘记了 ，则可以通过运行 来组合 和 步骤。为了还可以初始化、提取和签出任何嵌套子模块，可以使用万无一失的子模块。
shell script
--recurse-submodules git submodule init git submodule updategit submodule update --initgit submodule update --init --recursive

为没有子模块的项目，添加子模块
shell script
git submodule add http://10.1.1.243/s2b2c/proto.git

如果项目报错，提示 &#39;proto&#39; already exists in the index，说明proto属于该项目的子目录，需要移除
shell script
git rm -r --cached proto

============================================================
git 服务器搭建

mkdir -p /home/www/project.git
chmod 777 /home/www
cd /home/www/project.git
git init --bare             //创建一个裸仓库

//因为需要执行shell,把shell指定成/usr/bin/git-shell 或/sbin/nogin 无法使用git hooks来更新blog
useradd -s /bin/bash git  

chown git:git -R /home/www/project.git

// 创建用户登录权限
mkdir -p /home/git/.ssh
vim /home/git/.ssh/authorized_keys  //把上面复制的key粘贴进去，后保存退出
chown git:git -R /home/git/.ssh
chmod 600 /home/git/.ssh/authorized_keys //权限不要出错
chmod 755 /home/git/vim.ssh

//拉取代码
git clone ssh://git@211.149.210.31:22000/home/www/project.git


============================================================
//添加hooks
cd /home/www/project.git/hooks
vim post-receive
注：注意git 的权限
以下为脚本
#!/bin/sh
PATH=$PATH:/usr/local/python27/bin
GIT_WORK_TREE=/home/www/newproject git checkout -f
cd /home/www/newproject &amp;amp;&amp;amp; make html &amp;gt;/dev/null 2&amp;gt;&amp;amp;1
chmod +x post-receive
chown git:git -R /home/www/newproject 


&lt;/code&gt;&lt;/pre&gt;
">Git</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://v-micro.github.io/post/lian-lu-zhui-zong/"" data-c="
          &lt;p&gt;在微服务架构中。需要捕获一个链接完整的链路&lt;/p&gt;
&lt;p&gt;OpenTracing / jaeger&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;介绍：
OpenTracing：opentracing (中文)是一套分布式追踪协议，与平台，语言无关，统一接口，方便开发接入不同的分布式追踪系统。
jaeger: Jaeger (ˈyā-gər) 是Uber开发的一套分布式追踪系统，受启发于 dapper 和 OpenZipkin，兼容 OpenTracing 标准，CNCF的开源项目。
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;安装jaeger&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//下载镜像
docker pull jaegertracing/all-in-one:latest

docker run -d --name MyJaeger \
  -e COLLECTOR_ZIPKIN_HTTP_PORT=9411 \
  -p 5775:5775/udp \
  -p 6831:6831/udp \
  -p 6832:6832/udp \
  -p 5778:5778 \
  -p 16686:16686 \
  -p 14268:14268 \
  -p 14250:14250 \
  -p 9411:9411 \
  jaegertracing/all-in-one:latest

//端口说明
6831     接受jaeger.thrift紧凑型节俭协议
5778   	 服务配置
16686   服务前端
//简洁使用
docker run -d --name MyJaeger -p 6831:6831/udp -p 16686:16686  jaegertracing/all-in-one:latest

//查看是否安装成功
http://192.168.59.131:16686/
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;代码简单使用&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//使用拓展
&amp;quot;github.com/opentracing/opentracing-go&amp;quot;
&amp;quot;github.com/uber/jaeger-client-go&amp;quot;
&amp;quot;github.com/uber/jaeger-client-go/config&amp;quot;


//jaeger 初始化
func initJaeger(service string) (opentracing.Tracer, io.Closer) {
	cfg := &amp;amp;config.Configuration{
		Sampler: &amp;amp;config.SamplerConfig{
			Type:  &amp;quot;const&amp;quot;,
			Param: 1,
		},
		Reporter: &amp;amp;config.ReporterConfig{
			LogSpans: true,
			LocalAgentHostPort:&amp;quot;192.168.59.131:6831&amp;quot;,
		},
	}
	tracer, closer, err := cfg.New(service, config.Logger(jaeger.StdLogger))
	if err != nil {
		panic(fmt.Sprintf(&amp;quot;ERROR: cannot init Jaeger: %v\n&amp;quot;, err))
	}
	return tracer, closer
}
//模拟第一个方法
func foo1(req string, ctx context.Context) (reply string){
	//1.创建子span
	span, _ := opentracing.StartSpanFromContext(ctx, &amp;quot;span_foo1&amp;quot;)
	defer func() {
		//4.接口调用完，在tag中设置request和reply
		span.SetTag(&amp;quot;request&amp;quot;, req)
		span.SetTag(&amp;quot;reply&amp;quot;, reply)
		span.Finish()
	}()

	println(req)
	//2.模拟处理耗时
	time.Sleep(time.Second/10)
	//3.返回reply
	reply = &amp;quot;foo1Reply&amp;quot;
	return
}
//实际使用
func main()  {
    //初始化
	tracer, closer := initJaeger(&amp;quot;jaeger-demo&amp;quot;)
	defer closer.Close()
	opentracing.SetGlobalTracer(tracer) //StartspanFromContext创建新span时会用到
    
    //追踪开始
	span := tracer.StartSpan(&amp;quot;span_root&amp;quot;)
	ctx := opentracing.ContextWithSpan(context.Background(), span)
	r1 := foo1(&amp;quot;Hello foo1&amp;quot;, ctx)
	fmt.Println(r1)
	span.Finish()
}

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;完整gin 示例&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;package main

import (
	&amp;quot;context&amp;quot;
	&amp;quot;fmt&amp;quot;
	&amp;quot;github.com/gin-gonic/gin&amp;quot;
	&amp;quot;io&amp;quot;
	&amp;quot;time&amp;quot;
	&amp;quot;github.com/opentracing/opentracing-go&amp;quot;
	&amp;quot;github.com/uber/jaeger-client-go&amp;quot;
	&amp;quot;github.com/uber/jaeger-client-go/config&amp;quot;
)

func initJaeger(service string) (opentracing.Tracer, io.Closer) {
	cfg := &amp;amp;config.Configuration{
		Sampler: &amp;amp;config.SamplerConfig{
			Type:  &amp;quot;const&amp;quot;,
			Param: 1,
		},
		Reporter: &amp;amp;config.ReporterConfig{
			LogSpans: true,
			LocalAgentHostPort:&amp;quot;192.168.59.131:6831&amp;quot;,
		},
	}
	tracer, closer, err := cfg.New(service, config.Logger(jaeger.StdLogger))
	if err != nil {
		panic(fmt.Sprintf(&amp;quot;ERROR: cannot init Jaeger: %v\n&amp;quot;, err))
	}
	return tracer, closer
}

//用例一
func test1(ctx context.Context)  {
	span, _ := opentracing.StartSpanFromContext(ctx, &amp;quot;test_1&amp;quot;)
	defer func() {
		//span.SetTag(&amp;quot;request&amp;quot;, req)
		//span.SetTag(&amp;quot;reply&amp;quot;, reply)
		span.Finish()
	}()
	fmt.Println(&amp;quot;======test_1&amp;quot;)
	time.Sleep(time.Second/2)
}

func test2(ctx context.Context)  {
	span, _ := opentracing.StartSpanFromContext(ctx, &amp;quot;test_2&amp;quot;)
	defer func() {
		span.Finish()
	}()
	fmt.Println(&amp;quot;======test_2&amp;quot;)
	time.Sleep(time.Second/4)
}

func test3(ctx context.Context)  {
	span, _ := opentracing.StartSpanFromContext(ctx, &amp;quot;test_3&amp;quot;)
	defer func() {
		span.Finish()
	}()
	fmt.Println(&amp;quot;======test_3&amp;quot;)
	time.Sleep(time.Second/2)
}


func main()  {
	//创建服务名称
	tracer, closer := initJaeger(&amp;quot;user&amp;quot;)
	defer closer.Close()
	opentracing.SetGlobalTracer(tracer)//StartspanFromContext创建新span时会用到

	r := gin.Default()
	r.GET(&amp;quot;/ping&amp;quot;, func(c *gin.Context) {
		//链路开始追踪
		span := tracer.StartSpan(&amp;quot;span_root1&amp;quot;)
		ctx := opentracing.ContextWithSpan(context.Background(), span)
		//追踪程序
		test1(ctx)
		test2(ctx)
		test3(ctx)
		span.Finish()

		c.JSON(200, gin.H{
			&amp;quot;message&amp;quot;: span,
		})
	})
	r.Run(&amp;quot;:8883&amp;quot;)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;微服务调用示例&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//引入
&amp;quot;github.com/grpc-ecosystem/go-grpc-middleware/tracing/opentracing&amp;quot;
&amp;quot;github.com/opentracing/opentracing-go&amp;quot;
&amp;quot;github.com/uber/jaeger-client-go/config&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;//核心代码
func InitJaeger(service_name string,host_port string) (tracer opentracing.Tracer, closer io.Closer, err error) {
	// 构造配置信息
	cfg := &amp;amp;config.Configuration{
		// 设置服务名称
		ServiceName: service_name,
		// 设置采样参数
		Sampler: &amp;amp;config.SamplerConfig{
			Type:  &amp;quot;const&amp;quot;, // 全采样模式
			Param: 1,       // 开启全采样模式
		},
		Reporter: &amp;amp;config.ReporterConfig{
			LogSpans           : true,
			LocalAgentHostPort : host_port,
		},
	}
	// 生成一条新tracer
	tracer, closer, err = cfg.NewTracer()
	if err == nil {
		// 设置tracer为全局单例对象
		opentracing.SetGlobalTracer(tracer)
	}
	return
}
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;//客户端
//链路追踪
tracer, closer, err := InitJaeger(&amp;quot;server_gateway&amp;quot;,&amp;quot;192.168.59.131:6831&amp;quot;)	//初始化jaeger，创建一条新tracer
if err != nil {
    panic(err)
}
defer closer.Close()

//创建父标签
span := tracer.StartSpan(&amp;quot;url = /order/ping/get&amp;quot;)
defer span.Finish()

//重新生成传递context.Context
ctx := opentracing.ContextWithSpan(context.Background(), span)

//创建rpc请求
//注：grpc.WithUnaryInterceptor(grpc_opentracing.UnaryClientInterceptor(grpc_opentracing.WithTracer(tracer))) 此处为必须
conn, err := grpc.Dial(&amp;quot;127.0.0.1:3333&amp;quot;, grpc.WithInsecure(), grpc.WithUnaryInterceptor(grpc_opentracing.UnaryClientInterceptor(grpc_opentracing.WithTracer(tracer))))

if err != nil {
    log.Println(err)
    return
}
//rpc 调用方法
client := serverorder.NewPingClient(conn)
r, err := client.Get(ctx,&amp;amp;serverorder.GetRequest{})
if err != nil {
    log.Println(err)
    return
}
fmt.Println(r)
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;//服务端

//启动时候进行全局注入
tracer, closer, err := InitJaeger()
if err != nil {
    panic(fmt.Sprintf(&amp;quot;ERROR: cannot init Jaeger: %v\n&amp;quot;, err))
}
defer closer.Close()

//初始化
lis, err := net.Listen(&amp;quot;tcp&amp;quot;, grpcUrl)
if err != nil {log.Fatalf(&amp;quot;启动失败: %v&amp;quot;, err)}

//启动一个rpc服务
//注：grpc.UnaryInterceptor(grpc_opentracing.UnaryServerInterceptor(grpc_opentracing.WithTracer(tracer))) 此处需要
s := grpc.NewServer(grpc.UnaryInterceptor(grpc_opentracing.UnaryServerInterceptor(grpc_opentracing.WithTracer(tracer))))


//服务注入
serverorder.RegisterPingServer(s,&amp;amp;server.ServerPing{})

//服务启动
log.Printf(fmt.Sprintf(&amp;quot;服务端口启动成功 %s&amp;quot;, grpcUrl))
if err := s.Serve(lis); err != nil {
    log.Fatalf(&amp;quot;当前服务启动失败: %v&amp;quot;, err)
}

&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;//应用方法体重创建子标签
//标签
span, _ := opentracing.StartSpanFromContext(ctx, &amp;quot;Get&amp;quot;)
defer span.Finish()
&lt;/code&gt;&lt;/pre&gt;
">链路追踪</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://v-micro.github.io/post/hui-du-fa-bu/"" data-c="
          &lt;p&gt;什么是灰度发布？让一部分用户继续用A系统，一部分用户开始用B系统。如果用户对B系统没有意见，那么逐步扩大范围。把所有用户迁移到B系统。在初始灰度发布的时候就可以发现，调整问题，以保证其影响度&lt;/p&gt;
&lt;p&gt;可以通过以下图片了解发布发布流程&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://v-micro.github.io/post-images/1624247655697.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;从上图可以看到：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;当用户请求达到前端代理服务器nginx,内嵌的lua模块解析nginx 配置文件中的lua 脚本代码&lt;/li&gt;
&lt;li&gt;lua 变量获得客户端IP，去查询memacached 缓存内是否有该键值，如果有返回执行new 服务，否则则执行normal&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2安装配置过程&#34;&gt;2.安装配置过程&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;安装依赖包&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;yum -y install gcc gcc-c++ autoconf libjpeg libjpeg-devel libpng libpng-devel freetype freetype-devel libxml2 libxml2-devel zlib zlib-devel glibc glibc-devel glib2 glib2-devel bzip2 bzip2-devel ncurses ncurses-devel curl curl-devel e2fsprogs e2fsprogs-devel krb5 krb5-devel libidn libidn-devel openssl openssl-devel openldap openldap-devel nss_ldap openldap-clients openldap-servers make pcre-devel\
yum -y install gd gd2 gd-devel gd2-devel lua lua-devel
yum –y install memcached
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;下载lua 模块，lua-memcache操作库文件和nginx包&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;wget https://github.com/openresty/luajit2/archive/v2.1-20201229.tar.gz
wget https://github.com/simpl/ngx_devel_kit/archive/v0.2.18.tar.gz
wget https://github.com/chaoslawful/lua-nginx-module/archive/v0.8.5.tar.gz
wget https://github.com/agentzh/lua-resty-memcached/archive/v0.11.tar.gz
wget http://nginx.org/download/nginx-1.4.2.tar.gz

#安装luajit2
cd luajit2-2.1-20201229
make install PREFIX=/usr/local/luajit2

#解压编译安装
tar xvf nginx-1.4.2.tar.gz
cd nginx-1.4.2/
./configure \
--prefix=/soft/nginx/ \
--with-http_gzip_static_module \
--add-module=/root/ngx_devel_kit-0.2.18/ \
--add-module=/root/lua-nginx-module-0.8.5/

make&amp;amp;&amp;amp;make install
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;拷贝lua的memcached操作库文件&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;tar xvf v0.11.tar.gz

cp -r lua-resty-memcached-0.11/lib/resty/ /usr/lib64/lua/5.1/
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;配置nginx&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;vim /soft/nginx/conf/nginx.conf

worker_processes  1;

events {
    worker_connections  1024;
}

http {
    include       mime.types;
    default_type  application/octet-stream;

    upstream client {
        server 10.11.4.62:81;
    }
    upstream client_test {
        server 10.11.4.62:82;
    }

    sendfile        on;

    keepalive_timeout  65;

    #gzip  on;
    server {
        listen       80;
        server_name  localhost;
        
        location @client{
            proxy_pass http://client;
        }

        location @client_test{
            proxy_pass http://client_test;
        }
        
        location / {
            # lua 脚本
            content_by_lua &#39;
             package.path = package.path..&amp;quot;;/home/pkg/lua+nginx/lua-resty-memcached-0.11/lib/resty/?.lua&amp;quot;

             local headers=ngx.req.get_headers()
             local ip=headers[&amp;quot;X-REAL-IP&amp;quot;] or headers[&amp;quot;X_FORWARDED_FOR&amp;quot;] or ngx.var.remote_addr or &amp;quot;0.0.0.0&amp;quot;

             local memcached = require &amp;quot;memcached&amp;quot;
             local memc, err = memcached:new()
             if not memc then
                 ngx.say(&amp;quot;failed to instantiate memc: &amp;quot;, err)
                 return
             end

             local ok, err = memc:connect(&amp;quot;10.11.4.39&amp;quot;, 11211)
             if not ok then
                 ngx.say(&amp;quot;failed to connect: &amp;quot;, err)
                 return
             end

             local res, flags, err = memc:get(ip)
             if err then
                 ngx.say(&amp;quot;failed to get ip &amp;quot;, err)
                 return
             end

             if res == &amp;quot;1&amp;quot; then
                 ngx.exec(&amp;quot;@client_test&amp;quot;)
                 return
             end

             ngx.exec(&amp;quot;@client&amp;quot;)
            &#39;;
            default_type &#39;text/html&#39;;
        }

        error_page   500 502 503 504  /50x.html;
        location = /50x.html {
            root   html;
        }
    }
}

&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;检测配置文件&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;#/soft/nginx/sbin/nginx -t

nginx: the configuration file /soft/nginx/conf/nginx.conf syntax is ok

nginx: configuration file /soft/nginx/conf/nginx.conf test is successful
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;启动nginx&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;/soft/nginx/sbin/nginx
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;启动memcached 服务&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;memcached -u nobody -m 1024 -c 2048 -p 11211 –d
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;测试验证&#34;&gt;测试验证&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;测试lua 模块是否运行正常&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;访问http://192.168.1.1/hello 如果显示hello,lua 表示安装成功&lt;/li&gt;
&lt;li&gt;在这里另一台测试机 192.168.1.12 一个用80端口执行正常代码，一个用81执行灰度发布代码&lt;/li&gt;
&lt;li&gt;在memcached中以你的客户机地址为key，value值为1 标识设置为灰度发布&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ps：如果设置为1访问到81则访问灰度代码如果设置为0则访问正常代码。&lt;/p&gt;
">灰度发布</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://v-micro.github.io/post/da-jian-ri-zhi-xi-tong-efk/"" data-c="
          &lt;p&gt;efk 日志搜集系统&lt;/p&gt;
&lt;p&gt;filebeat 主要用于收集日志&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//下载filebeat
curl -L -O https://artifacts.elastic.co/downloads/beats/filebeat/filebeat-7.10.1-darwin-x86_64.tar.gz
tar xzvf filebeat-7.10.1-darwin-x86_64.tar.gz
cd filebeat-7.10.1-darwin-x86_64/

//修改配置
vim filebeat.yml

output.elasticsearch:
  hosts: [&amp;quot;&amp;lt;es_url&amp;gt;&amp;quot;]
  username: &amp;quot;elastic&amp;quot;
  password: &amp;quot;&amp;lt;password&amp;gt;&amp;quot;
setup.kibana:
  host: &amp;quot;&amp;lt;kibana_url&amp;gt;&amp;quot;

//开启配置
./filebeat modules enable system

//配置索引
./filebeat setup

//启动
./filebeat -e
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;golang 日志写入es&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//go引入拓展包
&amp;quot;github.com/olivere/elastic/v7&amp;quot;
&amp;quot;github.com/sirupsen/logrus&amp;quot;
&amp;quot;gopkg.in/sohlich/elogrus.v7&amp;quot;

//日志格式
跟踪，调试，信息，警告，错误，严重, 紧急
logrus.Trace(&amp;quot;Something very low level.&amp;quot;)
logrus.Debug(&amp;quot;Useful debugging information.&amp;quot;)
logrus.Info(&amp;quot;Something noteworthy happened!&amp;quot;)
logrus.Warn(&amp;quot;You should probably take a look at this.&amp;quot;)
logrus.Error(&amp;quot;Something failed but I&#39;m not quitting.&amp;quot;)
logrus.Fatal(&amp;quot;Bye.&amp;quot;)
logrus.Panic(&amp;quot;I&#39;m bailing.&amp;quot;)

//链接es
log := logrus.New()
client, err := elastic.NewClient(elastic.SetSniff(false),elastic.SetURL(&amp;quot;http://192.168.59.131:9200&amp;quot;))
if err != nil {
    log.Panic(err)
}
//设置日志命中索引
hook, err := elogrus.NewAsyncElasticHook(client, &amp;quot;localhost&amp;quot;, logrus.DebugLevel, &amp;quot;mylog&amp;quot;)
if err != nil {
    log.Panic(err)
}
log.Hooks.Add(hook)

//打印日志
log.Debug(&amp;quot;test log.Debug&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;日志数据范例&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;{
  &amp;quot;_index&amp;quot;: &amp;quot;syslogs-activity-center-20210309&amp;quot;,
  &amp;quot;_type&amp;quot;: &amp;quot;_doc&amp;quot;,
  &amp;quot;_id&amp;quot;: &amp;quot;ezNSF3gBs6Dx5qGDvjGx&amp;quot;,
  &amp;quot;_version&amp;quot;: 1,
  &amp;quot;_score&amp;quot;: null,
  &amp;quot;_source&amp;quot;: {
    &amp;quot;Id&amp;quot;: 0,
    &amp;quot;Appid&amp;quot;: &amp;quot;activity-center&amp;quot;,
    &amp;quot;Level&amp;quot;: &amp;quot;INFO&amp;quot;,
    &amp;quot;Logger&amp;quot;: &amp;quot;I0309 22:10:01.606191       1 db.go:44&amp;quot;,
    &amp;quot;Message&amp;quot;: &amp;quot; mysql断开重连, try 2...\n&amp;quot;,
    &amp;quot;Exception&amp;quot;: &amp;quot;&amp;quot;,
    &amp;quot;Stacktrace&amp;quot;: &amp;quot;&amp;quot;,
    &amp;quot;Createdatetime&amp;quot;: &amp;quot;2021-03-09T22:10:01.611741871+08:00&amp;quot;
  },
  &amp;quot;fields&amp;quot;: {
    &amp;quot;Createdatetime&amp;quot;: [
      &amp;quot;2021-03-09T14:10:01.611Z&amp;quot;
    ]
  },
  &amp;quot;sort&amp;quot;: [
    1615299001611
  ]
}
&lt;/code&gt;&lt;/pre&gt;
">搭建日志系统EFK</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://v-micro.github.io/post/rabbitmq-shi-yong/"" data-c="
          &lt;p&gt;rabbitmq 参数说明&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;用户创建
# tag说明
administrator 可登陆管理控制台，可查看所有的信息，并且可以对用户，策略(policy)进行操作
监控者(monitoring)  可登陆管理控制台，同时可以查 看rabbitmq节点的相关信息(进程数，内存使用情况，磁盘使用情况等)
策略制定者(policymaker)  可登陆管理控制台, 同时可以对policy进行管理,但无法查看节点的相关信息。
普通管理者(management) 仅可登陆管理控制台，无法看到节点信息，也无法对策略进行管理。
其他none   无法登陆管理控制台，通常就是普通的生产者和消费者。

# 队列创建
# queue 类型
Classic 常规类型
Quorum 新的队列类型，适用于对数据安全、容错方面要求高于低延迟等其他特性的场景。

# Durability
Durable(耐用的;持久;持久性)  rabbitMq 重启后 队列仍然存在
Transient(短暂的;转瞬即逝的)


rabbitmq种队列模式与实例

# 简单模式Hello World
ps: 一个生产者P发送消息到队列Q,一个消费者C接收

# 工作队列模式Work Queue
ps: 一个生产者，多个消费者，每个消费者获取到的消息唯一，多个消费者只有一个队列

# 发布/订阅模式 Publish/Subscribe
ps: 一个生产者发送的消息会被多个消费者获取。一个生产者、一个交换机、多个队列、多个消费者(接收者的消息全部一致)

# 路由模式Routing
ps: 生产者发送消息到交换机并且要指定路由key，消费者将队列绑定到交换机时需要指定路由key

# 通配符模式Topic
ps:生产者P发送消息到交换机X，type=topic，交换机根据绑定队列的routing key的值进行通配符匹配；
   符号#：匹配一个或者多个词 lazy.# 可以匹配 lazy.irs或者lazy.irs.cor
   符号*：只能匹配一个词 lazy.* 可以匹配 lazy.irs或者lazy.cor


ps:
普通业务逻辑，调用链不长的，执行时间较短的，使用自动ACK。
处理时间较长的，可以等待消费端处理完成之后手动去确认。

死信队列：
消息无法被消费则进入到死信队列
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;go代码示例 (使用组件 go get github.com/streadway/amqp )&lt;/p&gt;
&lt;p&gt;简单模式演示代码&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;生产者

package main

import (
	&amp;quot;errors&amp;quot;
	&amp;quot;fmt&amp;quot;
	&amp;quot;github.com/streadway/amqp&amp;quot;
	&amp;quot;log&amp;quot;
	&amp;quot;sync&amp;quot;
	&amp;quot;time&amp;quot;
)

const MQURL = &amp;quot;amqp://production:123456@192.168.59.131:5672/&amp;quot;

type MqStruct struct {
	conn *amqp.Connection
	channel *amqp.Channel
	QueueName string   	//队列名称
	Exchange string		//交换机
	Key string			//key
	MqUrl string		//连接信息
	sync.Mutex
}

//Mq链接初始化
func NewMq(queueName string, exchange string, key string) (*MqStruct,error){
	rabbitMQ := &amp;amp;MqStruct{
		QueueName: queueName,
		Exchange:  exchange,
		Key:       key,
		MqUrl:MQURL,
	}
	var err error
	rabbitMQ.conn,err = amqp.Dial(rabbitMQ.MqUrl)
	if err != nil {
		return nil, errors.New(&amp;quot;链接错误&amp;quot;)
	}
	rabbitMQ.channel,err = rabbitMQ.conn.Channel()
	if err != nil {
		return nil, errors.New(&amp;quot;获取Channel失败&amp;quot;)
	}
	return rabbitMQ,nil
}

//创建者
func main()  {
	//初始化mq
	mq,err := NewMq(&amp;quot;test&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;)
	if err != nil {
		panic(err)
	}
	defer mq.channel.Close()	//通道关闭
	defer mq.conn.Close()	//链接关闭
	//申请队列
	//name 队列名称
	//durable  控制消息是否持久化，true开启
	//autoDelete 是否为自动删除
	//exclusive   是否具有排他性
	//noWait  是否阻塞
	//args   额外属性
	_,err = mq.channel.QueueDeclare(&amp;quot;test&amp;quot;,false,false,false,false,nil)
	if err != nil {
		panic(err)
	}

	var i = 1
	for {
		//发送消息到队列
		//mandatory   如果为true，根据exchange类型和routekey类型，如果无法找到符合条件的队列，name会把发送的信息返回给发送者
		//immediate   如果为true，当exchange发送到消息队列后发现队列上没有绑定的消费者,则会将消息返还给发送者
		err = mq.channel.Publish(mq.Exchange,mq.QueueName,false,false,amqp.Publishing{
			ContentType:     &amp;quot;text/plain&amp;quot;,
			Body:            []byte(fmt.Sprintf(&amp;quot;测试测试 - %d&amp;quot;,i)),
		})
		if err != nil {
			panic(err)
		}
		log.Printf(&amp;quot;生产 : %d&amp;quot;,i)
		i++;
		time.Sleep(time.Duration(1)*time.Second)
	}
}
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;//消费者

package main

import (
	&amp;quot;errors&amp;quot;
	&amp;quot;github.com/streadway/amqp&amp;quot;
	&amp;quot;log&amp;quot;
	&amp;quot;sync&amp;quot;
)

const MQURL = &amp;quot;amqp://production:123456@192.168.59.131:5672/&amp;quot;

type MqStruct struct {
	conn *amqp.Connection
	channel *amqp.Channel
	QueueName string   	//队列名称
	Exchange string		//交换机
	Key string			//key
	MqUrl string		//连接信息
	sync.Mutex
}

//Mq链接初始化
func NewMq(queueName string, exchange string, key string) (*MqStruct,error){
	rabbitMQ := &amp;amp;MqStruct{
		QueueName: queueName,
		Exchange:  exchange,
		Key:       key,
		MqUrl:MQURL,
	}
	var err error
	rabbitMQ.conn,err = amqp.Dial(rabbitMQ.MqUrl)
	if err != nil {
		return nil, errors.New(&amp;quot;链接错误&amp;quot;)
	}
	rabbitMQ.channel,err = rabbitMQ.conn.Channel()
	if err != nil {
		return nil, errors.New(&amp;quot;获取Channel失败&amp;quot;)
	}
	return rabbitMQ,nil
}


//消费者
func main()  {
	//初始化mq
	mq,err := NewMq(&amp;quot;test&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;)
	if err != nil {
		panic(err)
	}
	defer mq.channel.Close()	//通道关闭
	defer mq.conn.Close()	//链接关闭
	//申请队列
	//name 队列名称
	//durable  控制消息是否持久化，true开启
	//autoDelete 是否为自动删除
	//exclusive   是否具有排他性
	//noWait  是否阻塞
	//args   额外属性
	_,err = mq.channel.QueueDeclare(&amp;quot;test&amp;quot;,false,false,false,false,nil)
	if err != nil {
		panic(err)
	}

	//消费者流控，防止暴库
	//prefetchCount  每次只接受一个消息进行消费
	//prefetchSize   服务器传递的最大容量（以8位字节为单位）
	//global  true对全局可用，false只对当前channel可用
	_ = mq.channel.Qos(1,0,false)

	//接受消息
	//queue
	//consumer  用来区分多个消费者
	//autoAck  是否自动应答
	//exclusive  是否具有排他性
	//noLocal 递给同一个connection的消费者
	//noWait 是否为阻塞
	//ages
	messages,err := mq.channel.Consume(&amp;quot;test&amp;quot;,&amp;quot;&amp;quot;,false,false,false,false,nil)
	if err != nil {
		panic(err)
	}
	//使用通道进行数据处理
	for d := range messages{
		//实现我们的处理逻辑函数
		log.Printf(&amp;quot;Received a message : %s&amp;quot;,d.Body)
		//如果为true表示确认所有未确认的消息，false为当前消息
		//_ = d.Ack(false)
		//multiple当前消息 拒绝消息(requeue 是否重新放入队列)
		//_ = d.Nack(false,true)
		//重新放入队列 false：直接消费  true:放入队列
		d.Reject(true)
		//程序休眠
		//time.Sleep(time.Duration(1)*time.Second)
	}
	select {

	}
}

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;订阅模式&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;核心代码 生产者

//初始化mq
mq,err := NewMq(&amp;quot;&amp;quot;,&amp;quot;exchang&amp;quot;,&amp;quot;&amp;quot;)
if err != nil {
    panic(err)
}
defer mq.channel.Close()	//通道关闭
defer mq.conn.Close()	//链接关闭


//创建交换机
mq.channel.ExchangeDeclare(&amp;quot;exchang&amp;quot;,&amp;quot;fanout&amp;quot;,false,false,false,false,nil)
var i = 1
for {
    //发送消息到队列
    //mandatory   如果为true，根据exchange类型和routekey类型，如果无法找到符合条件的队列，name会把发送的信息返回给发送者
    //immediate   如果为true，当exchange发送到消息队列后发现队列上没有绑定的消费者,则会将消息返还给发送者
    err = mq.channel.Publish(&amp;quot;exchang&amp;quot;,&amp;quot;&amp;quot;,false,false,amqp.Publishing{
        ContentType:     &amp;quot;text/plain&amp;quot;,
        Body:            []byte(fmt.Sprintf(&amp;quot;测试测试 - %d&amp;quot;,i)),
    })
    if err != nil {
        panic(err)
    }
    log.Printf(&amp;quot;生产 : %d&amp;quot;,i)
    i++;
    time.Sleep(time.Duration(1)*time.Second)
}


核心代码 消费者

//初始化mq
mq,err := NewMq(&amp;quot;&amp;quot;,&amp;quot;exchang&amp;quot;,&amp;quot;&amp;quot;)
if err != nil {
    panic(err)
}
defer mq.channel.Close()	//通道关闭
defer mq.conn.Close()	//链接关闭

//订阅模式连接交换器
err = mq.channel.ExchangeDeclare(&amp;quot;exchang&amp;quot;,&amp;quot;fanout&amp;quot;,false,false,false,false,nil)
if err != nil {
    panic(err)
}
//ps:QueueDeclare下面名称不填写的话就是随机名称
q,err := mq.channel.QueueDeclare(&amp;quot;&amp;quot;,false,false,false,false,nil)
if err != nil {
    panic(err)
}
//绑定队列到Exchange中
err = mq.channel.QueueBind(q.Name,&amp;quot;&amp;quot;,&amp;quot;exchang&amp;quot;,false,nil)
if err != nil {
    panic(err)
}
//限流消息
_ = mq.channel.Qos(1,0,false)
//接收消息
messages,err := mq.channel.Consume(q.Name,&amp;quot;&amp;quot;,false,false,false,false,nil)
if err != nil {
    panic(err)
}
//消费
//使用通道进行数据处理
for d := range messages{
    _ = d.Ack(false)
}

&lt;/code&gt;&lt;/pre&gt;
">rabbitmq使用</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://v-micro.github.io/post/kubernetes-ji-qun-da-jian/"" data-c="
          &lt;p&gt;一步一步进行k8s集群搭建&lt;/p&gt;
&lt;p&gt;k8s集群解释&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;主要包括两部分：

1.一个Master节点（主节点）
Master节点主要还是负责管理和控制。
Master节点包括API Server、Scheduler、Controller manager、etcd。
API Server是整个系统的对外接口，供客户端和其它组件调用，相当于“营业厅”。
Scheduler负责对集群内部的资源进行调度，相当于“调度室”。
Controller manager负责管理控制器，相当于“大总管”。


2.一群Node节点（计算节点）
Node节点是工作负载节点，里面是具体的容器。
Node节点包括Docker、kubelet、kube-proxy、Fluentd
Docker，不用说了，创建容器的。
Kubelet，主要负责监视指派到它所在Node上的Pod，包括创建、修改、监控、删除等。
Kube-proxy，主要负责为Pod对象提供代理。
Fluentd，主要负责日志收集、存储与查询。
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;k8s关键字说明&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;pods
在Kubernetes系统中，调度的最小颗粒不是单纯的容器，而是抽象成一个Pod，Pod是一个可以被创建、销毁、调度、管理的最小的部署单元。比如一个或一组容器。

Replication Controllers 
Replication Controller是Kubernetes系统中最有用的功能，实现复制多个Pod副本，往往一个应用需要多个Pod来支撑，并且可以保证其复制的副本数，即使副本所调度分配的主宿机出现异常，通过Replication Controller可以保证在其它主宿机启用同等数量的Pod。Replication Controller可以通过repcon模板来创建多个Pod副本，同样也可以直接复制已存在Pod，需要通过Label selector来关联。

Services 
Services是Kubernetes最外围的单元，通过虚拟一个访问IP及服务端口，可以访问我们定义好的Pod资源，目前的版本是通过iptables的nat转发来实现，转发的目标端口为Kube_proxy生成的随机端口，目前只提供GOOGLE云上的访问调度，如GCE。 

Labels 
Labels是用于区分Pod、Service、Replication Controller的key/value键值对，仅使用在Pod、Service、 Replication Controller之间的关系识别，但对这些单元本身进行操作时得使用name标签。 

Proxy
Proxy不但解决了同一主宿机相同服务端口冲突的问题，还提供了Service转发服务端口对外提供服务的能力，Proxy后端使用了随机、轮循负载均衡算法。

Deployment
Kubernetes Deployment提供了官方的用于更新Pod和Replica Set（下一代的Replication Controller）的方法Kubernetes Deployment提供了官方的用于更新Pod和Replica Set（下一代的Replication Controller）的方法，您可以在Deployment对象中只描述您所期望的理想状态（预期的运行状态），Deployment控制器为您将现在的实际状态转换成您期望的状态，例如，您想将所有的webapp:v1.0.9升级成webapp:v1.1.0，您只需创建一个Deployment，Kubernetes会按照Deployment自动进行升级。现在，您可以通过Deployment来创建新的资源（pod，rs，rc），替换已经存在的资源等。   Deployment集成了上线部署、滚动升级、创建副本、暂停上线任务，恢复上线任务，回滚到以前某一版本（成功/稳定）的Deployment等功能，在某种程度上，Deployment可以帮我们实现无人值守的上线，大大降低我们的上线过程的复杂沟通、操作风险
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;简介k8s发布流程&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;1.用户向Gitlab提交代码，代码中必须包含Dockerfile
2.将代码提交到远程仓库
3.用户在发布应用时需要填写git仓库地址和分支、服务类型、服务名称、资源数量、实例个数，确定后触发Jenkins自动构建
4.Jenkins的CI流水线自动编译代码并打包成docker镜像推送到Harbor镜像仓库
5.Jenkins的CI流水线中包括了自定义脚本，根据我们已准备好的kubernetes的YAML模板，将其中的变量替换成用户输入的选项
6.生成应用的kubernetes YAML配置文件
7.更新Ingress的配置，根据新部署的应用的名称，在ingress的配置文件中增加一条路由信息
8.更新PowerDNS，向其中插入一条DNS记录，IP地址是边缘节点的IP地址。关于边缘节点，请查看边缘节点配置
9.Jenkins调用kubernetes的API，部署应用
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;安装kubernetes服务分配&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;master：10.11.4.39
服务：apiserver, controller-manager, scheduler,etcd

node：10.11.4.62 
服务：flannel, docker, kubelet, kube-proxy
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;master 节点配置安装&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;安装etcd
&amp;gt; yum install -y etcd
修改配置
&amp;gt; vim /etc/etcd/etcd.conf    #修改部分内容如下
ETCD_LISTEN_CLIENT_URLS=&amp;quot;http://0.0.0.0:2379&amp;quot;
ETCD_ADVERTISE_CLIENT_URLS=&amp;quot;http://10.11.4.39:2379&amp;quot;
启动etcd
&amp;gt; systemctl start etcd
配置etcd的flannel信息
&amp;gt; etcdctl set /atomic.io/network/config &#39;{&amp;quot;Network&amp;quot;:&amp;quot;172.17.0.1/16&amp;quot;}&#39;

安装kubernetes-master
&amp;gt; yum install kubernetes-master
修改配置文件：
&amp;gt; vim /etc/kubernetes/apiserver
KUBE_API_ADDRESS=&amp;quot;--insecure-bind-address=0.0.0.0&amp;quot;
KUBE_ETCD_SERVERS=&amp;quot;--etcd-servers=http://10.11.4.39:2379&amp;quot;
KUBE_ADMISSION_CONTROL=&amp;quot;--admission-control=NamespaceLifecycle,NamespaceExists,LimitRanger
其中KUBE_ADMISSION_CONTROL的原有的SecurityContextDeny和ServiceAccount是权限相关的配置需要去掉。
配置全局配置文件:
&amp;gt; vim /etc/kubernetes/config
KUBE_MASTER=&amp;quot;--master=http://10.11.4.39:8080&amp;quot;
启动:
&amp;gt; systemctl start kube-apiserver kube-scheduler kube-controller-manager
测试:
访问测试master服务： http://10.11.4.39:8080/
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;node 节点配置安装&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;安装 docker flannel kubernetes-node
&amp;gt; yum install -y docker flannel kubernetes-node

配置flanneld
&amp;gt; vim /etc/sysconfig/flanneld
FLANNEL_ETCD_ENDPOINTS=&amp;quot;http://10.11.4.39:2379&amp;quot;
FLANNEL_ETCD_PREFIX=&amp;quot;/atomic.io/network&amp;quot;

配置全局文件
&amp;gt; vim /etc/kubernetes/config
KUBE_MASTER=&amp;quot;--master=http://10.11.4.39:8080&amp;quot;

配置kubelet组件
&amp;gt; vim /etc/kubernetes/kubelet
KUBELET_HOSTNAME=&amp;quot;--hostname-override=node1&amp;quot;
KUBELET_API_SERVER=&amp;quot;--api-servers=http://10.11.4.39:8080&amp;quot;

启动服务
&amp;gt; systemctl start kubelet kube-proxy

测试集群
在master节点运行：kubectl get nodes
显示
NAME        STATUS    AGE
127.0.0.1   Ready     21s
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;示例部署第一个应用&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;vim nginx-rc.yaml
内容：
piVersion: v1
kind: ReplicationController
metadata:
  name: nginx-controller
spec:
  replicas: 2
  selector:
    name: nginx
  template:
    metadata:
      labels:
        name: nginx
    spec:
      containers:
        - name: nginx
          image: nginx
          ports:
            - containerPort: 80



vim nginx-service-nodeport.yaml
内容:
piVersion: v1
kind: Service
metadata:
  name: nginx-service-nodeport
spec:
  ports:
    - port: 8000
      targetPort: 80
      protocol: TCP
  type: NodePort
  selector:
    name: nginx


//查看
&amp;gt; kubectl create -f redis-master-controller.yaml
&amp;gt; kubectl get rc
&amp;gt; kubectl get pods

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;问题解决&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;问题1：registry.access.redhat.com/rhel7/pod-infrastructure:latest
解决：
&amp;gt; yum install rhsm
&amp;gt; wget http://mirror.centos.org/centos/7/os/x86_64/Packages/python-rhsm-certificates-1.19.10-1.el7_4.x86_64.rpm
&amp;gt; rpm2cpio python-rhsm-certificates-1.19.10-1.el7_4.x86_64.rpm | cpio -iv --to-stdout ./etc/rhsm/ca/redhat-uep.pem | tee /etc/rhsm/ca/redhat-uep.pem
&amp;gt; docker pull registry.access.redhat.com/rhel7/pod-infrastructure:latest
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;kubectl常用基本操作&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;根据yaml 配置文件一次性创建service、rc
&amp;gt; kubectl create -f my-service.yaml -f my-rc.yaml

获取运行中的deployment
&amp;gt; kubectl get deployment -o wide

//查看详情 -o wide

查看资源对象
查看所有pod 列表
&amp;gt; kubectl get pod -n &amp;lt;namespace&amp;gt;
查看RC和service 列表
&amp;gt; kubectl get rc,svc

查看资源信息
显示Node的详细信息
&amp;gt; kubectl describe node &amp;lt;node-name&amp;gt;
显示Pod的详细信息
&amp;gt; kubectl describe pod &amp;lt;pod-name&amp;gt;

删除资源对象
基于pod.yaml 定义的名称删除pod
&amp;gt; kubectl delete -f pod.yaml
删除所有包含某个label的pod 和service
&amp;gt; kubectl delete pod,svc -l name=&amp;lt;label-name&amp;gt;
删除所有Pod
&amp;gt; kubectl delete pod --all
删除rc/svc
&amp;gt; kubectl delete rc/nginx-master

执行容器的命令
执行pod 的date 命令
&amp;gt; kubectl exec &amp;lt;pod-name&amp;gt; -- date
通过bash 获得pod中某个容器的TTY，相当于登陆容器
&amp;gt; kubectl exec -it &amp;lt;pod-name&amp;gt; -c &amp;lt;container-name&amp;gt; -- bash

查看容器的日志
&amp;gt; kubectl logs &amp;lt;pod-name&amp;gt;

查看未认证的节点
kubectl get csr

&lt;/code&gt;&lt;/pre&gt;
">kubernetes yum育儿安装</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://v-micro.github.io/post/go-websocket/"" data-c="
          &lt;p&gt;使用go建立自己的websocket&lt;br&gt;
安装websocket库&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;go get github.com/gorilla/websocket
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;下面为一个简单ws链接案例&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;// websocket
http.HandleFunc(&amp;quot;/ws&amp;quot;, func(writer http.ResponseWriter, request *http.Request) {
    //定义upgrader
    upgrader := websocket.Upgrader{
        CheckOrigin: func(r *http.Request) bool {
            return true
        },
    }

    //升级路由为socket
    wsConn, err := upgrader.Upgrade(writer, request, nil)
    if err != nil {
        fmt.Println(&amp;quot;==================== 链接失败&amp;quot;)
        return
    }

    //定义接受客户端消息
    for{
        //接受消息
        _,data,err := wsConn.ReadMessage()
        if err != nil {	//接受消息失败则结束链接
            fmt.Println(&amp;quot;================ 关闭链接&amp;quot;)
            wsConn.Close()
        }
        fmt.Printf(&amp;quot;接收到消息：%s&amp;quot;,string(data))

        //返回消息
        err = wsConn.WriteMessage(websocket.TextMessage,[]byte(&amp;quot;server return&amp;quot;))
        if err != nil {
            fmt.Println(&amp;quot;================= 关闭链接&amp;quot;)
            wsConn.Close()
        }
    }
})
_ = http.ListenAndServe(&amp;quot;:7777&amp;quot;,nil)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;封装自己的消息组件&lt;/p&gt;
&lt;p&gt;ws.go&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ws.go


package ws

import (
	&amp;quot;fmt&amp;quot;
	&amp;quot;github.com/gofrs/uuid&amp;quot;
	&amp;quot;github.com/gorilla/websocket&amp;quot;
	&amp;quot;log&amp;quot;
	&amp;quot;net/http&amp;quot;
	&amp;quot;time&amp;quot;
)

// 客户端信息
type Client struct {
	Id string
	Socket *websocket.Conn
	Message   chan []byte
}

// 消息管理结构体
type MessageData struct {
	Id string
	Message    []byte
}

// Manager 所有 websocket 信息
type Manager struct {
	Clients map[*Client]bool //客户端所有
	Register chan *Client	//新客户端
	UnRegister chan *Client	//新注销客户端
	Message	chan *MessageData //新消息
}

func (c *Client) Read() {
	for {
		_, message, err := c.Socket.ReadMessage()
		if err != nil {
			break
		}
		log.Printf(&amp;quot;客户端 [%s] 发送消息: %s&amp;quot;, c.Id, string(message))

		//发送消息处理
		if string(message) == &amp;quot;1&amp;quot;{ //返回数据
			data := &amp;amp;MessageData{
				Id: c.Id,
				Message:    []byte(&amp;quot;dan fa xiaoxi &amp;quot;),
			}
			WebsocketManager.Message &amp;lt;- data
		}

		if string(message) == &amp;quot;2&amp;quot;{ //群发消息
			data := &amp;amp;MessageData{
				Id: &amp;quot;&amp;quot;,
				Message:    []byte(&amp;quot;qun fa le xiao xi&amp;quot;),
			}
			WebsocketManager.Message &amp;lt;- data
		}

		if string(message) == &amp;quot;3&amp;quot;{ //退出登录
			WebsocketManager.UnRegister &amp;lt;- c
			//你退出来
			data := &amp;amp;MessageData{
				Id: c.Id,
				Message:    []byte(&amp;quot;logout&amp;quot;),
			}
			WebsocketManager.Message &amp;lt;- data
		}

		c.Message &amp;lt;- message
	}
}

// 写信息，从 channel 变量 Send 中读取数据写入 websocket 连接
func (c *Client) Write() {
	for {
		select {
		case message, ok := &amp;lt;-c.Message:
			if !ok {
				_ = c.Socket.WriteMessage(websocket.CloseMessage, []byte{})
				return
			}
			log.Printf(&amp;quot;client [%s] write message: %s&amp;quot;, c.Id, string(message))
			err := c.Socket.WriteMessage(websocket.TextMessage, message)
			if err != nil {
				log.Printf(&amp;quot;client [%s] writemessage err: %s&amp;quot;, c.Id, err)
			}
		}
	}
}

// 启动 websocket 管理器
func (manager *Manager) Start() {
	log.Printf(&amp;quot;管理器启动中&amp;quot;)
	for {
		select {
		//客户端加入
		case client := &amp;lt;- manager.Register:
			manager.Clients[client] = true
			log.Printf(&amp;quot;[%s]加入&amp;quot;,client.Id)
		//客户端退出
		case client := &amp;lt;- manager.UnRegister:
			manager.Clients[client] = false
			log.Printf(&amp;quot;[%s]离开了&amp;quot;,client.Id)
		//消息管理
		case message := &amp;lt;- manager.Message:
			for client := range manager.Clients{
				if message.Id == &amp;quot;&amp;quot; {	//都发送
					_ = client.Socket.WriteMessage(websocket.TextMessage,message.Message)
				}
				if message.Id == client.Id { //针对性发送
					_ = client.Socket.WriteMessage(websocket.TextMessage,message.Message)
				}

			}
		}
	}
}

func (manager *Manager)WsClient(w http.ResponseWriter,r *http.Request) {
	upGrader := websocket.Upgrader{
		CheckOrigin: func(r *http.Request) bool {
			return true
		},
	}

	conn, err := upGrader.Upgrade(w,r,nil)
	if err != nil {
		return
	}

	// 写入组
	u,_ := uuid.NewV4()
	client := &amp;amp;Client{
		Id:     u.String(),
		Socket: conn,
		Message:   make(chan []byte, 1024),
	}
	manager.Register &amp;lt;- client
	go client.Read()
	//go client.Write()
	//time.Sleep(time.Second * 5)
	//// 测试单个 client 发送数据
	//manager.Send(client.Id, []byte(&amp;quot;Send message ----&amp;quot; + time.Now().Format(&amp;quot;2006-01-02 15:04:05&amp;quot;)))
}

// 初始化 wsManager 管理器
var WebsocketManager = Manager{
	Clients:    make(map[*Client]bool),	//客户端管理
	Register:   make(chan *Client),	//新进入
	UnRegister: make(chan *Client),	//新离开
	Message:   make(chan *MessageData, 128),//新消息
}

//信息统计
func (manager *Manager)Info() map[string]interface{}  {
	managerInfo := make(map[string]interface{})
	managerInfo[&amp;quot;countClient&amp;quot;] = len(manager.Clients)
	return managerInfo
}

//测试
func TestInfo()  {
	for {
		time.Sleep(time.Second * 10)
		info := WebsocketManager.Info()
		fmt.Println(info)
	}
}

//单发消息
func TestSend()  {
	for {
		time.Sleep(time.Second * 5)
		data := &amp;amp;MessageData{
			Id: &amp;quot;&amp;quot;,
			Message:    []byte(&amp;quot;单发数据&amp;quot;),
		}
		WebsocketManager.Message &amp;lt;- data
	}
}

//群发消息
func TestSendAll()  {
	for {
		time.Sleep(time.Second * 5)
		data := &amp;amp;MessageData{
			Id: &amp;quot;&amp;quot;,
			Message:    []byte(&amp;quot;群发数据&amp;quot;),
		}
		WebsocketManager.Message &amp;lt;- data
	}
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;main.go&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//启动管理器
go ws.WebsocketManager.Start()
go ws.WebsocketManager.Info()
//go ws.TestInfo()	//测试数据
//go ws.TestSendAll()	//测试数据
http.HandleFunc(&amp;quot;/ws&amp;quot;,ws.WebsocketManager.WsClient)
_ = http.ListenAndServe(&amp;quot;:7777&amp;quot;,nil)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;总结&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;难点总结

内核瓶颈
推送量大：100W在线 * 10条/每秒 = 1000W条/秒
内核瓶颈：linux内核发送TCP的极限包频 ≈ 100W/秒

锁瓶颈
需要维护在线用户集合（100W用户在线），通常是一个字典结构
推送消息即遍历整个集合，顺序发送消息，耗时极长 
推送期间，客户端仍旧正常的上下线，集合面临不停的修改，修改需要遍历，所以集合需要上锁

CPU瓶颈
浏览器与服务端之间一般采用的是JSon格式去通讯
Json编码非常耗费CPU资源
向100W在线推送一次，则需100W次Json Encode

优化方案
内核瓶颈
减少网络小包的发送，我们将网络上几百字节定义成网络的小包了，小包的问题是对内核和网络的中间设备造成处理的压力。方案是将一秒内N条消息合并成1条消息，合并后，每秒推送数等于在线连接数。
锁瓶颈
大锁拆小锁，将长连接打散到多个集合中去，每个集合都有自己的锁，多线程并发推送集合，线程之间推送的集合不同，所以没有锁的竞争关系，避免锁竞争。
读写锁取代互斥锁，多个推送任务可以并发遍历相同集合
CPU瓶颈
减少重复计算，Json编码前置，1次消息编码+100W次推送，消息合并前置，N条消息合并后，只需要编码一次。

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;知识点&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;select {
    case &amp;lt;-ch1:
        // 如果从 ch1 信道成功接收数据，则执行该分支代码
    case ch2 &amp;lt;- 1:
        // 如果成功向 ch2 信道成功发送数据，则执行该分支代码
    default:
        // 如果上面都没有成功，则进入 default 分支处理流程
}

注：如果 ch1 或者 ch2 信道都阻塞的话，就会立即进入 default 分支，并不会阻塞。但是如果没有 default 语句，则会阻塞直到某个信道操作成功为止。
&lt;/code&gt;&lt;/pre&gt;
">go-websocket</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://v-micro.github.io/post/elasticsearch-shi-yong/"" data-c="
          &lt;p&gt;Elasticsearch 是一个分布式的免费开源搜索和分析引擎,适用于包括文本、数字、地理空间、结构化和非结构化数据等在内的所有类型的数据&lt;/p&gt;
&lt;p&gt;elasticsearch 基本&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;elasticsearch数据结构关系

关系数据库 &amp;gt; 数据库(database) &amp;gt; 表(table) &amp;gt; 行(row) &amp;gt; 列(field)
elasticsearch &amp;gt; 索引(index) &amp;gt; 类型(type) &amp;gt; 文档(doument) &amp;gt; 字段(field)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;elasticsearch接口操作&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//获取索引健康状况
get http://192.168.59.131:9200/_cluster/health

//获取es中的索引
get http://192.168.59.131:9200/_cat/indices

//创建索引
put http://192.168.59.131:9200/&amp;lt;test_001&amp;gt;

//获取索引
get http://192.168.59.131:9200/&amp;lt;test_001&amp;gt;

//删除索引
delete http://192.168.59.131:9200/&amp;lt;test_001&amp;gt;

//查看索引配置
get http://192.168.59.131:9200/&amp;lt;test_001&amp;gt;/_settings

//关闭索引
post http://192.168.59.131:9200/&amp;lt;test_001&amp;gt;/_close

//开启索引
post http://192.168.59.131:9200/&amp;lt;test_001&amp;gt;/_open

//======================  操作数据类型
//创建文档
put http://192.168.59.131:9200/&amp;lt;test&amp;gt;/&amp;lt;user&amp;gt;/&amp;lt;1&amp;gt;
{&amp;quot;name&amp;quot;: &amp;quot;tttt&amp;quot;}

//修改文档
put http://192.168.59.131:9200/&amp;lt;test&amp;gt;/&amp;lt;user&amp;gt;/&amp;lt;1&amp;gt;
{&amp;quot;name&amp;quot;: &amp;quot;tttt&amp;quot;}

//删除文档
delete http://192.168.59.131:9200/&amp;lt;test&amp;gt;/&amp;lt;user&amp;gt;/&amp;lt;1&amp;gt;

//批量操作/批量修改
post http://192.168.59.131:9200/&amp;lt;test&amp;gt;/&amp;lt;user&amp;gt;/_bulk
{&amp;quot;index&amp;quot;: {&amp;quot;_id&amp;quot;: 1}}
{&amp;quot;name&amp;quot;: &amp;quot;ssssssss&amp;quot;}

{&amp;quot;index&amp;quot;: {&amp;quot;_id&amp;quot;: 2}}
{&amp;quot;name&amp;quot;: &amp;quot;123123&amp;quot;}

注：要留空行结尾

//查询操作
get http://192.168.59.131:9200/&amp;lt;test&amp;gt;/_search

//查询指定文档
get http://192.168.59.131:9200/&amp;lt;test&amp;gt;/&amp;lt;user&amp;gt;/&amp;lt;1&amp;gt;

//单条件搜索
get http://192.168.59.131:9200/&amp;lt;test&amp;gt;/&amp;lt;user&amp;gt;/_search
ps: 下列 address 为字段名
{
  &amp;quot;query&amp;quot;: {
    &amp;quot;match&amp;quot;: { # 普通搜索
      &amp;quot;address&amp;quot;: {    # 字段名
        &amp;quot;query&amp;quot;: &amp;quot;virginia jones&amp;quot;, # 搜索的关键词
        &amp;quot;operator&amp;quot;: &amp;quot;or&amp;quot;           # 操作: or and
      }
    }
  }
}

{
  &amp;quot;query&amp;quot;: {
    &amp;quot;match_phrase&amp;quot;: { # 词组搜索
      &amp;quot;address&amp;quot;: &amp;quot;Baycliff Terrace&amp;quot;   # address 字段名  词组
    }
  }
}

{
  &amp;quot;query&amp;quot;: {
    &amp;quot;multi_match&amp;quot;: { # 多字段词组搜索
      &amp;quot;query&amp;quot;: &amp;quot;Baycliff Terrace&amp;quot;, 
      &amp;quot;fields&amp;quot;: [&amp;quot;address&amp;quot;, &amp;quot;firstname&amp;quot;, &amp;quot;lastname&amp;quot;]
    }
  }
}


{
  &amp;quot;query&amp;quot;: {
    &amp;quot;term&amp;quot;: {   # 关键字搜索
      &amp;quot;address.keyword&amp;quot;: {
        &amp;quot;value&amp;quot;: &amp;quot;171 Putnam Avenue&amp;quot;
      }
    }
  }
}

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;数据类型解析&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# string 类型
text (会被拆分然后分析)
keyword (不会被拆分)

# number 数值
long
integer
short
byte
double
float
half_float
scaled_float

# date 日期
date

# bool 布尔
bool

# range 范围值
integer_range
float_range
long_range
double_range
date_range

# array 数组
所有数据类型都支持 array 但是值的类型必须一致

# 复杂数据类型
object 对象
nested json 对象数组
geo 地理位置
IP 地址


&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;查询返回字段解释&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;took 该命令请求花费了多长时间，单位：毫秒。
timed_out 搜索是否超时。
shards 搜索分片信息。
total 搜索分片总数。
successful 搜索成功的分片数量。
skipped 没有搜索的分片，跳过的分片。
failed 搜索失败的分片数量。

hits 搜索结果集。项目中，我们需要的一切数据都是从hits中获取。
total 返回多少条数据。
max_score 返回结果中，最大的匹配度分值。
hits 默认查询前十条数据，根据分值降序排序。

_index 索引库名称。
_type  类型名称。
_id   该条数据的id。
_score  关键字与该条数据的匹配度分值。
_source 索引库中类型，返回结果字段，不指定的话，默认全部显示出来。

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ik插件&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;https://github.com/medcl/elasticsearch-analysis-ik/releases

进入docker 镜像
docker exec -it 13c945cdcedb /bin/bash

查看es版本
elasticsearch -version

安装和es相同版本的ik
/usr/share/elasticsearch/bin/elasticsearch-plugin install https://github.com/medcl/elasticsearch-analysis-ik/archive/v7.11.1.zip

&lt;/code&gt;&lt;/pre&gt;
">Elasticsearch使用</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://v-micro.github.io/post/docker-si-you-jing-xiang-ku-da-jian/"" data-c="
          &lt;p&gt;搭建属于自己的私有docker镜像库&lt;/p&gt;
&lt;p&gt;下载镜像包&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//下载镜像包
docker pull registry:latest

//运行镜像并配置宿主机镜像位置
//镜像存储目录/opt/data/registry
docker run -d --name=MyRegistry -p 5001:5000 -v /opt/data/registry:/tmp/registry registry:latest
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;问题集合&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;The push refers to a repository [10.11.4.39:5001/nginx]
Get https://10.11.4.39:5001/v1/_ping: http: server gave HTTP response to HTTPS client
解释：Docker从1.3.x之后，与docker registry交互默认使用的是https，但是此处搭建私有仓库却只提供http服务，所以当和私有仓库交互时报上述错误。因此需要在启动docker server时增加启动参数为默认使用http访问

解决方案：
【推送方】
vim  /etc/docker/daemon.json
{&amp;quot;insecure-registries&amp;quot;:[&amp;quot;10.11.4.39:5001&amp;quot;]}
systemctl daemon-reload
systemctl restart docker

删除镜像报错
{&amp;quot;errors&amp;quot;:[{&amp;quot;code&amp;quot;:&amp;quot;UNSUPPORTED&amp;quot;,&amp;quot;message&amp;quot;:&amp;quot;The operation is unsupported.&amp;quot;}]}
拷贝配置文件
docker cp bb4b04962fef:/etc/docker/registry/config.yml ./
设置允许删除
vim config.yml
storage:
  delete:
    enabled: true
//配置文件放进去
docker cp ./config.yml bb4b04962fef:/etc/docker/registry/config.yml 
//重启
docker restart MyRegistry
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;镜像仓库操作&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;通过docker 删除镜像
docker exec &amp;lt;容器id&amp;gt; rm -rf /var/lib/registry/docker/registry/v2/repositories/&amp;lt;删除镜像&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;远程仓库命令&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//查看远程仓库镜像
curl -X GET http://10.11.4.39:5001/v2/_catalog

//查看远程仓库镜像标签
//image_name 镜像名称
curl -X GET http://10.11.4.39:5001/v2/&amp;lt;image_name&amp;gt;/tags/list
例子：curl -X GET http://10.11.4.39:5001/v2/nginx/tags/list

//获取镜像详细信息
//image_name 镜像名称
//image_tag 镜像标签
curl -X GET http://10.11.4.39:5001/v2/&amp;lt;image_name&amp;gt;/manifests/&amp;lt;image_tag&amp;gt;
例子：curl -X GET http://10.11.4.39:5001/v2/nginx/manifests/latest
获取digest_hash例子：curl http://10.11.4.39:5001/v2/nginx/manifests/latest -H &amp;quot;Accept: application/vnd.docker.distribution.manifest.v2+json&amp;quot;


//删除镜像
//image_name 镜像名称
curl -delete  http://10.11.4.39:5001/v2/&amp;lt;image_name&amp;gt;/manifests/&amp;lt;digest_hash&amp;gt;
例子：curl -I -X DELETE http://10.11.4.39:5001/v2/nginx/manifests/sha256:f6d0b4767a6c466c178bf718f99bea0d3742b26679081e52dbf8e0c7c4c42d74

curl -X DELETE http://10.11.4.39:5001/v2/nginx/manifests/sha256:0b159cd1ee1203dad901967ac55eee18c24da84ba3be384690304be93538bea8


//推送镜像
git push https://10.11.4.39:5001/nginx

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;如果需要密码则需要这样启动&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//利用docker创建密码
docker run --entrypoint htpasswd registry:latest -Bbn caihui 123456 &amp;gt;/home/htpasswd

//查看账号密码
cat htpasswd
zxg:$2y$05$qCY7iWVJIoOrnIp17WQOf.fcXUTo5xm4DwP3a/8ggzZlEZ3bsnonm

//启动带参数的镜像库
docker run -d -p 5000:5000 --restart=always --name registryauth -v /opt/registry:/var/lib/registry -v /auth:/auth -e &amp;quot;REGISTRY_AUTH=htpasswd&amp;quot; -e REGISTRY_AUTH_HTPASSWD_REALM=&amp;quot;Registry Realm&amp;quot; -e REGISTRY_AUTH_HTPASSWD_PATH=/auth/htpasswd registry:latest 

//设置密码后需要先登录在提交镜像
docker login 10.11.4.39:5001:5000
&lt;/code&gt;&lt;/pre&gt;
">docker私有镜像库搭建</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://v-micro.github.io/post/kuai-su-gou-jian/"" data-c="
          &lt;p&gt;项目使用中，快速构建出常用的一些应用服务&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//下载docker镜像
docker pull redis
//启动redis 并设置密码为123456
docker run -d --name myredis -p 6379:6379 redis --requirepass &amp;quot;123456&amp;quot;

//映射目录
docker run -p 6379:6379 \
--appendonly yes \
 --name myredis \
--requirepass &amp;quot;123456&amp;quot; \
-v /home/docker/redis/redis.conf:/etc/redis/redis.conf \
-v /home/docker/redis/data:/data \
-d redis redis-server /etc/redis/redis.conf

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;快速构建mysql&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//下载mysql 5.7
docker pull mysql:5.7 
//运行mysql镜像
docker run -p 52313:3306 --name mysql -e MYSQL_ROOT_PASSWORD=helloworidphp -d mysql:5.7

//映射目录
docker run -p 3306:3306 --name mysql \
-v /home/docker/mysql/conf:/etc/mysql \
-v /home/docker/mysql/logs:/var/log/mysql \
-v /home/docker/mysql/data:/var/lib/mysql \
-e MYSQL_ROOT_PASSWORD=123456 \
-d mysql:5.7

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;快速构建rabbitmq&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//下载rabbitmq  management带访问界面
docker pull rabbitmq:management
//运行镜像
docker run -d --privileged=true --name my_rabbitmq -e RABBITMQ_DEFAULT_USER=admin -e RABBITMQ_DEFAULT_PASS=admin -p 15672:15672 -p 5672:5672 rabbitmq:management

//映射文件启动
docker run -d \
--privileged=true \
--name my_rabbitmq \
-e RABBITMQ_DEFAULT_USER=admin \
-e RABBITMQ_DEFAULT_PASS=admin  \
-p 15672:15672 -p 5672:5672 \
-v /home/docker/rabbitmq/etc:/etc/rabbitmq \
-v /home/docker/rabbitmq/lib:/var/lib/rabbitmq \
-v /home/docker/rabbitmq/log:/var/log/rabbitmq \
rabbitmq:management

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;快速构建nginx&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//下载镜像
docker pull nginx
//运行镜像
docker run -d -p 81:80 --name some-nginx81 some-content-nginx
//拷贝静态资源文件到镜像
docker cp index.html a4274a5e3589:/usr/share/nginx/html/index.html

//配置文件本地
docker run --name nginx -p 80:80 \
-v /home/docker/nginx/nginx.conf:/etc/nginx/nginx.conf \
-v /home/docker/nginx/log:/var/log/nginx \
-v /home/docker/nginx/conf.d/default.conf:/etc/nginx/conf.d/default.conf  \
-d nginx
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;快速构建registry私有库&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//下载镜像包
docker pull registry:latest

//运行镜像并配置宿主机镜像位置
//镜像存储目录/opt/data/registry
docker run -d \
--name=MyRegistry \
-p 5001:5000 \
-v /opt/data/registry:/tmp/registry \
registry:latest
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;快速构建elasticsearch&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//下载镜像
docker pull elasticsearch:7.10.1
//运行镜像
docker run -d -p 9200:9200 -p 9300:9300 --privileged=true -e &amp;quot;discovery.type=single-node&amp;quot; --name MyElasticsearch elasticsearch:7.10.1
//端口解释
# 9200 主要用于外部 http通讯
# 9300 作为tcp协议 es集群就是通过9300通讯
//报错解决
-e &amp;quot;ES_JAVA_OPTS=-Xms64m -Xmx251m&amp;quot;



&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;快速构建kibana&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//下载镜像
docker pull kibana:7.10.1
//运行镜像
docker run -d -p 5601:5601 --net=host --name MyKibana kibana:7.10.1
//运行kibana 并连接es
docker run -d -p 5601:5601 --net=host --name MyKibana -e ELASTICSEARCH_URL=http://127.0.0.1:9200 kibana:7.10.1
//如法加载则
修改镜像配置然后重启
//配置
vim  /usr/share/kibana/config/kibana.yml
elasticsearch.hosts: [ &amp;quot;http://127.0.0.1:9200&amp;quot; ]     es 端口
i18n.locale: &amp;quot;zh-CN&amp;quot;    //设置中文
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;快速构建consul&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//下载镜像
docker pull consul:1.9.9
//运行镜像
docker run --name consul -d -p 8500:8500 consul:1.9.9
//查看consul
192.168.59.131:8500
//运行端口解释
TCP/8300: 8300端口用于服务器节点。客户端通过改端口RPC协议调用服务端节点
TCP/8301: 8301端口用于单个数据中心所有节点之间的互相通信，即对LAN池信息的同步。它便得整个数据中心能够自动发现服务器地址，分布式检测节点故障，时间广播（如领导选举时间）
TCP/UDP/8302: 8302端口用于单个或多个数据中心之间的服务器节点的信息同步，即对WAN池信息的同步。它针对互联网的高延迟进行了优化，能够实现跨数据中心请求。
8500: 8500端口基于HTTP协议，用于API接口或WEB UI访问
8600: 8600端口作为DNS服务器，它使得我们可以通过节点名查询节点信息

&lt;/code&gt;&lt;/pre&gt;
">docker快速构建</a>
      </div>
      
    </div>
    <div class="page">
      <div id="page_ul"></div>
    </div>
  </div>
</div>
<script>
  !function () {
    let searchMask = document.querySelector('#search_mask');
    let result = document.querySelector('#result');
    let items = document.querySelectorAll('.item');
    let searchBox = document.querySelector('#search');
    let statCount = document.querySelector('#stat_count');
    let statTimes = document.querySelector('#stat_times');
    let pageUl = document.querySelector('#page_ul');
    let close = document.querySelector('#close');
    
    close.addEventListener('click', function() {
      searchMask.style = 'display: none;'
    })

    let finds = [];
    let contents = [];
    let pageSize = 10;
    items.forEach(item => {
      let a = item.querySelector('a');
      contents.push({
        title: a.innerText,
        details: a.dataset.c,
        link: a.href
      })
      item.remove();
    })

    function insertStr(soure, start, count) {
      let newStr = soure.substr(start, count);
      return soure.slice(0, start) + '<em>' + newStr + '</em>' + soure.slice(start + count);
    }

    pageUl.addEventListener('click', function(event) {
      let target = event.target;
      if (target.__proto__ === HTMLSpanElement.prototype) {
        appendResults(parseInt(target.dataset.i));
      }
    })

    function appendResults(index) {
      let htmlResult = '';
      let start = index || 0;
      let end = Math.min(start + pageSize, finds.length);
      for (let i = start; i < end; i++) {
        const current = finds[i];
        let html = current.title;
        let sum = 0;
        let positions = current.positions;
        positions.forEach(position => {
          html = insertStr(html, position.start + sum, position.count);
          sum += 9;
        })
        htmlResult += `<div class="item"><a class="result-title" href="${current.link}">${html}</a></div>`;
      }
      result.innerHTML = htmlResult;
      pageUl.innerHTML = '';
      let count = finds.length / pageSize;
      let lis = '';
      if (start !== 0) {
        lis += `<span class="fa fa-angle-left" data-i='${start - 1}'></span>`;
      }
      for (let i = 0; i < count; i++) {
        lis += `<span class='${i === start?'current':''}' data-i='${i}'>${i+1}</span>`;     
      }
      if (start+1 < count) {
        lis += `<span class="fa fa-angle-right" data-i='${start+1}'></span>`;  
      }
      pageUl.innerHTML = lis;
    }

    function search(delay) {
      let timer = null
      return function () {
        clearTimeout(timer)
        timer = setTimeout(() => {
          let start = Date.now();
          let segments = searchBox.value.split(' ').filter(c => c != '');
          if (segments.length <= 0) {
            return;
          }
          finds = [];
          let htmlResult = '';
          contents.forEach(content => {
            let title = content.title;
            let positions = [];
            let find = false;
            segments.forEach((segment) => {
              if (content.title.includes(segment)) {
                find = true;
                positions.push({
                  start: content.title.indexOf(segment),
                  count: segment.length
                })
              } else if (content.details.includes(segment)) {
                find = true;
              }
            });
            if (find) {
              finds.push({
                title: content.title,
                link: content.link,
                positions
              });
            }
          })
          appendResults(0);
          statCount.textContent = finds.length;
          statTimes.textContent = Date.now() - start;
        }, delay)
      }
    }
    searchBox.addEventListener('input', search(200));
  }()
</script>

<input hidden id="copy" />
<script>
  !function () {
    let times = document.querySelectorAll('.publish-time');
    for (let i = 0; i < times.length; i++) {
      let date = times[i].dataset.t;
      let time = Math.floor((new Date().getTime() - new Date(date).getTime()) / 1000);
      if (time < 60) {
        str = time + '秒之前';
      } else if (time < 3600) {
        str = Math.floor(time / 60) + '分钟之前';
      } else if (time >= 3600 && time < 86400) {
        str = Math.floor(time / 3600) + '小时之前';
      } else if (time >= 86400 && time < 259200) {
        str = Math.floor(time / 86400) + '天之前';
      } else {
        str = times[i].textContent;
      }
      times[i].textContent = str;
    }
  }();
</script>

<script>
  let language = '';
  if (language !== '') {
    let map = new Map();
    if (language === 'en') {
      map.set('search', 'Search');
      map.set('category', 'Categories');
      map.set('article', 'Articles');
      map.set('tag', 'Tags');
      map.set('top', 'Top');
      map.set('publish', 'published');
      map.set('minute', ' minutes');
      map.set('read-more', 'Read More');
      map.set('view', 'View');
      map.set('words', ' words');
      map.set('category-in', 'category in');
      map.set('preview', 'Meta');
      map.set('index', 'Toc');
      map.set('no-archives', "You haven't created yet");
      map.set('archives', " articles in total");
      map.set('cloud-tags', " tags in total");
      map.set('copyright', "Copyright: ");
      map.set('author', "Author: ");
      map.set('link', "Link: ");
      map.set('leave-message', "Leave a message");
      map.set('format', "Links Format");
      map.set('site-name', "Name: ");
      map.set('site-link', "Link: ");
      map.set('site-desc', "Desc: ");
      map.set('stat', " related results, taking ");
      map.set('stat-time', " ms");
      map.set('site-img', "Image: ");
    }

    if (map.size > 0) {
      let lanElems = document.querySelectorAll('.language');
      lanElems.forEach(elem => {
        let lan = elem.dataset.lan, text = map.get(lan);
        if (elem.__proto__ === HTMLInputElement.prototype) {
          elem.placeholder = text
        } else {
          if (elem.dataset.count) {
            text = elem.dataset.count + text;
          }
          elem.textContent = text;
        }
      })
    }
  }
  //拿来主义(真香)^_^，Clipboard 实现摘自掘金 https://juejin.im/post/5aefeb6e6fb9a07aa43c20af
  window.Clipboard = (function (window, document, navigator) {
    var textArea,
      copy;

    // 判断是不是ios端
    function isOS() {
      return navigator.userAgent.match(/ipad|iphone/i);
    }
    //创建文本元素
    function createTextArea(text) {
      textArea = document.createElement('textArea');
      textArea.value = text;
      textArea.style.width = 0;
      textArea.style.height = 0;
      textArea.clientHeight = 0;
      textArea.clientWidth = 0;
      document.body.appendChild(textArea);
    }
    //选择内容
    function selectText() {
      var range,
        selection;

      if (isOS()) {
        range = document.createRange();
        range.selectNodeContents(textArea);
        selection = window.getSelection();
        selection.removeAllRanges();
        selection.addRange(range);
        textArea.setSelectionRange(0, 999999);
      } else {
        textArea.select();
      }
    }

    //复制到剪贴板
    function copyToClipboard() {
      try {
        document.execCommand("Copy")
      } catch (err) {
        alert("复制错误！请手动复制！")
      }
      document.body.removeChild(textArea);
    }

    copy = function (text) {
      createTextArea(text);
      selectText();
      copyToClipboard();
    };

    return {
      copy: copy
    };
  })(window, document, navigator);

  function copyCode(e) {
    if (e.srcElement.tagName === 'SPAN' && e.srcElement.classList.contains('copy-code')) {
      let code = e.currentTarget.querySelector('code');
      var text = code.innerText;
      if (e.srcElement.textContent === '复制成功') {
        return;
      }
      e.srcElement.textContent = '复制成功';
      (function (elem) {
        setTimeout(() => {
          if (elem.textContent === '复制成功') {
            elem.textContent = '复制代码'
          }
        }, 1000);
      })(e.srcElement)
      Clipboard.copy(text);
    }
  }

  let pres = document.querySelectorAll('pre');
  pres.forEach(pre => {
    let code = pre.querySelector('code');
    let copyElem = document.createElement('span');
    copyElem.classList.add('copy-code');
    copyElem.textContent = '复制代码';
    pre.appendChild(copyElem);
    pre.onclick = copyCode
  })

</script>
<script src="/media/js/motion.js"></script>


<script src="https://cdn.jsdelivr.net/gh/cferdinandi/smooth-scroll/dist/smooth-scroll.polyfills.min.js"></script>
<script>
  var scroll = new SmoothScroll('a[href*="#"]', {
    speed: 200
  });
</script>


<script src="/media/js/mouse/peace.js"></script>




  <div class="snow-container"></div>
  <script src="/media/js/bg/canvas-nest.js"></script>
  <script>
  const config = {
    color: '255,0,0',
    count: 88,
  };
  // Using config rendering effect at 'element'.
  const cn = new CanvasNest(document.querySelector('.snow-container'), config);
  </script>

</html>